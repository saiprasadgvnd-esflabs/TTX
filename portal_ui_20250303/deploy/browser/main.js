import{a as S,aa as gi,b as B,c as ve,d as pb,e as hb,f as _e}from"./chunk-SD7B2HPL.js";var cC=ve((c6,aC)=>{"use strict";aC.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ui=ve(zi=>{"use strict";var Vp,zO=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];zi.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};zi.getSymbolTotalCodewords=function(n){return zO[n]};zi.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n};zi.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');Vp=n};zi.isKanjiModeEnabled=function(){return typeof Vp<"u"};zi.toSJIS=function(n){return Vp(n)}});var wl=ve(zt=>{"use strict";zt.L={bit:1};zt.M={bit:0};zt.Q={bit:3};zt.H={bit:2};function $O(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return zt.L;case"m":case"medium":return zt.M;case"q":case"quartile":return zt.Q;case"h":case"high":return zt.H;default:throw new Error("Unknown EC Level: "+t)}}zt.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};zt.from=function(n,e){if(zt.isValid(n))return n;try{return $O(n)}catch{return e}}});var uC=ve((u6,dC)=>{"use strict";function lC(){this.buffer=[],this.length=0}lC.prototype={get:function(t){let n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let e=0;e<n;e++)this.putBit((t>>>n-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};dC.exports=lC});var pC=ve((f6,fC)=>{"use strict";function Ms(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Ms.prototype.set=function(t,n,e,i){let r=t*this.size+n;this.data[r]=e,i&&(this.reservedBit[r]=!0)};Ms.prototype.get=function(t,n){return this.data[t*this.size+n]};Ms.prototype.xor=function(t,n,e){this.data[t*this.size+n]^=e};Ms.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]};fC.exports=Ms});var hC=ve(xl=>{"use strict";var WO=ui().getSymbolSize;xl.getRowColCoords=function(n){if(n===1)return[];let e=Math.floor(n/7)+2,i=WO(n),r=i===145?26:Math.ceil((i-13)/(2*e-2))*2,o=[i-7];for(let s=1;s<e-1;s++)o[s]=o[s-1]-r;return o.push(6),o.reverse()};xl.getPositions=function(n){let e=[],i=xl.getRowColCoords(n),r=i.length;for(let o=0;o<r;o++)for(let s=0;s<r;s++)o===0&&s===0||o===0&&s===r-1||o===r-1&&s===0||e.push([i[o],i[s]]);return e}});var _C=ve(gC=>{"use strict";var qO=ui().getSymbolSize,mC=7;gC.getPositions=function(n){let e=qO(n);return[[0,0],[e-mC,0],[0,e-mC]]}});var yC=ve(Ie=>{"use strict";Ie.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var $i={N1:3,N2:3,N3:40,N4:10};Ie.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};Ie.from=function(n){return Ie.isValid(n)?parseInt(n,10):void 0};Ie.getPenaltyN1=function(n){let e=n.size,i=0,r=0,o=0,s=null,a=null;for(let d=0;d<e;d++){r=o=0,s=a=null;for(let p=0;p<e;p++){let h=n.get(d,p);h===s?r++:(r>=5&&(i+=$i.N1+(r-5)),s=h,r=1),h=n.get(p,d),h===a?o++:(o>=5&&(i+=$i.N1+(o-5)),a=h,o=1)}r>=5&&(i+=$i.N1+(r-5)),o>=5&&(i+=$i.N1+(o-5))}return i};Ie.getPenaltyN2=function(n){let e=n.size,i=0;for(let r=0;r<e-1;r++)for(let o=0;o<e-1;o++){let s=n.get(r,o)+n.get(r,o+1)+n.get(r+1,o)+n.get(r+1,o+1);(s===4||s===0)&&i++}return i*$i.N2};Ie.getPenaltyN3=function(n){let e=n.size,i=0,r=0,o=0;for(let s=0;s<e;s++){r=o=0;for(let a=0;a<e;a++)r=r<<1&2047|n.get(s,a),a>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|n.get(a,s),a>=10&&(o===1488||o===93)&&i++}return i*$i.N3};Ie.getPenaltyN4=function(n){let e=0,i=n.data.length;for(let o=0;o<i;o++)e+=n.data[o];return Math.abs(Math.ceil(e*100/i/5)-10)*$i.N4};function HO(t,n,e){switch(t){case Ie.Patterns.PATTERN000:return(n+e)%2===0;case Ie.Patterns.PATTERN001:return n%2===0;case Ie.Patterns.PATTERN010:return e%3===0;case Ie.Patterns.PATTERN011:return(n+e)%3===0;case Ie.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case Ie.Patterns.PATTERN101:return n*e%2+n*e%3===0;case Ie.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case Ie.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Ie.applyMask=function(n,e){let i=e.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)e.isReserved(o,r)||e.xor(o,r,HO(n,o,r))};Ie.getBestMask=function(n,e){let i=Object.keys(Ie.Patterns).length,r=0,o=1/0;for(let s=0;s<i;s++){e(s),Ie.applyMask(s,n);let a=Ie.getPenaltyN1(n)+Ie.getPenaltyN2(n)+Ie.getPenaltyN3(n)+Ie.getPenaltyN4(n);Ie.applyMask(s,n),a<o&&(o=a,r=s)}return r}});var Bp=ve(jp=>{"use strict";var fi=wl(),Ml=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],El=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];jp.getBlocksCount=function(n,e){switch(e){case fi.L:return Ml[(n-1)*4+0];case fi.M:return Ml[(n-1)*4+1];case fi.Q:return Ml[(n-1)*4+2];case fi.H:return Ml[(n-1)*4+3];default:return}};jp.getTotalCodewordsCount=function(n,e){switch(e){case fi.L:return El[(n-1)*4+0];case fi.M:return El[(n-1)*4+1];case fi.Q:return El[(n-1)*4+2];case fi.H:return El[(n-1)*4+3];default:return}}});var vC=ve(Dl=>{"use strict";var Es=new Uint8Array(512),Sl=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)Es[e]=n,Sl[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)Es[e]=Es[e-255]})();Dl.log=function(n){if(n<1)throw new Error("log("+n+")");return Sl[n]};Dl.exp=function(n){return Es[n]};Dl.mul=function(n,e){return n===0||e===0?0:Es[Sl[n]+Sl[e]]}});var CC=ve(Ss=>{"use strict";var Up=vC();Ss.mul=function(n,e){let i=new Uint8Array(n.length+e.length-1);for(let r=0;r<n.length;r++)for(let o=0;o<e.length;o++)i[r+o]^=Up.mul(n[r],e[o]);return i};Ss.mod=function(n,e){let i=new Uint8Array(n);for(;i.length-e.length>=0;){let r=i[0];for(let s=0;s<e.length;s++)i[s]^=Up.mul(e[s],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};Ss.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let i=0;i<n;i++)e=Ss.mul(e,new Uint8Array([1,Up.exp(i)]));return e}});var xC=ve((v6,wC)=>{"use strict";var bC=CC();function zp(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}zp.prototype.initialize=function(n){this.degree=n,this.genPoly=bC.generateECPolynomial(this.degree)};zp.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(n.length+this.degree);e.set(n);let i=bC.mod(e,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};wC.exports=zp});var $p=ve(MC=>{"use strict";MC.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var Wp=ve(Ln=>{"use strict";var EC="[0-9]+",GO="[A-Z $%*+\\-./:]+",Ds="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ds=Ds.replace(/u/g,"\\u");var QO="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ds+`)(?:.|[\r
]))+`;Ln.KANJI=new RegExp(Ds,"g");Ln.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ln.BYTE=new RegExp(QO,"g");Ln.NUMERIC=new RegExp(EC,"g");Ln.ALPHANUMERIC=new RegExp(GO,"g");var YO=new RegExp("^"+Ds+"$"),ZO=new RegExp("^"+EC+"$"),KO=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ln.testKanji=function(n){return YO.test(n)};Ln.testNumeric=function(n){return ZO.test(n)};Ln.testAlphanumeric=function(n){return KO.test(n)}});var pi=ve(Be=>{"use strict";var JO=$p(),qp=Wp();Be.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Be.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Be.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Be.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Be.MIXED={bit:-1};Be.getCharCountIndicator=function(n,e){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!JO.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?n.ccBits[0]:e<27?n.ccBits[1]:n.ccBits[2]};Be.getBestModeForData=function(n){return qp.testNumeric(n)?Be.NUMERIC:qp.testAlphanumeric(n)?Be.ALPHANUMERIC:qp.testKanji(n)?Be.KANJI:Be.BYTE};Be.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};Be.isValid=function(n){return n&&n.bit&&n.ccBits};function XO(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Be.NUMERIC;case"alphanumeric":return Be.ALPHANUMERIC;case"kanji":return Be.KANJI;case"byte":return Be.BYTE;default:throw new Error("Unknown mode: "+t)}}Be.from=function(n,e){if(Be.isValid(n))return n;try{return XO(n)}catch{return e}}});var OC=ve(Wi=>{"use strict";var Il=ui(),eP=Bp(),SC=wl(),hi=pi(),Hp=$p(),IC=7973,DC=Il.getBCHDigit(IC);function tP(t,n,e){for(let i=1;i<=40;i++)if(n<=Wi.getCapacity(i,e,t))return i}function TC(t,n){return hi.getCharCountIndicator(t,n)+4}function nP(t,n){let e=0;return t.forEach(function(i){let r=TC(i.mode,n);e+=r+i.getBitsLength()}),e}function iP(t,n){for(let e=1;e<=40;e++)if(nP(t,e)<=Wi.getCapacity(e,n,hi.MIXED))return e}Wi.from=function(n,e){return Hp.isValid(n)?parseInt(n,10):e};Wi.getCapacity=function(n,e,i){if(!Hp.isValid(n))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=hi.BYTE);let r=Il.getSymbolTotalCodewords(n),o=eP.getTotalCodewordsCount(n,e),s=(r-o)*8;if(i===hi.MIXED)return s;let a=s-TC(i,n);switch(i){case hi.NUMERIC:return Math.floor(a/10*3);case hi.ALPHANUMERIC:return Math.floor(a/11*2);case hi.KANJI:return Math.floor(a/13);case hi.BYTE:default:return Math.floor(a/8)}};Wi.getBestVersionForData=function(n,e){let i,r=SC.from(e,SC.M);if(Array.isArray(n)){if(n.length>1)return iP(n,r);if(n.length===0)return 1;i=n[0]}else i=n;return tP(i.mode,i.getLength(),r)};Wi.getEncodedBits=function(n){if(!Hp.isValid(n)||n<7)throw new Error("Invalid QR Code version");let e=n<<12;for(;Il.getBCHDigit(e)-DC>=0;)e^=IC<<Il.getBCHDigit(e)-DC;return n<<12|e}});var RC=ve(kC=>{"use strict";var Gp=ui(),AC=1335,rP=21522,PC=Gp.getBCHDigit(AC);kC.getEncodedBits=function(n,e){let i=n.bit<<3|e,r=i<<10;for(;Gp.getBCHDigit(r)-PC>=0;)r^=AC<<Gp.getBCHDigit(r)-PC;return(i<<10|r)^rP}});var FC=ve((E6,NC)=>{"use strict";var oP=pi();function eo(t){this.mode=oP.NUMERIC,this.data=t.toString()}eo.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};eo.prototype.getLength=function(){return this.data.length};eo.prototype.getBitsLength=function(){return eo.getBitsLength(this.data.length)};eo.prototype.write=function(n){let e,i,r;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),r=parseInt(i,10),n.put(r,10);let o=this.data.length-e;o>0&&(i=this.data.substr(e),r=parseInt(i,10),n.put(r,o*3+1))};NC.exports=eo});var VC=ve((S6,LC)=>{"use strict";var sP=pi(),Qp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function to(t){this.mode=sP.ALPHANUMERIC,this.data=t}to.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};to.prototype.getLength=function(){return this.data.length};to.prototype.getBitsLength=function(){return to.getBitsLength(this.data.length)};to.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let i=Qp.indexOf(this.data[e])*45;i+=Qp.indexOf(this.data[e+1]),n.put(i,11)}this.data.length%2&&n.put(Qp.indexOf(this.data[e]),6)};LC.exports=to});var BC=ve((D6,jC)=>{"use strict";var aP=pi();function no(t){this.mode=aP.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}no.getBitsLength=function(n){return n*8};no.prototype.getLength=function(){return this.data.length};no.prototype.getBitsLength=function(){return no.getBitsLength(this.data.length)};no.prototype.write=function(t){for(let n=0,e=this.data.length;n<e;n++)t.put(this.data[n],8)};jC.exports=no});var zC=ve((I6,UC)=>{"use strict";var cP=pi(),lP=ui();function io(t){this.mode=cP.KANJI,this.data=t}io.getBitsLength=function(n){return n*13};io.prototype.getLength=function(){return this.data.length};io.prototype.getBitsLength=function(){return io.getBitsLength(this.data.length)};io.prototype.write=function(t){let n;for(n=0;n<this.data.length;n++){let e=lP.toSJIS(this.data[n]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),t.put(e,13)}};UC.exports=io});var $C=ve((T6,Yp)=>{"use strict";var Is={single_source_shortest_paths:function(t,n,e){var i={},r={};r[n]=0;var o=Is.PriorityQueue.make();o.push(n,0);for(var s,a,d,p,h,m,b,C,M;!o.empty();){s=o.pop(),a=s.value,p=s.cost,h=t[a]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],b=p+m,C=r[d],M=typeof r[d]>"u",(M||C>b)&&(r[d]=b,o.push(d,b),i[d]=a))}if(typeof e<"u"&&typeof r[e]>"u"){var k=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(t,n){for(var e=[],i=n,r;i;)e.push(i),r=t[i],i=t[i];return e.reverse(),e},find_path:function(t,n,e){var i=Is.single_source_shortest_paths(t,n,e);return Is.extract_shortest_path_from_predecessor_list(i,e)},PriorityQueue:{make:function(t){var n=Is.PriorityQueue,e={},i;t=t||{};for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e.queue=[],e.sorter=t.sorter||n.default_sorter,e},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var e={value:t,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Yp<"u"&&(Yp.exports=Is)});var KC=ve(ro=>{"use strict";var me=pi(),HC=FC(),GC=VC(),QC=BC(),YC=zC(),Ts=Wp(),Tl=ui(),dP=$C();function WC(t){return unescape(encodeURIComponent(t)).length}function Os(t,n,e){let i=[],r;for(;(r=t.exec(e))!==null;)i.push({data:r[0],index:r.index,mode:n,length:r[0].length});return i}function ZC(t){let n=Os(Ts.NUMERIC,me.NUMERIC,t),e=Os(Ts.ALPHANUMERIC,me.ALPHANUMERIC,t),i,r;return Tl.isKanjiModeEnabled()?(i=Os(Ts.BYTE,me.BYTE,t),r=Os(Ts.KANJI,me.KANJI,t)):(i=Os(Ts.BYTE_KANJI,me.BYTE,t),r=[]),n.concat(e,i,r).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Zp(t,n){switch(n){case me.NUMERIC:return HC.getBitsLength(t);case me.ALPHANUMERIC:return GC.getBitsLength(t);case me.KANJI:return YC.getBitsLength(t);case me.BYTE:return QC.getBitsLength(t)}}function uP(t){return t.reduce(function(n,e){let i=n.length-1>=0?n[n.length-1]:null;return i&&i.mode===e.mode?(n[n.length-1].data+=e.data,n):(n.push(e),n)},[])}function fP(t){let n=[];for(let e=0;e<t.length;e++){let i=t[e];switch(i.mode){case me.NUMERIC:n.push([i,{data:i.data,mode:me.ALPHANUMERIC,length:i.length},{data:i.data,mode:me.BYTE,length:i.length}]);break;case me.ALPHANUMERIC:n.push([i,{data:i.data,mode:me.BYTE,length:i.length}]);break;case me.KANJI:n.push([i,{data:i.data,mode:me.BYTE,length:WC(i.data)}]);break;case me.BYTE:n.push([{data:i.data,mode:me.BYTE,length:WC(i.data)}])}}return n}function pP(t,n){let e={},i={start:{}},r=["start"];for(let o=0;o<t.length;o++){let s=t[o],a=[];for(let d=0;d<s.length;d++){let p=s[d],h=""+o+d;a.push(h),e[h]={node:p,lastCount:0},i[h]={};for(let m=0;m<r.length;m++){let b=r[m];e[b]&&e[b].node.mode===p.mode?(i[b][h]=Zp(e[b].lastCount+p.length,p.mode)-Zp(e[b].lastCount,p.mode),e[b].lastCount+=p.length):(e[b]&&(e[b].lastCount=p.length),i[b][h]=Zp(p.length,p.mode)+4+me.getCharCountIndicator(p.mode,n))}}r=a}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:e}}function qC(t,n){let e,i=me.getBestModeForData(t);if(e=me.from(n,i),e!==me.BYTE&&e.bit<i.bit)throw new Error('"'+t+'" cannot be encoded with mode '+me.toString(e)+`.
 Suggested mode is: `+me.toString(i));switch(e===me.KANJI&&!Tl.isKanjiModeEnabled()&&(e=me.BYTE),e){case me.NUMERIC:return new HC(t);case me.ALPHANUMERIC:return new GC(t);case me.KANJI:return new YC(t);case me.BYTE:return new QC(t)}}ro.fromArray=function(n){return n.reduce(function(e,i){return typeof i=="string"?e.push(qC(i,null)):i.data&&e.push(qC(i.data,i.mode)),e},[])};ro.fromString=function(n,e){let i=ZC(n,Tl.isKanjiModeEnabled()),r=fP(i),o=pP(r,e),s=dP.find_path(o.map,"start","end"),a=[];for(let d=1;d<s.length-1;d++)a.push(o.table[s[d]].node);return ro.fromArray(uP(a))};ro.rawSplit=function(n){return ro.fromArray(ZC(n,Tl.isKanjiModeEnabled()))}});var XC=ve(JC=>{"use strict";var Pl=ui(),Kp=wl(),hP=uC(),mP=pC(),gP=hC(),_P=_C(),eh=yC(),th=Bp(),yP=xC(),Ol=OC(),vP=RC(),CP=pi(),Jp=KC();function bP(t,n){let e=t.size,i=_P.getPositions(n);for(let r=0;r<i.length;r++){let o=i[r][0],s=i[r][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||e<=o+a))for(let d=-1;d<=7;d++)s+d<=-1||e<=s+d||(a>=0&&a<=6&&(d===0||d===6)||d>=0&&d<=6&&(a===0||a===6)||a>=2&&a<=4&&d>=2&&d<=4?t.set(o+a,s+d,!0,!0):t.set(o+a,s+d,!1,!0))}}function wP(t){let n=t.size;for(let e=8;e<n-8;e++){let i=e%2===0;t.set(e,6,i,!0),t.set(6,e,i,!0)}}function xP(t,n){let e=gP.getPositions(n);for(let i=0;i<e.length;i++){let r=e[i][0],o=e[i][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(r+s,o+a,!0,!0):t.set(r+s,o+a,!1,!0)}}function MP(t,n){let e=t.size,i=Ol.getEncodedBits(n),r,o,s;for(let a=0;a<18;a++)r=Math.floor(a/3),o=a%3+e-8-3,s=(i>>a&1)===1,t.set(r,o,s,!0),t.set(o,r,s,!0)}function Xp(t,n,e){let i=t.size,r=vP.getEncodedBits(n,e),o,s;for(o=0;o<15;o++)s=(r>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(i-15+o,8,s,!0),o<8?t.set(8,i-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(i-8,8,1,!0)}function EP(t,n){let e=t.size,i=-1,r=e-1,o=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let d=0;d<2;d++)if(!t.isReserved(r,a-d)){let p=!1;s<n.length&&(p=(n[s]>>>o&1)===1),t.set(r,a-d,p),o--,o===-1&&(s++,o=7)}if(r+=i,r<0||e<=r){r-=i,i=-i;break}}}function SP(t,n,e){let i=new hP;e.forEach(function(d){i.put(d.mode.bit,4),i.put(d.getLength(),CP.getCharCountIndicator(d.mode,t)),d.write(i)});let r=Pl.getSymbolTotalCodewords(t),o=th.getTotalCodewordsCount(t,n),s=(r-o)*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(s-i.getLengthInBits())/8;for(let d=0;d<a;d++)i.put(d%2?17:236,8);return DP(i,t,n)}function DP(t,n,e){let i=Pl.getSymbolTotalCodewords(n),r=th.getTotalCodewordsCount(n,e),o=i-r,s=th.getBlocksCount(n,e),a=i%s,d=s-a,p=Math.floor(i/s),h=Math.floor(o/s),m=h+1,b=p-h,C=new yP(b),M=0,k=new Array(s),F=new Array(s),W=0,de=new Uint8Array(t.buffer);for(let Ye=0;Ye<s;Ye++){let mi=Ye<d?h:m;k[Ye]=de.slice(M,M+mi),F[Ye]=C.encode(k[Ye]),M+=mi,W=Math.max(W,mi)}let Z=new Uint8Array(i),Ee=0,be,ge;for(be=0;be<W;be++)for(ge=0;ge<s;ge++)be<k[ge].length&&(Z[Ee++]=k[ge][be]);for(be=0;be<b;be++)for(ge=0;ge<s;ge++)Z[Ee++]=F[ge][be];return Z}function IP(t,n,e,i){let r;if(Array.isArray(t))r=Jp.fromArray(t);else if(typeof t=="string"){let p=n;if(!p){let h=Jp.rawSplit(t);p=Ol.getBestVersionForData(h,e)}r=Jp.fromString(t,p||40)}else throw new Error("Invalid data");let o=Ol.getBestVersionForData(r,e);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=o;else if(n<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=SP(n,e,r),a=Pl.getSymbolSize(n),d=new mP(a);return bP(d,n),wP(d),xP(d,n),Xp(d,e,0),n>=7&&MP(d,n),EP(d,s),isNaN(i)&&(i=eh.getBestMask(d,Xp.bind(null,d,e))),eh.applyMask(i,d),Xp(d,e,i),{modules:d,version:n,errorCorrectionLevel:e,maskPattern:i,segments:r}}JC.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let i=Kp.M,r,o;return typeof e<"u"&&(i=Kp.from(e.errorCorrectionLevel,Kp.M),r=Ol.from(e.version),o=eh.from(e.maskPattern),e.toSJISFunc&&Pl.setToSJISFunction(e.toSJISFunc)),IP(n,r,i,o)}});var nh=ve(qi=>{"use strict";function eb(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");let e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}qi.getOptions=function(n){n||(n={}),n.color||(n.color={});let e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,r=n.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:eb(n.color.dark||"#000000ff"),light:eb(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};qi.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale};qi.getImageWidth=function(n,e){let i=qi.getScale(n,e);return Math.floor((n+e.margin*2)*i)};qi.qrToImageData=function(n,e,i){let r=e.modules.size,o=e.modules.data,s=qi.getScale(r,i),a=Math.floor((r+i.margin*2)*s),d=i.margin*s,p=[i.color.light,i.color.dark];for(let h=0;h<a;h++)for(let m=0;m<a;m++){let b=(h*a+m)*4,C=i.color.light;if(h>=d&&m>=d&&h<a-d&&m<a-d){let M=Math.floor((h-d)/s),k=Math.floor((m-d)/s);C=p[o[M*r+k]?1:0]}n[b++]=C.r,n[b++]=C.g,n[b++]=C.b,n[b]=C.a}}});var tb=ve(Al=>{"use strict";var ih=nh();function TP(t,n,e){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=e,n.width=e,n.style.height=e+"px",n.style.width=e+"px"}function OP(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Al.render=function(n,e,i){let r=i,o=e;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),e||(o=OP()),r=ih.getOptions(r);let s=ih.getImageWidth(n.modules.size,r),a=o.getContext("2d"),d=a.createImageData(s,s);return ih.qrToImageData(d.data,n,r),TP(a,o,s),a.putImageData(d,0,0),o};Al.renderToDataURL=function(n,e,i){let r=i;typeof r>"u"&&(!e||!e.getContext)&&(r=e,e=void 0),r||(r={});let o=Al.render(n,e,r),s=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(s,a.quality)}});var rb=ve(ib=>{"use strict";var PP=nh();function nb(t,n){let e=t.a/255,i=n+'="'+t.hex+'"';return e<1?i+" "+n+'-opacity="'+e.toFixed(2).slice(1)+'"':i}function rh(t,n,e){let i=t+n;return typeof e<"u"&&(i+=" "+e),i}function AP(t,n,e){let i="",r=0,o=!1,s=0;for(let a=0;a<t.length;a++){let d=Math.floor(a%n),p=Math.floor(a/n);!d&&!o&&(o=!0),t[a]?(s++,a>0&&d>0&&t[a-1]||(i+=o?rh("M",d+e,.5+p+e):rh("m",r,0),r=0,o=!1),d+1<n&&t[a+1]||(i+=rh("h",s),s=0)):r++}return i}ib.render=function(n,e,i){let r=PP.getOptions(e),o=n.modules.size,s=n.modules.data,a=o+r.margin*2,d=r.color.light.a?"<path "+nb(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",p="<path "+nb(r.color.dark,"stroke")+' d="'+AP(s,o,r.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+h+' shape-rendering="crispEdges">'+d+p+`</svg>
`;return typeof i=="function"&&i(null,b),b}});var sb=ve(Ps=>{"use strict";var kP=cC(),oh=XC(),ob=tb(),RP=rb();function sh(t,n,e,i,r){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!kP())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(r=e,e=n,n=i=void 0):s===3&&(n.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=e,e=n,n=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=n,n=i=void 0):s===2&&!n.getContext&&(i=e,e=n,n=void 0),new Promise(function(d,p){try{let h=oh.create(e,i);d(t(h,n,i))}catch(h){p(h)}})}try{let d=oh.create(e,i);r(null,t(d,n,i))}catch(d){r(d)}}Ps.create=oh.create;Ps.toCanvas=sh.bind(null,ob.render);Ps.toDataURL=sh.bind(null,ob.renderToDataURL);Ps.toString=sh.bind(null,function(t,n,e){return RP.render(t,e)})});function lh(t,n){return Object.is(t,n)}var Ue=null,As=!1,ks=1,yn=Symbol("SIGNAL");function ce(t){let n=Ue;return Ue=t,n}function dh(){return Ue}var so={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Nl(t){if(As)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(t);let n=Ue.nextProducerIndex++;if(Ls(Ue),n<Ue.producerNode.length&&Ue.producerNode[n]!==t&&oo(Ue)){let e=Ue.producerNode[n];Fs(e,Ue.producerIndexOfThis[n])}Ue.producerNode[n]!==t&&(Ue.producerNode[n]=t,Ue.producerIndexOfThis[n]=oo(Ue)?hh(t,Ue,n):0),Ue.producerLastReadVersion[n]=t.version}function mb(){ks++}function uh(t){if(!(oo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ks)){if(!t.producerMustRecompute(t)&&!Ll(t)){t.dirty=!1,t.lastCleanEpoch=ks;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ks}}function fh(t){if(t.liveConsumerNode===void 0)return;let n=As;As=!0;try{for(let e of t.liveConsumerNode)e.dirty||gb(e)}finally{As=n}}function ph(){return Ue?.consumerAllowSignalWrites!==!1}function gb(t){t.dirty=!0,fh(t),t.consumerMarkedDirty?.(t)}function Ns(t){return t&&(t.nextProducerIndex=0),ce(t)}function Fl(t,n){if(ce(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(oo(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Fs(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ll(t){Ls(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(uh(e),i!==e.version))return!0}return!1}function Vl(t){if(Ls(t),oo(t))for(let n=0;n<t.producerNode.length;n++)Fs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hh(t,n,e){if(mh(t),t.liveConsumerNode.length===0&&gh(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=hh(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Fs(t,n){if(mh(t),t.liveConsumerNode.length===1&&gh(t))for(let i=0;i<t.producerNode.length;i++)Fs(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Ls(r),r.producerIndexOfThis[i]=n}}function oo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ls(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gh(t){return t.producerNode!==void 0}function _h(t){let n=Object.create(_b);n.computation=t;let e=()=>{if(uh(n),Nl(n),n.value===Rs)throw n.error;return n.value};return e[yn]=n,e}var kl=Symbol("UNSET"),Rl=Symbol("COMPUTING"),Rs=Symbol("ERRORED"),_b=B(S({},so),{value:kl,dirty:!0,error:null,equal:lh,producerMustRecompute(t){return t.value===kl||t.value===Rl},producerRecomputeValue(t){if(t.value===Rl)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Rl;let e=Ns(t),i;try{i=t.computation()}catch(r){i=Rs,t.error=r}finally{Fl(t,e)}if(n!==kl&&n!==Rs&&i!==Rs&&t.equal(n,i)){t.value=n;return}t.value=i,t.version++}});function yb(){throw new Error}var yh=yb;function vh(){yh()}function Ch(t){yh=t}var vb=null;function bh(t){let n=Object.create(xh);n.value=t;let e=()=>(Nl(n),n.value);return e[yn]=n,e}function jl(t,n){ph()||vh(),t.equal(t.value,n)||(t.value=n,Cb(t))}function wh(t,n){ph()||vh(),jl(t,n(t.value))}var xh=B(S({},so),{equal:lh,value:void 0});function Cb(t){t.version++,mb(),fh(t),vb?.()}function H(t){return typeof t=="function"}function Hi(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Vs=Hi(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function _i(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ae=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(H(i))try{i()}catch(o){n=o instanceof Vs?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Mh(o)}catch(s){n=n??[],s instanceof Vs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Vs(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Mh(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&_i(e,n)}remove(n){let{_finalizers:e}=this;e&&_i(e,n),n instanceof t&&n._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Bl=Ae.EMPTY;function js(t){return t instanceof Ae||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Mh(t){H(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gi={setTimeout(t,n,...e){let{delegate:i}=Gi;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Gi;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bs(t){Gi.setTimeout(()=>{let{onUnhandledError:n}=$t;if(n)n(t);else throw t})}function ao(){}var Eh=Ul("C",void 0,void 0);function Sh(t){return Ul("E",void 0,t)}function Dh(t){return Ul("N",t,void 0)}function Ul(t,n,e){return{kind:t,value:n,error:e}}var yi=null;function Qi(t){if($t.useDeprecatedSynchronousErrorHandling){let n=!yi;if(n&&(yi={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=yi;if(yi=null,e)throw i}}else t()}function Ih(t){$t.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=t)}var vi=class extends Ae{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,js(n)&&n.add(this)):this.destination=xb}static create(n,e,i){return new Yi(n,e,i)}next(n){this.isStopped?$l(Dh(n),this):this._next(n)}error(n){this.isStopped?$l(Sh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?$l(Eh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bb=Function.prototype.bind;function zl(t,n){return bb.call(t,n)}var Wl=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Us(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Us(i)}else Us(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Us(e)}}},Yi=class extends vi{constructor(n,e,i){super();let r;if(H(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&zl(n.next,o),error:n.error&&zl(n.error,o),complete:n.complete&&zl(n.complete,o)}):r=n}this.destination=new Wl(r)}};function Us(t){$t.useDeprecatedSynchronousErrorHandling?Ih(t):Bs(t)}function wb(t){throw t}function $l(t,n){let{onStoppedNotification:e}=$t;e&&Gi.setTimeout(()=>e(t,n))}var xb={closed:!0,next:ao,error:wb,complete:ao};var Zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function ql(...t){return Hl(t)}function Hl(t){return t.length===0?et:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var ie=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=Eb(e)?e:new Yi(e,i,r);return Qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=Th(i),new i((r,o)=>{let s=new Yi({next:a=>{try{e(a)}catch(d){o(d),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Zi](){return this}pipe(...e){return Hl(e)(this)}toPromise(e){return e=Th(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function Th(t){var n;return(n=t??$t.Promise)!==null&&n!==void 0?n:Promise}function Mb(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function Eb(t){return t&&t instanceof vi||Mb(t)&&js(t)}function Gl(t){return H(t?.lift)}function re(t){return n=>{if(Gl(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,n,e,i,r){return new Ql(t,n,e,i,r)}var Ql=class extends vi{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(d){n.error(d)}}:super._next,this._error=r?function(a){try{r(a)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ki(){return re((t,n)=>{let e=null;t._refCount++;let i=Q(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var Ji=class extends ie{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Gl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ae;let e=this.getSubject();n.add(this.source.subscribe(Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ae.EMPTY)}return n}refCount(){return Ki()(this)}};var Oh=Hi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new zs(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Oh}next(e){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Bl:(this.currentObservers=null,o.push(e),new Ae(()=>{this.currentObservers=null,_i(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new ie;return e.source=this,e}}return t.create=(n,e)=>new zs(n,e),t})(),zs=class extends we{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Bl}};var Te=class extends we{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var co={now(){return(co.delegate||Date).now()},delegate:void 0};var Xi=class extends we{constructor(n=1/0,e=1/0,i=co){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=e.now(),a=0;for(let d=1;d<i.length&&i[d]<=s;d+=2)a=d;a&&i.splice(0,a+1)}}};var $s=class extends Ae{constructor(n,e){super()}schedule(n,e=0){return this}};var lo={setInterval(t,n,...e){let{delegate:i}=lo;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=lo;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Ws=class extends $s{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return lo.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&lo.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_i(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var er=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};er.now=co.now;var qs=class extends er{constructor(n,e=er.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var Vn=new qs(Ws),Yl=Vn;var Ct=new ie(t=>t.complete());function Hs(t){return t&&H(t.schedule)}function Ph(t){return t[t.length-1]}function Gs(t){return H(Ph(t))?t.pop():void 0}function jn(t){return Hs(Ph(t))?t.pop():void 0}function kh(t,n,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{p(i.next(h))}catch(m){s(m)}}function d(h){try{p(i.throw(h))}catch(m){s(m)}}function p(h){h.done?o(h.value):r(h.value).then(a,d)}p((i=i.apply(t,n||[])).next())})}function Ah(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function Rh(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(C){return function(M){return Promise.resolve(M).then(C,m)}}function a(C,M){i[C]&&(r[C]=function(k){return new Promise(function(F,W){o.push([C,k,F,W])>1||d(C,k)})},M&&(r[C]=M(r[C])))}function d(C,M){try{p(i[C](M))}catch(k){b(o[0][3],k)}}function p(C){C.value instanceof Ci?Promise.resolve(C.value.v).then(h,m):b(o[0][2],C)}function h(C){d("next",C)}function m(C){d("throw",C)}function b(C,M){C(M),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Nh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Ah=="function"?Ah(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,d){s=t[o](s),r(a,d,s.done,s.value)})}}function r(o,s,a,d){Promise.resolve(d).then(function(p){o({value:p,done:a})},s)}}var Qs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ys(t){return H(t?.then)}function Zs(t){return H(t[Zi])}function Ks(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function Js(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xs=Sb();function ea(t){return H(t?.[Xs])}function ta(t){return Rh(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Ci(e.read());if(r)return yield Ci(void 0);yield yield Ci(i)}}finally{e.releaseLock()}})}function na(t){return H(t?.getReader)}function ke(t){if(t instanceof ie)return t;if(t!=null){if(Zs(t))return Db(t);if(Qs(t))return Ib(t);if(Ys(t))return Tb(t);if(Ks(t))return Fh(t);if(ea(t))return Ob(t);if(na(t))return Pb(t)}throw Js(t)}function Db(t){return new ie(n=>{let e=t[Zi]();if(H(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ib(t){return new ie(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function Tb(t){return new ie(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Bs)})}function Ob(t){return new ie(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Fh(t){return new ie(n=>{Ab(t,n).catch(e=>n.error(e))})}function Pb(t){return Fh(ta(t))}function Ab(t,n){var e,i,r,o;return kh(this,void 0,void 0,function*(){try{for(e=Nh(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function ut(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function ia(t,n=0){return re((e,i)=>{e.subscribe(Q(i,r=>ut(i,t,()=>i.next(r),n),()=>ut(i,t,()=>i.complete(),n),r=>ut(i,t,()=>i.error(r),n)))})}function ra(t,n=0){return re((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Lh(t,n){return ke(t).pipe(ra(n),ia(n))}function Vh(t,n){return ke(t).pipe(ra(n),ia(n))}function jh(t,n){return new ie(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function Bh(t,n){return new ie(e=>{let i;return ut(e,n,()=>{i=t[Xs](),ut(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>H(i?.return)&&i.return()})}function oa(t,n){if(!t)throw new Error("Iterable cannot be null");return new ie(e=>{ut(e,n,()=>{let i=t[Symbol.asyncIterator]();ut(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Uh(t,n){return oa(ta(t),n)}function zh(t,n){if(t!=null){if(Zs(t))return Lh(t,n);if(Qs(t))return jh(t,n);if(Ys(t))return Vh(t,n);if(Ks(t))return oa(t,n);if(ea(t))return Bh(t,n);if(na(t))return Uh(t,n)}throw Js(t)}function Oe(t,n){return n?zh(t,n):ke(t)}function $(...t){let n=jn(t);return Oe(t,n)}function Bn(t,n){let e=H(t)?t:()=>t,i=r=>r.error(e());return new ie(n?r=>n.schedule(i,0,r):i)}function Zl(t){return!!t&&(t instanceof ie||H(t.lift)&&H(t.subscribe))}var vn=Hi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $h(t){return t instanceof Date&&!isNaN(t)}function Y(t,n){return re((e,i)=>{let r=0;e.subscribe(Q(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:kb}=Array;function Rb(t,n){return kb(n)?t(...n):t(n)}function sa(t){return Y(n=>Rb(t,n))}var{isArray:Nb}=Array,{getPrototypeOf:Fb,prototype:Lb,keys:Vb}=Object;function aa(t){if(t.length===1){let n=t[0];if(Nb(n))return{args:n,keys:null};if(jb(n)){let e=Vb(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function jb(t){return t&&typeof t=="object"&&Fb(t)===Lb}function ca(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function uo(...t){let n=jn(t),e=Gs(t),{args:i,keys:r}=aa(t);if(i.length===0)return Oe([],n);let o=new ie(Bb(i,n,r?s=>ca(r,s):et));return e?o.pipe(sa(e)):o}function Bb(t,n,e=et){return i=>{Wh(n,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let d=0;d<r;d++)Wh(n,()=>{let p=Oe(t[d],n),h=!1;p.subscribe(Q(i,m=>{o[d]=m,h||(h=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Wh(t,n,e){t?ut(e,t,n):n()}function qh(t,n,e,i,r,o,s,a){let d=[],p=0,h=0,m=!1,b=()=>{m&&!d.length&&!p&&n.complete()},C=k=>p<i?M(k):d.push(k),M=k=>{o&&n.next(k),p++;let F=!1;ke(e(k,h++)).subscribe(Q(n,W=>{r?.(W),o?C(W):n.next(W)},()=>{F=!0},void 0,()=>{if(F)try{for(p--;d.length&&p<i;){let W=d.shift();s?ut(n,s,()=>M(W)):M(W)}b()}catch(W){n.error(W)}}))};return t.subscribe(Q(n,C,()=>{m=!0,b()})),()=>{a?.()}}function Ne(t,n,e=1/0){return H(n)?Ne((i,r)=>Y((o,s)=>n(i,o,r,s))(ke(t(i,r))),e):(typeof n=="number"&&(e=n),re((i,r)=>qh(i,r,t,e)))}function tr(t=1/0){return Ne(et,t)}function Hh(){return tr(1)}function nr(...t){return Hh()(Oe(t,jn(t)))}function la(t){return new ie(n=>{ke(t()).subscribe(n)})}function Kl(...t){let n=Gs(t),{args:e,keys:i}=aa(t),r=new ie(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),d=s,p=s;for(let h=0;h<s;h++){let m=!1;ke(e[h]).subscribe(Q(o,b=>{m||(m=!0,p--),a[h]=b},()=>d--,void 0,()=>{(!d||!m)&&(p||o.next(i?ca(i,a):a),o.complete())}))}});return n?r.pipe(sa(n)):r}function Wt(t=0,n,e=Yl){let i=-1;return n!=null&&(Hs(n)?e=n:i=n),new ie(r=>{let o=$h(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function bi(t=0,n=Vn){return t<0&&(t=0),Wt(t,t,n)}function ft(t,n){return re((e,i)=>{let r=0;e.subscribe(Q(i,o=>t.call(n,o,r++)&&i.next(o)))})}function bt(t){return re((n,e)=>{let i=null,r=!1,o;i=n.subscribe(Q(e,void 0,void 0,s=>{o=ke(t(s,bt(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Gh(t,n,e,i,r){return(o,s)=>{let a=e,d=n,p=0;o.subscribe(Q(s,h=>{let m=p++;d=a?t(d,h,m):(a=!0,h),i&&s.next(d)},r&&(()=>{a&&s.next(d),s.complete()})))}}function Cn(t,n){return H(n)?Ne(t,n,1):Ne(t,1)}function Un(t){return re((n,e)=>{let i=!1;n.subscribe(Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function bn(t){return t<=0?()=>Ct:re((n,e)=>{let i=0;n.subscribe(Q(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Jl(t){return Y(()=>t)}function da(t=Ub){return re((n,e)=>{let i=!1;n.subscribe(Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Ub(){return new vn}function wi(t){return re((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function sn(t,n){let e=arguments.length>=2;return i=>i.pipe(t?ft((r,o)=>t(r,o,i)):et,bn(1),e?Un(n):da(()=>new vn))}function ir(t){return t<=0?()=>Ct:re((n,e)=>{let i=[];n.subscribe(Q(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Xl(t,n){let e=arguments.length>=2;return i=>i.pipe(t?ft((r,o)=>t(r,o,i)):et,ir(1),e?Un(n):da(()=>new vn))}function ed(t=1/0){let n;t&&typeof t=="object"?n=t:n={count:t};let{count:e=1/0,delay:i,resetOnSuccess:r=!1}=n;return e<=0?et:re((o,s)=>{let a=0,d,p=()=>{let h=!1;d=o.subscribe(Q(s,m=>{r&&(a=0),s.next(m)},void 0,m=>{if(a++<e){let b=()=>{d?(d.unsubscribe(),d=null,p()):h=!0};if(i!=null){let C=typeof i=="number"?Wt(i):ke(i(m,a)),M=Q(s,()=>{M.unsubscribe(),b()},()=>{s.complete()});C.subscribe(M)}else b()}else s.error(m)})),h&&(d.unsubscribe(),d=null,p())};p()})}function td(t,n){return re(Gh(t,n,arguments.length>=2,!0))}function nd(...t){let n=jn(t);return re((e,i)=>{(n?nr(t,e,n):nr(t,e)).subscribe(i)})}function Ze(t,n){return re((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(Q(i,d=>{r?.unsubscribe();let p=0,h=o++;ke(t(d,h)).subscribe(r=Q(i,m=>i.next(n?n(d,m,h,p++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function zn(t){return re((n,e)=>{ke(t).subscribe(Q(e,()=>e.complete(),ao)),!e.closed&&n.subscribe(e)})}function ze(t,n,e){let i=H(t)||n||e?{next:t,error:n,complete:e}:t;return i?re((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Q(o,d=>{var p;(p=i.next)===null||p===void 0||p.call(i,d),o.next(d)},()=>{var d;a=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var p;a=!1,(p=i.error)===null||p===void 0||p.call(i,d),o.error(d)},()=>{var d,p;a&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(p=i.finalize)===null||p===void 0||p.call(i)}))}):et}function Qh(t,n){return re((e,i)=>{let{leading:r=!0,trailing:o=!1}=n??{},s=!1,a=null,d=null,p=!1,h=()=>{d?.unsubscribe(),d=null,o&&(C(),p&&i.complete())},m=()=>{d=null,p&&i.complete()},b=M=>d=ke(t(M)).subscribe(Q(i,h,m)),C=()=>{if(s){s=!1;let M=a;a=null,i.next(M),!p&&b(M)}};e.subscribe(Q(i,M=>{s=!0,a=M,!(d&&!d.closed)&&(r?C():b(M))},()=>{p=!0,!(o&&s&&d&&!d.closed)&&i.complete()}))})}function id(t,n=Vn,e){let i=Wt(t,n);return Qh(()=>i,e)}var Am="https://g.co/ng/security#xss",V=class extends Error{constructor(n,e){super(Ha(n,e)),this.code=n}};function Ha(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function bo(t){return{toString:t}.toString()}var ua="__parameters__";function zb(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function km(t,n,e){return bo(()=>{let i=zb(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(d,p,h){let m=d.hasOwnProperty(ua)?d[ua]:Object.defineProperty(d,ua,{value:[]})[ua];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(s),d}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var fo=globalThis;function xe(t){for(let n in t)if(t[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function $b(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function yd(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var Wb=xe({__forward_ref__:xe});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return nt(this())},t}function tt(t){return Rm(t)?t():t}function Rm(t){return typeof t=="function"&&t.hasOwnProperty(Wb)&&t.__forward_ref__===wt}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ga(t){return Yh(t,Fm)||Yh(t,Lm)}function Nm(t){return Ga(t)!==null}function Yh(t,n){return t.hasOwnProperty(n)?t[n]:null}function qb(t){let n=t&&(t[Fm]||t[Lm]);return n||null}function Zh(t){return t&&(t.hasOwnProperty(Kh)||t.hasOwnProperty(Hb))?t[Kh]:null}var Fm=xe({\u0275prov:xe}),Kh=xe({\u0275inj:xe}),Lm=xe({ngInjectableDef:xe}),Hb=xe({ngInjectorDef:xe}),j=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vm(t){return t&&!!t.\u0275providers}var Gb=xe({\u0275cmp:xe}),Qb=xe({\u0275dir:xe}),Yb=xe({\u0275pipe:xe}),Zb=xe({\u0275mod:xe}),Ca=xe({\u0275fac:xe}),ho=xe({__NG_ELEMENT_ID__:xe}),Jh=xe({__NG_ENV_ID__:xe});function dr(t){return typeof t=="string"?t:t==null?"":String(t)}function Kb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dr(t)}function Jb(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new V(-200,t)}function fu(t,n){throw new V(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),vd;function jm(){return vd}function pt(t){let n=vd;return vd=t,n}function Bm(t,n,e){let i=Ga(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&te.Optional)return null;if(n!==void 0)return n;fu(t,"Injector")}var Xb={},mo=Xb,Cd="__NG_DI_FLAG__",ba="ngTempTokenPath",e1="ngTokenPath",t1=/\n/gm,n1="\u0275",Xh="__source",cr;function i1(){return cr}function $n(t){let n=cr;return cr=t,n}function r1(t,n=te.Default){if(cr===void 0)throw new V(-203,!1);return cr===null?Bm(t,void 0,n):cr.get(t,n&te.Optional?null:void 0,n)}function U(t,n=te.Default){return(jm()||r1)(tt(t),n)}function A(t,n=te.Default){return U(t,Qa(n))}function Qa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bd(t){let n=[];for(let e=0;e<t.length;e++){let i=tt(t[e]);if(Array.isArray(i)){if(i.length===0)throw new V(900,!1);let r,o=te.Default;for(let s=0;s<i.length;s++){let a=i[s],d=o1(a);typeof d=="number"?d===-1?r=a.token:o|=d:r=a}n.push(U(r,o))}else n.push(U(i))}return n}function Um(t,n){return t[Cd]=n,t.prototype[Cd]=n,t}function o1(t){return t[Cd]}function s1(t,n,e,i){let r=t[ba];throw n[Xh]&&r.unshift(n[Xh]),t.message=a1(`
`+t.message,r,e,i),t[e1]=r,t[ba]=null,t}function a1(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==n1?t.slice(2):t;let r=nt(n);if(Array.isArray(n))r=n.map(nt).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(t1,`
  `)}`}var wo=Um(km("Optional"),8);var Ya=Um(km("SkipSelf"),4);function Ei(t,n){let e=t.hasOwnProperty(Ca);return e?t[Ca]:null}function pu(t,n){t.forEach(e=>Array.isArray(e)?pu(e,n):n(e))}function zm(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function wa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function c1(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function Za(t,n,e){let i=xo(t,n);return i>=0?t[i|1]=e:(i=~i,c1(t,i,n,e)),i}function rd(t,n){let e=xo(t,n);if(e>=0)return t[e|1]}function xo(t,n){return l1(t,n,1)}function l1(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}var ur={},ht=[],fr=new j(""),$m=new j("",-1),Wm=new j(""),xa=class{get(n,e=mo){if(e===mo){let i=new Error(`NullInjectorError: No provider for ${nt(n)}!`);throw i.name="NullInjectorError",i}return e}},qm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qm||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),Hn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hn||{});function d1(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function wd(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{let o=r,s=e[++i];f1(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function u1(t){return t===3||t===4||t===6}function f1(t){return t.charCodeAt(0)===64}function go(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?em(t,e,r,null,n[++i]):em(t,e,r,null,null))}}return t}function em(t,n,e,i,r){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var Hm="ng-template";function p1(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&d1(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(hu(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function hu(t){return t.type===4&&t.value!==Hm}function h1(t,n,e){let i=t.type===4&&!e?Hm:t.value;return n===i}function m1(t,n,e){let i=4,r=t.attrs,o=r!==null?y1(r):0,s=!1;for(let a=0;a<n.length;a++){let d=n[a];if(typeof d=="number"){if(!s&&!qt(i)&&!qt(d))return!1;if(s&&qt(d))continue;s=!1,i=d|i&1;continue}if(!s)if(i&4){if(i=2|i&1,d!==""&&!h1(t,d,e)||d===""&&n.length===1){if(qt(i))return!1;s=!0}}else if(i&8){if(r===null||!p1(t,r,d,e)){if(qt(i))return!1;s=!0}}else{let p=n[++a],h=g1(d,r,hu(t),e);if(h===-1){if(qt(i))return!1;s=!0;continue}if(p!==""){let m;if(h>o?m="":m=r[h+1].toLowerCase(),i&2&&p!==m){if(qt(i))return!1;s=!0}}}}return qt(i)||s}function qt(t){return(t&1)===0}function g1(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return v1(n,t)}function _1(t,n,e=!1){for(let i=0;i<n.length;i++)if(m1(t,n[i],e))return!0;return!1}function y1(t){for(let n=0;n<t.length;n++){let e=t[n];if(u1(e))return n}return t.length}function v1(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function tm(t,n){return t?":not("+n.trim()+")":n}function C1(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!qt(s)&&(n+=tm(o,r),r=""),i=s,o=o||!qt(i);e++}return r!==""&&(n+=tm(o,r)),n}function b1(t){return t.map(C1).join(",")}function w1(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!qt(r))break;r=o}i++}return{attrs:n,classes:e}}function X(t){return bo(()=>{let n=Km(t),e=B(S({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});Jm(e);let i=t.dependencies;return e.directiveDefs=im(i,!1),e.pipeDefs=im(i,!0),e.id=E1(e),e})}function x1(t){return Gn(t)||Gm(t)}function M1(t){return t!==null}function Zt(t){return bo(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nm(t,n){if(t==null)return ur;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Hn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==Hn.None?[i,a]:i,n[o]=s):e[o]=i}return e}function ye(t){return bo(()=>{let n=Km(t);return Jm(n),n})}function xr(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gn(t){return t[Gb]||null}function Gm(t){return t[Qb]||null}function Qm(t){return t[Yb]||null}function Ym(t){let n=Gn(t)||Gm(t)||Qm(t);return n!==null?n.standalone:!1}function Zm(t,n){let e=t[Zb]||null;if(!e&&n===!0)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return e}function Km(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nm(t.inputs,n),outputs:nm(t.outputs),debugInfo:null}}function Jm(t){t.features?.forEach(n=>n(t))}function im(t,n){if(!t)return null;let e=n?Qm:x1;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(M1)}function E1(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Mo(t){return{\u0275providers:t}}function mu(...t){return{\u0275providers:Xm(!0,t),\u0275fromNgModule:!0}}function Xm(t,...n){let e=[],i=new Set,r,o=s=>{e.push(s)};return pu(n,s=>{let a=s;xd(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&eg(r,o),e}function eg(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];gu(r,o=>{n(o,i)})}}function xd(t,n,e,i){if(t=tt(t),!t)return!1;let r=null,o=Zh(t),s=!o&&Gn(t);if(!o&&!s){let d=t.ngModule;if(o=Zh(d),o)r=d;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let p of d)xd(p,n,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let p;try{pu(o.imports,h=>{xd(h,n,e,i)&&(p||=[],p.push(h))})}finally{}p!==void 0&&eg(p,n)}if(!a){let p=Ei(r)||(()=>new r);n({provide:r,useFactory:p,deps:ht},r),n({provide:Wm,useValue:r,multi:!0},r),n({provide:fr,useValue:()=>U(r),multi:!0},r)}let d=o.providers;if(d!=null&&!a){let p=t;gu(d,h=>{n(h,p)})}}else return!1;return r!==t&&t.providers!==void 0}function gu(t,n){for(let e of t)Vm(e)&&(e=e.\u0275providers),Array.isArray(e)?gu(e,n):n(e)}var S1=xe({provide:String,useValue:xe});function tg(t){return t!==null&&typeof t=="object"&&S1 in t}function D1(t){return!!(t&&t.useExisting)}function I1(t){return!!(t&&t.useFactory)}function pr(t){return typeof t=="function"}function T1(t){return!!t.useClass}var Ka=new j(""),ma={},O1={},od;function _u(){return od===void 0&&(od=new xa),od}var it=class{},_o=class extends it{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ed(n,s=>this.processProvider(s)),this.records.set($m,rr(void 0,this)),r.has("environment")&&this.records.set(it,rr(void 0,this));let o=this.records.get(Ka);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wm,ht,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=ce(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=$n(this),i=pt(void 0),r;try{return n()}finally{$n(e),pt(i)}}get(n,e=mo,i=te.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Jh))return n[Jh](this);i=Qa(i);let r,o=$n(this),s=pt(void 0);try{if(!(i&te.SkipSelf)){let d=this.records.get(n);if(d===void 0){let p=N1(n)&&Ga(n);p&&this.injectableDefInScope(p)?d=rr(Md(n),ma):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d)}let a=i&te.Self?_u():this.parent;return e=i&te.Optional&&e===mo?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ba]=a[ba]||[]).unshift(nt(n)),o)throw a;return s1(a,n,"R3InjectorError",this.source)}else throw a}finally{pt(s),$n(o)}}resolveInjectorInitializers(){let n=ce(null),e=$n(this),i=pt(void 0),r;try{let o=this.get(fr,ht,te.Self);for(let s of o)s()}finally{$n(e),pt(i),ce(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(nt(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(n){n=tt(n);let e=pr(n)?n:tt(n&&n.provide),i=A1(n);if(!pr(n)&&n.multi===!0){let r=this.records.get(e);r||(r=rr(void 0,ma,!0),r.factory=()=>bd(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=ce(null);try{return e.value===ma&&(e.value=O1,e.value=e.factory()),typeof e.value=="object"&&e.value&&R1(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ce(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=tt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Md(t){let n=Ga(t),e=n!==null?n.factory:Ei(t);if(e!==null)return e;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return P1(t);throw new V(204,!1)}function P1(t){if(t.length>0)throw new V(204,!1);let e=qb(t);return e!==null?()=>e.factory(t):()=>new t}function A1(t){if(tg(t))return rr(void 0,t.useValue);{let n=ng(t);return rr(n,ma)}}function ng(t,n,e){let i;if(pr(t)){let r=tt(t);return Ei(r)||Md(r)}else if(tg(t))i=()=>tt(t.useValue);else if(I1(t))i=()=>t.useFactory(...bd(t.deps||[]));else if(D1(t))i=()=>U(tt(t.useExisting));else{let r=tt(t&&(t.useClass||t.provide));if(k1(t))i=()=>new r(...bd(t.deps));else return Ei(r)||Md(r)}return i}function rr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function k1(t){return!!t.deps}function R1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function N1(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Ed(t,n){for(let e of t)Array.isArray(e)?Ed(e,n):e&&Vm(e)?Ed(e.\u0275providers,n):n(e)}function Rt(t,n){t instanceof _o&&t.assertNotDestroyed();let e,i=$n(t),r=pt(void 0);try{return n()}finally{$n(i),pt(r)}}function ig(){return jm()!==void 0||i1()!=null}function F1(t){if(!ig())throw new V(-203,!1)}function L1(t){return typeof t=="function"}var Mn=0,oe=1,q=2,rt=3,Gt=4,Kt=5,Ma=6,Ea=7,Qt=8,hr=9,dn=10,Fe=11,yo=12,rm=13,Mr=14,un=15,mr=16,or=17,gr=18,Ja=19,rg=20,Wn=21,sd=22,Ot=23,At=25,og=1;var Si=7,Sa=8,Da=9,Pt=10,Ia=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ia||{});function qn(t){return Array.isArray(t)&&typeof t[og]=="object"}function En(t){return Array.isArray(t)&&t[og]===!0}function sg(t){return(t.flags&4)!==0}function Xa(t){return t.componentOffset>-1}function yu(t){return(t.flags&1)===1}function Qn(t){return!!t.template}function Sd(t){return(t[q]&512)!==0}var Dd=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function ag(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function ot(){return cg}function cg(t){return t.type.prototype.ngOnChanges&&(t.setInput=j1),V1}ot.ngInherit=!0;function V1(){let t=dg(this),n=t?.current;if(n){let e=t.previous;if(e===ur)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function j1(t,n,e,i,r){let o=this.declaredInputs[i],s=dg(t)||B1(t,{previous:ur,current:null}),a=s.current||(s.current={}),d=s.previous,p=d[o];a[o]=new Dd(p&&p.currentValue,e,d===ur),ag(t,n,r,e)}var lg="__ngSimpleChanges__";function dg(t){return t[lg]||null}function B1(t,n){return t[lg]=n}var om=null;var an=function(t,n,e){om?.(t,n,e)},ug="svg",U1="math";function fn(t){for(;Array.isArray(t);)t=t[Mn];return t}function fg(t,n){return fn(n[t])}function Nt(t,n){return fn(n[t.index])}function pg(t,n){return t.data[n]}function vu(t,n){return t[n]}function Zn(t,n){let e=n[t];return qn(e)?e:e[Mn]}function Cu(t){return(t[q]&128)===128}function z1(t){return En(t[rt])}function Ta(t,n){return n==null?null:t[n]}function hg(t){t[or]=0}function mg(t){t[q]&1024||(t[q]|=1024,Cu(t)&&tc(t))}function $1(t,n){for(;t>0;)n=n[Mr],t--;return n}function ec(t){return!!(t[q]&9216||t[Ot]?.dirty)}function Id(t){t[dn].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),ec(t)&&tc(t)}function tc(t){t[dn].changeDetectionScheduler?.notify(0);let n=Di(t);for(;n!==null&&!(n[q]&8192||(n[q]|=8192,!Cu(n)));)n=Di(n)}function gg(t,n){if((t[q]&256)===256)throw new V(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(n)}function W1(t,n){if(t[Wn]===null)return;let e=t[Wn].indexOf(n);e!==-1&&t[Wn].splice(e,1)}function Di(t){let n=t[rt];return En(n)?n[rt]:n}var K={lFrame:Eg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _g=!1;function q1(){return K.lFrame.elementDepthCount}function H1(){K.lFrame.elementDepthCount++}function G1(){K.lFrame.elementDepthCount--}function yg(){return K.bindingsEnabled}function Q1(){return K.skipHydrationRootTNode!==null}function Y1(t){return K.skipHydrationRootTNode===t}function Z1(){K.skipHydrationRootTNode=null}function le(){return K.lFrame.lView}function st(){return K.lFrame.tView}function y(t){return K.lFrame.contextLView=t,t[Qt]}function v(t){return K.lFrame.contextLView=null,t}function mt(){let t=vg();for(;t!==null&&t.type===64;)t=t.parent;return t}function vg(){return K.lFrame.currentTNode}function K1(){let t=K.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Eo(t,n){let e=K.lFrame;e.currentTNode=t,e.isParent=n}function Cg(){return K.lFrame.isParent}function J1(){K.lFrame.isParent=!1}function X1(){return K.lFrame.contextLView}function bg(){return _g}function sm(t){_g=t}function nc(){let t=K.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ew(){return K.lFrame.bindingIndex}function tw(t){return K.lFrame.bindingIndex=t}function ic(){return K.lFrame.bindingIndex++}function bu(t){let n=K.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function nw(){return K.lFrame.inI18n}function iw(t,n){let e=K.lFrame;e.bindingIndex=e.bindingRootIndex=t,Td(n)}function rw(){return K.lFrame.currentDirectiveIndex}function Td(t){K.lFrame.currentDirectiveIndex=t}function ow(t){let n=K.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function wg(t){K.lFrame.currentQueryIndex=t}function sw(t){let n=t[oe];return n.type===2?n.declTNode:n.type===1?t[Kt]:null}function xg(t,n,e){if(e&te.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&te.Host);)if(r=sw(o),r===null||(o=o[Mr],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=K.lFrame=Mg();return i.currentTNode=n,i.lView=t,!0}function wu(t){let n=Mg(),e=t[oe];K.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Mg(){let t=K.lFrame,n=t===null?null:t.child;return n===null?Eg(t):n}function Eg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Sg(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Dg=Sg;function xu(){let t=Sg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aw(t){return(K.lFrame.contextLView=$1(t,K.lFrame.contextLView))[Qt]}function Kn(){return K.lFrame.selectedIndex}function Ii(t){K.lFrame.selectedIndex=t}function Mu(){let t=K.lFrame;return pg(t.tView,t.selectedIndex)}function Ig(){K.lFrame.currentNamespace=ug}function Tg(){cw()}function cw(){K.lFrame.currentNamespace=null}function lw(){return K.lFrame.currentNamespace}var Og=!0;function Eu(){return Og}function Su(t){Og=t}function dw(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=cg(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Du(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),d&&(t.viewHooks??=[]).push(-e,d),p&&((t.viewHooks??=[]).push(e,p),(t.viewCheckHooks??=[]).push(e,p)),h!=null&&(t.destroyHooks??=[]).push(e,h)}}function ga(t,n,e){Pg(t,n,3,e)}function _a(t,n,e,i){(t[q]&3)===e&&Pg(t,n,e,i)}function ad(t,n){let e=t[q];(e&3)===n&&(e&=16383,e+=1,t[q]=e)}function Pg(t,n,e,i){let r=i!==void 0?t[or]&65535:0,o=i??-1,s=n.length-1,a=0;for(let d=r;d<s;d++)if(typeof n[d+1]=="number"){if(a=n[d],i!=null&&a>=i)break}else n[d]<0&&(t[or]+=65536),(a<o||o==-1)&&(uw(t,e,n,d),t[or]=(t[or]&4294901760)+d+2),d++}function am(t,n){an(4,t,n);let e=ce(null);try{n.call(t)}finally{ce(e),an(5,t,n)}}function uw(t,n,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=t[s];r?t[q]>>14<t[or]>>16&&(t[q]&3)===n&&(t[q]+=16384,am(a,o)):am(a,o)}var lr=-1,Ti=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function fw(t){return t instanceof Ti}function pw(t){return(t.flags&8)!==0}function hw(t){return(t.flags&16)!==0}var cd={},Od=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Qa(i);let r=this.injector.get(n,cd,i);return r!==cd||e===cd?r:this.parentInjector.get(n,e,i)}};function Ag(t){return t!==lr}function Oa(t){return t&32767}function mw(t){return t>>16}function Pa(t,n){let e=mw(t),i=n;for(;e>0;)i=i[Mr],e--;return i}var Pd=!0;function Aa(t){let n=Pd;return Pd=t,n}var gw=256,kg=gw-1,Rg=5,_w=0,cn={};function yw(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(ho)&&(i=e[ho]),i==null&&(i=e[ho]=_w++);let r=i&kg,o=1<<r;n.data[t+(r>>Rg)]|=o}function ka(t,n){let e=Ng(t,n);if(e!==-1)return e;let i=n[oe];i.firstCreatePass&&(t.injectorIndex=n.length,ld(i.data,t),ld(n,null),ld(i.blueprint,null));let r=Iu(t,n),o=t.injectorIndex;if(Ag(r)){let s=Oa(r),a=Pa(r,n),d=a[oe].data;for(let p=0;p<8;p++)n[o+p]=a[s+p]|d[s+p]}return n[o+8]=r,o}function ld(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ng(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Iu(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=Bg(r),i===null)return lr;if(e++,r=r[Mr],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return lr}function Ad(t,n,e){yw(t,n,e)}function Fg(t,n,e){if(e&te.Optional||t!==void 0)return t;fu(n,"NodeInjector")}function Lg(t,n,e,i){if(e&te.Optional&&i===void 0&&(i=null),!(e&(te.Self|te.Host))){let r=t[hr],o=pt(void 0);try{return r?r.get(n,i,e&te.Optional):Bm(n,i,e&te.Optional)}finally{pt(o)}}return Fg(i,n,e)}function Vg(t,n,e,i=te.Default,r){if(t!==null){if(n[q]&2048&&!(i&te.Self)){let s=xw(t,n,e,i,cn);if(s!==cn)return s}let o=jg(t,n,e,i,cn);if(o!==cn)return o}return Lg(n,e,i,r)}function jg(t,n,e,i,r){let o=bw(e);if(typeof o=="function"){if(!xg(n,t,i))return i&te.Host?Fg(r,e,i):Lg(n,e,i,r);try{let s;if(s=o(i),s==null&&!(i&te.Optional))fu(e);else return s}finally{Dg()}}else if(typeof o=="number"){let s=null,a=Ng(t,n),d=lr,p=i&te.Host?n[un][Kt]:null;for((a===-1||i&te.SkipSelf)&&(d=a===-1?Iu(t,n):n[a+8],d===lr||!lm(i,!1)?a=-1:(s=n[oe],a=Oa(d),n=Pa(d,n)));a!==-1;){let h=n[oe];if(cm(o,a,h.data)){let m=vw(a,n,e,s,i,p);if(m!==cn)return m}d=n[a+8],d!==lr&&lm(i,n[oe].data[a+8]===p)&&cm(o,a,n)?(s=h,a=Oa(d),n=Pa(d,n)):a=-1}}return r}function vw(t,n,e,i,r,o){let s=n[oe],a=s.data[t+8],d=i==null?Xa(a)&&Pd:i!=s&&(a.type&3)!==0,p=r&te.Host&&o===a,h=Cw(a,s,e,d,p);return h!==null?_r(n,s,h,a):cn}function Cw(t,n,e,i,r){let o=t.providerIndexes,s=n.data,a=o&1048575,d=t.directiveStart,p=t.directiveEnd,h=o>>20,m=i?a:a+h,b=r?a+h:p;for(let C=m;C<b;C++){let M=s[C];if(C<d&&e===M||C>=d&&M.type===e)return C}if(r){let C=s[d];if(C&&Qn(C)&&C.type===e)return d}return null}function _r(t,n,e,i){let r=t[e],o=n.data;if(fw(r)){let s=r;s.resolving&&Jb(Kb(o[e]));let a=Aa(s.canSeeViewProviders);s.resolving=!0;let d,p=s.injectImpl?pt(s.injectImpl):null,h=xg(t,i,te.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&dw(e,o[e],n)}finally{p!==null&&pt(p),Aa(a),s.resolving=!1,Dg()}}return r}function bw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ho)?t[ho]:void 0;return typeof n=="number"?n>=0?n&kg:ww:n}function cm(t,n,e){let i=1<<t;return!!(e[n+(t>>Rg)]&i)}function lm(t,n){return!(t&te.Self)&&!(t&te.Host&&n)}var Mi=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Vg(this._tNode,this._lView,n,Qa(i),e)}};function ww(){return new Mi(mt(),le())}function Jt(t){return bo(()=>{let n=t.prototype.constructor,e=n[Ca]||kd(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Ca]||kd(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function kd(t){return Rm(t)?()=>{let n=kd(tt(t));return n&&n()}:Ei(t)}function xw(t,n,e,i,r){let o=t,s=n;for(;o!==null&&s!==null&&s[q]&2048&&!(s[q]&512);){let a=jg(o,s,e,i|te.Self,cn);if(a!==cn)return a;let d=o.parent;if(!d){let p=s[rg];if(p){let h=p.get(e,cn,i);if(h!==cn)return h}d=Bg(s),s=s[Mr]}o=d}return r}function Bg(t){let n=t[oe],e=n.type;return e===2?n.declTNode:e===1?t[Kt]:null}function dm(t,n=null,e=null,i){let r=Ug(t,n,e,i);return r.resolveInjectorInitializers(),r}function Ug(t,n=null,e=null,i,r=new Set){let o=[e||ht,mu(t)];return i=i||(typeof t=="object"?void 0:nt(t)),new _o(o,n||_u(),i||null,r)}var kt=class t{static{this.THROW_IF_NOT_FOUND=mo}static{this.NULL=new xa}static create(n,e){if(Array.isArray(n))return dm({name:""},e,n,"");{let i=n.name??"";return dm({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=L({token:t,providedIn:"any",factory:()=>U($m)})}static{this.__NG_ELEMENT_ID__=-1}};var Mw=new j("");Mw.__NG_ELEMENT_ID__=t=>{let n=mt();if(n===null)throw new V(204,!1);if(n.type&2)return n.value;if(t&te.Optional)return null;throw new V(204,!1)};var Ew="ngOriginalError";function dd(t){return t[Ew]}var zg=!0,Tu=(()=>{class t{static{this.__NG_ELEMENT_ID__=Sw}static{this.__NG_ENV_ID__=e=>e}}return t})(),Rd=class extends Tu{constructor(n){super(),this._lView=n}onDestroy(n){return gg(this._lView,n),()=>W1(this._lView,n)}};function Sw(){return new Rd(le())}var Jn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Nd=class extends we{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,ig()&&(this.destroyRef=A(Tu,{optional:!0})??void 0,this.pendingTasks=A(Jn,{optional:!0})??void 0)}emit(n){let e=ce(null);try{super.next(n)}finally{ce(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&typeof n=="object"){let d=n;r=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Ae&&n.add(a),a}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},z=Nd;function Ra(...t){}function $g(t){let n,e;function i(){t=Ra;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function um(t){return queueMicrotask(()=>t()),()=>{t=Ra}}var Ou="isAngularZone",Na=Ou+"_ID",Dw=0,Pe=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new z(!1),this.onMicrotaskEmpty=new z(!1),this.onStable=new z(!1),this.onError=new z(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=zg}=n;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ow(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ou)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,Iw,Ra,Ra);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},Iw={};function Pu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){$g(()=>{t.callbackScheduled=!1,Fd(t),t.isCheckStableRunning=!0,Pu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Fd(t)}function Ow(t){let n=()=>{Tw(t)},e=Dw++;t._inner=t._inner.fork({name:"angular",properties:{[Ou]:!0,[Na]:e,[Na+e]:!0},onInvokeTask:(i,r,o,s,a,d)=>{if(Pw(d))return i.invokeTask(o,s,a,d);try{return fm(t),i.invokeTask(o,s,a,d)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),pm(t)}},onInvoke:(i,r,o,s,a,d,p)=>{try{return fm(t),i.invoke(o,s,a,d,p)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Aw(d)&&n(),pm(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Fd(t),Pu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Fd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pm(t){t._nesting--,Pu(t)}var Ld=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new z,this.onMicrotaskEmpty=new z,this.onStable=new z,this.onError=new z}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function Pw(t){return Wg(t,"__ignore_ng_zone__")}function Aw(t){return Wg(t,"__scheduler_tick__")}function Wg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var wn=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&dd(n);for(;e&&dd(e);)e=dd(e);return e||null}},kw=new j("",{providedIn:"root",factory:()=>{let t=A(Pe),n=A(wn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Rw(){return rc(mt(),le())}function rc(t,n){return new xt(Nt(t,n))}var xt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=Rw}}return t})();function qg(t){return(t.flags&128)===128}var Hg=new Map,Nw=0;function Fw(){return Nw++}function Lw(t){Hg.set(t[Ja],t)}function Vd(t){Hg.delete(t[Ja])}var hm="__ngContext__";function Oi(t,n){qn(n)?(t[hm]=n[Ja],Lw(n)):t[hm]=n}function Gg(t){return Yg(t[yo])}function Qg(t){return Yg(t[Gt])}function Yg(t){for(;t!==null&&!En(t);)t=t[Gt];return t}var jd;function Zg(t){jd=t}function Vw(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new V(210,!1)}var Au=new j("",{providedIn:"root",factory:()=>jw}),jw="ng",ku=new j(""),hn=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ru=new j("",{providedIn:"root",factory:()=>Vw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Bw="h",Uw="b";var zw=()=>null;function Nu(t,n,e=!1){return zw(t,n,e)}var Kg=!1,$w=new j("",{providedIn:"root",factory:()=>Kg});var Fa=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Am})`}};function So(t){return t instanceof Fa?t.changingThisBreaksApplicationSecurity:t}function Jg(t,n){let e=Ww(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Am})`)}return e===n}function Ww(t){return t instanceof Fa&&t.getTypeName()||null}var qw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xg(t){return t=String(t),t.match(qw)?t:"unsafe:"+t}var Fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fu||{});function e0(t){let n=Hw();return n?n.sanitize(Fu.URL,t)||"":Jg(t,"URL")?So(t):Xg(dr(t))}function Hw(){let t=le();return t&&t[dn].sanitizer}function t0(t){return t instanceof Function?t():t}function Gw(t){return(t??A(kt)).get(hn)==="browser"}var xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xn||{}),Qw;function Lu(t,n){return Qw(t,n)}function sr(t,n,e,i,r){if(i!=null){let o,s=!1;En(i)?o=i:qn(i)&&(s=!0,i=i[Mn]);let a=fn(i);t===0&&e!==null?r==null?s0(n,e,a):La(n,e,a,r||null,!0):t===1&&e!==null?La(n,e,a,r||null,!0):t===2?lx(n,a,s):t===3&&n.destroyNode(a),o!=null&&ux(n,t,o,e,r)}}function Yw(t,n){return t.createText(n)}function Zw(t,n,e){t.setValue(n,e)}function n0(t,n,e){return t.createElement(n,e)}function Kw(t,n){i0(t,n),n[Mn]=null,n[Kt]=null}function Jw(t,n,e,i,r,o){i[Mn]=r,i[Kt]=n,oc(t,i,e,1,r,o)}function i0(t,n){n[dn].changeDetectionScheduler?.notify(9),oc(t,n,n[Fe],2,null,null)}function Xw(t){let n=t[yo];if(!n)return ud(t[oe],t);for(;n;){let e=null;if(qn(n))e=n[yo];else{let i=n[Pt];i&&(e=i)}if(!e){for(;n&&!n[Gt]&&n!==t;)qn(n)&&ud(n[oe],n),n=n[rt];n===null&&(n=t),qn(n)&&ud(n[oe],n),e=n&&n[Gt]}n=e}}function ex(t,n,e,i){let r=Pt+i,o=e.length;i>0&&(e[r-1][Gt]=n),i<o-Pt?(n[Gt]=e[r],zm(e,Pt+i,n)):(e.push(n),n[Gt]=null),n[rt]=e;let s=n[mr];s!==null&&e!==s&&r0(s,n);let a=n[gr];a!==null&&a.insertView(t),Id(n),n[q]|=128}function r0(t,n){let e=t[Da],i=n[rt];if(qn(i))t[q]|=Ia.HasTransplantedViews;else{let r=i[rt][un];n[un]!==r&&(t[q]|=Ia.HasTransplantedViews)}e===null?t[Da]=[n]:e.push(n)}function Vu(t,n){let e=t[Da],i=e.indexOf(n);e.splice(i,1)}function Bd(t,n){if(t.length<=Pt)return;let e=Pt+n,i=t[e];if(i){let r=i[mr];r!==null&&r!==t&&Vu(r,i),n>0&&(t[e-1][Gt]=i[Gt]);let o=wa(t,Pt+n);Kw(i[oe],i);let s=o[gr];s!==null&&s.detachView(o[oe]),i[rt]=null,i[Gt]=null,i[q]&=-129}return i}function o0(t,n){if(!(n[q]&256)){let e=n[Fe];e.destroyNode&&oc(t,n,e,3,null,null),Xw(n)}}function ud(t,n){if(n[q]&256)return;let e=ce(null);try{n[q]&=-129,n[q]|=256,n[Ot]&&Vl(n[Ot]),nx(t,n),tx(t,n),n[oe].type===1&&n[Fe].destroy();let i=n[mr];if(i!==null&&En(n[rt])){i!==n[rt]&&Vu(i,n);let r=n[gr];r!==null&&r.detachView(t)}Vd(n)}finally{ce(e)}}function tx(t,n){let e=t.cleanup,i=n[Ea];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(n[Ea]=null);let r=n[Wn];if(r!==null){n[Wn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function nx(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Ti)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],d=o[s+1];an(4,a,d);try{d.call(a)}finally{an(5,a,d)}}else{an(4,r,o);try{o.call(r)}finally{an(5,r,o)}}}}}function ix(t,n,e){return rx(t,n.parent,e)}function rx(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[Mn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===ln.None||o===ln.Emulated)return null}return Nt(i,e)}}function La(t,n,e,i,r){t.insertBefore(n,e,i,r)}function s0(t,n,e){t.appendChild(n,e)}function mm(t,n,e,i,r){i!==null?La(t,n,e,i,r):s0(t,n,e)}function a0(t,n){return t.parentNode(n)}function ox(t,n){return t.nextSibling(n)}function sx(t,n,e){return cx(t,n,e)}function ax(t,n,e){return t.type&40?Nt(t,e):null}var cx=ax,gm;function ju(t,n,e,i){let r=ix(t,i,n),o=n[Fe],s=i.parent||n[Kt],a=sx(s,i,n);if(r!=null)if(Array.isArray(e))for(let d=0;d<e.length;d++)mm(o,r,e[d],a,!1);else mm(o,r,e,a,!1);gm!==void 0&&gm(o,i,n,e,r)}function po(t,n){if(n!==null){let e=n.type;if(e&3)return Nt(n,t);if(e&4)return Ud(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return po(t,i);{let r=t[n.index];return En(r)?Ud(-1,r):fn(r)}}else{if(e&128)return po(t,n.next);if(e&32)return Lu(n,t)()||fn(t[n.index]);{let i=c0(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Di(t[un]);return po(r,i)}else return po(t,n.next)}}}return null}function c0(t,n){if(n!==null){let i=t[un][Kt],r=n.projection;return i.projection[r]}return null}function Ud(t,n){let e=Pt+t+1;if(e<n.length){let i=n[e],r=i[oe].firstChild;if(r!==null)return po(i,r)}return n[Si]}function lx(t,n,e){t.removeChild(null,n,e)}function Bu(t,n,e,i,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],d=e.type;if(s&&n===0&&(a&&Oi(fn(a),i),e.flags|=2),(e.flags&32)!==32)if(d&8)Bu(t,n,e.child,i,r,o,!1),sr(n,t,r,a,o);else if(d&32){let p=Lu(e,i),h;for(;h=p();)sr(n,t,r,h,o);sr(n,t,r,a,o)}else d&16?dx(t,n,i,e,r,o):sr(n,t,r,a,o);e=s?e.projectionNext:e.next}}function oc(t,n,e,i,r,o){Bu(e,i,t.firstChild,n,r,o,!1)}function dx(t,n,e,i,r,o){let s=e[un],d=s[Kt].projection[i.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++){let h=d[p];sr(n,t,r,h,o)}else{let p=d,h=s[rt];qg(i)&&(p.flags|=128),Bu(t,n,p,h,r,o,!0)}}function ux(t,n,e,i,r){let o=e[Si],s=fn(e);o!==s&&sr(n,t,i,o,r);for(let a=Pt;a<e.length;a++){let d=e[a];oc(d[oe],d,t,n,i,o)}}function fx(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:xn.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=xn.Important),t.setStyle(e,i,r,o))}}function px(t,n,e){t.setAttribute(n,"style",e)}function l0(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function d0(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&wd(t,n,i),r!==null&&l0(t,n,r),o!==null&&px(t,n,o)}var Ft={};function f(t=1){u0(st(),le(),Kn()+t,!1)}function u0(t,n,e,i){if(!i)if((n[q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ga(n,o,e)}else{let o=t.preOrderHooks;o!==null&&_a(n,o,0,e)}Ii(e)}function R(t,n=te.Default){let e=le();if(e===null)return U(t,n);let i=mt();return Vg(i,e,tt(t),n)}function f0(){let t="invalid";throw new Error(t)}function p0(t,n,e,i,r,o){let s=ce(null);try{let a=null;r&Hn.SignalBased&&(a=n[i][yn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Hn.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,i):ag(n,a,i,o)}finally{ce(s)}}function hx(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Ii(~r);else{let o=r,s=e[++i],a=e[++i];iw(s,o);let d=n[o];a(2,d)}}}finally{Ii(-1)}}function sc(t,n,e,i,r,o,s,a,d,p,h){let m=n.blueprint.slice();return m[Mn]=r,m[q]=i|4|128|8|64,(p!==null||t&&t[q]&2048)&&(m[q]|=2048),hg(m),m[rt]=m[Mr]=t,m[Qt]=e,m[dn]=s||t&&t[dn],m[Fe]=a||t&&t[Fe],m[hr]=d||t&&t[hr]||null,m[Kt]=o,m[Ja]=Fw(),m[Ma]=h,m[rg]=p,m[un]=n.type==2?t[un]:m,m}function ac(t,n,e,i,r){let o=t.data[n];if(o===null)o=mx(t,n,e,i,r),nw()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=K1();o.injectorIndex=s===null?-1:s.injectorIndex}return Eo(o,!0),o}function mx(t,n,e,i,r){let o=vg(),s=Cg(),a=s?o:o&&o.parent,d=t.data[n]=Cx(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(s?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function h0(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function m0(t,n,e,i,r){let o=Kn(),s=i&2;try{Ii(-1),s&&n.length>At&&u0(t,n,At,!1),an(s?2:0,r),e(i,r)}finally{Ii(o),an(s?3:1,r)}}function g0(t,n,e){if(sg(n)){let i=ce(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let d=e[s];a.contentQueries(1,d,s)}}}finally{ce(i)}}}function _0(t,n,e){yg()&&(Sx(t,n,e,Nt(e,n)),(e.flags&64)===64&&x0(t,n,e))}function y0(t,n,e=Nt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(n,t):t[s];t[r++]=a}}}function v0(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Uu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Uu(t,n,e,i,r,o,s,a,d,p,h){let m=At+i,b=m+r,C=gx(m,b),M=typeof p=="function"?p():p;return C[oe]={type:t,blueprint:C,template:e,queries:null,viewQuery:a,declTNode:n,data:C.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:M,incompleteFirstPass:!1,ssrId:h}}function gx(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Ft);return e}function _x(t,n,e,i){let o=i.get($w,Kg)||e===ln.ShadowDom,s=t.selectRootElement(n,o);return yx(s),s}function yx(t){vx(t)}var vx=()=>null;function Cx(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Q1()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _m(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,d=Hn.None;Array.isArray(s)?(a=s[0],d=s[1]):a=s;let p=o;if(r!==null){if(!r.hasOwnProperty(o))continue;p=r[o]}t===0?ym(i,e,p,a,d):ym(i,e,p,a)}return i}function ym(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],r!==void 0&&o.push(r)}function bx(t,n,e){let i=n.directiveStart,r=n.directiveEnd,o=t.data,s=n.attrs,a=[],d=null,p=null;for(let h=i;h<r;h++){let m=o[h],b=e?e.get(m):null,C=b?b.inputs:null,M=b?b.outputs:null;d=_m(0,m.inputs,h,d,C),p=_m(1,m.outputs,h,p,M);let k=d!==null&&s!==null&&!hu(n)?Lx(d,h,s):null;a.push(k)}d!==null&&(d.hasOwnProperty("class")&&(n.flags|=8),d.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=d,n.outputs=p}function wx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function C0(t,n,e,i,r,o,s,a){let d=Nt(n,e),p=n.inputs,h;!a&&p!=null&&(h=p[i])?(zu(t,e,h,i,r),Xa(n)&&xx(e,n.index)):n.type&3?(i=wx(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(d,i,r)):n.type&12}function xx(t,n){let e=Zn(n,t);e[q]&16||(e[q]|=64)}function b0(t,n,e,i){if(yg()){let r=i===null?null:{"":-1},o=Ix(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&w0(t,n,e,s,r,a),r&&Tx(e,i,r)}e.mergedAttrs=go(e.mergedAttrs,e.attrs)}function w0(t,n,e,i,r,o){for(let p=0;p<i.length;p++)Ad(ka(e,n),t,i[p].type);Px(e,t.data.length,i.length);for(let p=0;p<i.length;p++){let h=i[p];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,d=h0(t,n,i.length,null);for(let p=0;p<i.length;p++){let h=i[p];e.mergedAttrs=go(e.mergedAttrs,h.hostAttrs),Ax(t,e,n,d,h),Ox(d,h,r),h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let m=h.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),d++}bx(t,e,o)}function Mx(t,n,e,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;Ex(s)!=a&&s.push(a),s.push(e,i,o)}}function Ex(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function Sx(t,n,e,i){let r=e.directiveStart,o=e.directiveEnd;Xa(e)&&kx(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||ka(e,n),Oi(i,n);let s=e.initialInputs;for(let a=r;a<o;a++){let d=t.data[a],p=_r(n,t,a,e);if(Oi(p,n),s!==null&&Fx(n,a-r,p,d,e,s),Qn(d)){let h=Zn(e.index,n);h[Qt]=_r(n,t,a,e)}}}function x0(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=rw();try{Ii(o);for(let a=i;a<r;a++){let d=t.data[a],p=n[a];Td(a),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&Dx(d,p)}}finally{Ii(-1),Td(s)}}function Dx(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Ix(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(_1(n,s.selectors,!1))if(i||(i=[]),Qn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let d=a.length;zd(t,n,d)}else i.unshift(s),zd(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function zd(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Tx(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new V(-301,!1);i.push(n[r],o)}}}function Ox(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Qn(n)&&(e[""]=t)}}function Px(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Ax(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=Ei(r.type,!0)),s=new Ti(o,Qn(r),R);t.blueprint[i]=s,e[i]=s,Mx(t,n,i,h0(t,e,r.hostVars,Ft),r)}function kx(t,n,e){let i=Nt(n,t),r=v0(e),o=t[dn].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=cc(t,sc(t,r,null,s,i,n,null,o.createRenderer(i,e),null,null,null));t[n.index]=a}function Rx(t,n,e,i,r,o){let s=Nt(t,n);Nx(n[Fe],s,o,t.value,e,i,r)}function Nx(t,n,e,i,r,o,s){if(o==null)t.removeAttribute(n,r,e);else{let a=s==null?dr(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function Fx(t,n,e,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let d=s[a++],p=s[a++],h=s[a++],m=s[a++];p0(i,e,d,p,h,m)}}function Lx(t,n,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function M0(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function E0(t,n){let e=t.contentQueries;if(e!==null){let i=ce(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=t.data[s];wg(o),a.contentQueries(2,n[s],s)}}}finally{ce(i)}}}function cc(t,n){return t[yo]?t[rm][Gt]=n:t[yo]=n,t[rm]=n,n}function $d(t,n,e){wg(0);let i=ce(null);try{n(t,e)}finally{ce(i)}}function Vx(t){return t[Ea]??=[]}function jx(t){return t.cleanup??=[]}function S0(t,n){let e=t[hr],i=e?e.get(wn,null):null;i&&i.handleError(n)}function zu(t,n,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],d=e[o++],p=n[s],h=t.data[s];p0(h,p,i,a,d,r)}}function D0(t,n,e){let i=fg(n,t);Zw(t[Fe],i,e)}function Bx(t,n){let e=Zn(n,t),i=e[oe];Ux(i,e);let r=e[Mn];r!==null&&e[Ma]===null&&(e[Ma]=Nu(r,e[hr])),$u(i,e,e[Qt])}function Ux(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function $u(t,n,e){wu(n);try{let i=t.viewQuery;i!==null&&$d(1,i,e);let r=t.template;r!==null&&m0(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[gr]?.finishViewCreation(t),t.staticContentQueries&&E0(t,n),t.staticViewQueries&&$d(2,t.viewQuery,e);let o=t.components;o!==null&&zx(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[q]&=-5,xu()}}function zx(t,n){for(let e=0;e<n.length;e++)Bx(t,n[e])}function $x(t,n,e,i){let r=ce(null);try{let o=n.tView,a=t[q]&4096?4096:16,d=sc(t,o,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),p=t[n.index];d[mr]=p;let h=t[gr];return h!==null&&(d[gr]=h.createEmbeddedView(o)),$u(o,d,e),d}finally{ce(r)}}function vm(t,n){return!n||n.firstChild===null||qg(t)}function Wx(t,n,e,i=!0){let r=n[oe];if(ex(r,n,t,e),i){let s=Ud(e,t),a=n[Fe],d=a0(a,t[Si]);d!==null&&Jw(r,t[Kt],a,n,d,s)}let o=n[Ma];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Va(t,n,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&i.push(fn(o)),En(o)&&qx(o,i);let s=e.type;if(s&8)Va(t,n,e.child,i);else if(s&32){let a=Lu(e,n),d;for(;d=a();)i.push(d)}else if(s&16){let a=c0(n,e);if(Array.isArray(a))i.push(...a);else{let d=Di(n[un]);Va(d[oe],d,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function qx(t,n){for(let e=Pt;e<t.length;e++){let i=t[e],r=i[oe].firstChild;r!==null&&Va(i[oe],i,r,n)}t[Si]!==t[Mn]&&n.push(t[Si])}var I0=[];function Hx(t){return t[Ot]??Gx(t)}function Gx(t){let n=I0.pop()??Object.create(Yx);return n.lView=t,n}function Qx(t){t.lView[Ot]!==t&&(t.lView=null,I0.push(t))}var Yx=B(S({},so),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tc(t.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function Zx(t){let n=t[Ot]??Object.create(Kx);return n.lView=t,n}var Kx=B(S({},so),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Di(t.lView);for(;n&&!T0(n[oe]);)n=Di(n);n&&mg(n)},consumerOnSignalRead(){this.lView[Ot]=this}});function T0(t){return t.type!==2}var Jx=100;function O0(t,n=!0,e=0){let i=t[dn],r=i.rendererFactory,o=!1;o||r.begin?.();try{Xx(t,e)}catch(s){throw n&&S0(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function Xx(t,n){let e=bg();try{sm(!0),Wd(t,n);let i=0;for(;ec(t);){if(i===Jx)throw new V(103,!1);i++,Wd(t,1)}}finally{sm(e)}}function eM(t,n,e,i){let r=n[q];if((r&256)===256)return;let o=!1,s=!1;!o&&n[dn].inlineEffectRunner?.flush(),wu(n);let a=!0,d=null,p=null;o||(T0(t)?(p=Hx(n),d=Ns(p)):dh()===null?(a=!1,p=Zx(n),d=Ns(p)):n[Ot]&&(Vl(n[Ot]),n[Ot]=null));try{hg(n),tw(t.bindingStartIndex),e!==null&&m0(t,n,e,2,i);let h=(r&3)===3;if(!o)if(h){let C=t.preOrderCheckHooks;C!==null&&ga(n,C,null)}else{let C=t.preOrderHooks;C!==null&&_a(n,C,0,null),ad(n,0)}if(s||tM(n),P0(n,0),t.contentQueries!==null&&E0(t,n),!o)if(h){let C=t.contentCheckHooks;C!==null&&ga(n,C)}else{let C=t.contentHooks;C!==null&&_a(n,C,1),ad(n,1)}hx(t,n);let m=t.components;m!==null&&k0(n,m,0);let b=t.viewQuery;if(b!==null&&$d(2,b,i),!o)if(h){let C=t.viewCheckHooks;C!==null&&ga(n,C)}else{let C=t.viewHooks;C!==null&&_a(n,C,2),ad(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[sd]){for(let C of n[sd])C();n[sd]=null}o||(n[q]&=-73)}catch(h){throw o||tc(n),h}finally{p!==null&&(Fl(p,d),a&&Qx(p)),xu()}}function P0(t,n){for(let e=Gg(t);e!==null;e=Qg(e))for(let i=Pt;i<e.length;i++){let r=e[i];A0(r,n)}}function tM(t){for(let n=Gg(t);n!==null;n=Qg(n)){if(!(n[q]&Ia.HasTransplantedViews))continue;let e=n[Da];for(let i=0;i<e.length;i++){let r=e[i];mg(r)}}}function nM(t,n,e){let i=Zn(n,t);A0(i,e)}function A0(t,n){Cu(t)&&Wd(t,n)}function Wd(t,n){let i=t[oe],r=t[q],o=t[Ot],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ll(o)),s||=!1,o&&(o.dirty=!1),t[q]&=-9217,s)eM(i,t,i.template,t[Qt]);else if(r&8192){P0(t,1);let a=i.components;a!==null&&k0(t,a,1)}}function k0(t,n,e){for(let i=0;i<n.length;i++)nM(t,n[i],e)}function Wu(t,n){let e=bg()?64:1088;for(t[dn].changeDetectionScheduler?.notify(n);t;){t[q]|=e;let i=Di(t);if(Sd(t)&&!i)return t;t=i}return null}var Pi=class{get rootNodes(){let n=this._lView,e=n[oe];return Va(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(n){this._lView[Qt]=n}get destroyed(){return(this._lView[q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[rt];if(En(n)){let e=n[Sa],i=e?e.indexOf(this):-1;i>-1&&(Bd(n,i),wa(e,i))}this._attachedToViewContainer=!1}o0(this._lView[oe],this._lView)}onDestroy(n){gg(this._lView,n)}markForCheck(){Wu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Id(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,O0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Sd(this._lView),e=this._lView[mr];e!==null&&!n&&Vu(e,this._lView),i0(this._lView[oe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=n;let e=Sd(this._lView),i=this._lView[mr];i!==null&&!e&&r0(i,this._lView),Id(this._lView)}},Do=(()=>{class t{static{this.__NG_ELEMENT_ID__=oM}}return t})(),iM=Do,rM=class extends iM{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=$x(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Pi(r)}};function oM(){return sM(mt(),le())}function sM(t,n){return t.type&4?new rM(n,t,rc(t,n)):null}var JL=new RegExp(`^(\\d+)*(${Uw}|${Bw})*(.*)`);var aM=()=>null;function Cm(t,n){return aM(t,n)}var yr=class{},qu=new j("",{providedIn:"root",factory:()=>!1});var R0=new j(""),N0=new j(""),qd=class{},ja=class{};function cM(t){let n=Error(`No component factory found for ${nt(t)}.`);return n[lM]=t,n}var lM="ngComponent";var Hd=class{resolveComponentFactory(n){throw cM(n)}},vr=class{static{this.NULL=new Hd}},Cr=class{},mn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>dM()}}return t})();function dM(){let t=le(),n=mt(),e=Zn(n.index,t);return(qn(e)?e:t)[Fe]}var uM=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>null})}}return t})();function Gd(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=yd(r,a);else if(o==2){let d=a,p=n[++s];i=yd(i,d+": "+p+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var Ba=class extends vr{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Gn(n);return new br(e,this.ngModule)}};function bm(t,n){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Hn.None;n?e.push({propName:s,templateName:i,isSignal:(a&Hn.SignalBased)!==0}):e.push({propName:s,templateName:i})}return e}function fM(t){let n=t.toLowerCase();return n==="svg"?ug:n==="math"?U1:null}var br=class extends ja{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=bm(n.inputs,!0);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return bm(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=b1(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=ce(null);try{r=r||this.ngModule;let s=r instanceof it?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Od(n,s):n,d=a.get(Cr,null);if(d===null)throw new V(407,!1);let p=a.get(uM,null),h=a.get(yr,null),m={rendererFactory:d,sanitizer:p,inlineEffectRunner:null,changeDetectionScheduler:h},b=d.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=i?_x(b,i,this.componentDef.encapsulation,a):n0(b,C,fM(C)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let F=null;M!==null&&(F=Nu(M,a,!0));let W=Uu(0,null,null,1,0,null,null,null,null,null,null),de=sc(null,W,null,k,null,null,m,b,a,null,F);wu(de);let Z,Ee,be=null;try{let ge=this.componentDef,Ye,mi=null;ge.findHostDirectiveDefs?(Ye=[],mi=new Map,ge.findHostDirectiveDefs(ge,Ye,mi),Ye.push(ge)):Ye=[ge];let fb=pM(de,M);be=hM(fb,M,ge,Ye,de,m,b),Ee=pg(W,At),M&&_M(b,ge,M,i),e!==void 0&&yM(Ee,this.ngContentSelectors,e),Z=gM(be,ge,Ye,mi,de,[vM]),$u(W,de,null)}catch(ge){throw be!==null&&Vd(be),Vd(de),ge}finally{xu()}return new Qd(this.componentType,Z,rc(Ee,de),de,Ee)}finally{ce(o)}}},Qd=class extends qd{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Pi(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;zu(o[oe],o,r,n,e),this.previousInputValues.set(n,e);let s=Zn(this._tNode.index,o);Wu(s,1)}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function pM(t,n){let e=t[oe],i=At;return t[i]=n,ac(e,i,2,"#host",null)}function hM(t,n,e,i,r,o,s){let a=r[oe];mM(i,t,n,s);let d=null;n!==null&&(d=Nu(n,r[hr]));let p=o.rendererFactory.createRenderer(n,e),h=16;e.signals?h=4096:e.onPush&&(h=64);let m=sc(r,v0(e),null,h,r[t.index],t,o,p,null,null,d);return a.firstCreatePass&&zd(a,t,i.length-1),cc(r,m),r[t.index]=m}function mM(t,n,e,i){for(let r of t)n.mergedAttrs=go(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Gd(n,n.mergedAttrs,!0),e!==null&&d0(i,e,n))}function gM(t,n,e,i,r,o){let s=mt(),a=r[oe],d=Nt(s,r);w0(a,r,s,e,null,i);for(let h=0;h<e.length;h++){let m=s.directiveStart+h,b=_r(r,a,m,s);Oi(b,r)}x0(a,r,s),d&&Oi(d,r);let p=_r(r,a,s.directiveStart+s.componentOffset,s);if(t[Qt]=r[Qt]=p,o!==null)for(let h of o)h(p,n);return g0(a,s,r),p}function _M(t,n,e,i){if(i)wd(t,e,["ng-version","18.2.7"]);else{let{attrs:r,classes:o}=w1(n.selectors[0]);r&&wd(t,e,r),o&&o.length>0&&l0(t,e,o.join(" "))}}function yM(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function vM(){let t=mt();Du(le()[oe],t)}var ki=(()=>{class t{static{this.__NG_ELEMENT_ID__=CM}}return t})();function CM(){let t=mt();return wM(t,le())}var bM=ki,F0=class extends bM{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let n=Iu(this._hostTNode,this._hostLView);if(Ag(n)){let e=Pa(n,this._hostLView),i=Oa(n),r=e[oe].data[i+8];return new Mi(r,e)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=wm(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Cm(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,vm(this._hostTNode,s)),a}createComponent(n,e,i,r,o){let s=n&&!L1(n),a;if(s)a=e;else{let M=e||{};a=M.index,i=M.injector,r=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let d=s?n:new br(Gn(n)),p=i||this.parentInjector;if(!o&&d.ngModule==null){let k=(s?p:this.parentInjector).get(it,null);k&&(o=k)}let h=Gn(d.componentType??{}),m=Cm(this._lContainer,h?.id??null),b=m?.firstChild??null,C=d.create(p,r,b,o);return this.insertImpl(C.hostView,a,vm(this._hostTNode,m)),C}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(z1(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let d=r[rt],p=new F0(d,d[Kt],d[rt]);p.detach(p.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return Wx(s,r,o,i),n.attachToViewContainerRef(),zm(fd(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=wm(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Bd(this._lContainer,e);i&&(wa(fd(this._lContainer),e),o0(i[oe],i))}detach(n){let e=this._adjustIndex(n,-1),i=Bd(this._lContainer,e);return i&&wa(fd(this._lContainer),e)!=null?new Pi(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function wm(t){return t[Sa]}function fd(t){return t[Sa]||(t[Sa]=[])}function wM(t,n){let e,i=n[t.index];return En(i)?e=i:(e=M0(i,n,null,t),n[t.index]=e,cc(n,e)),MM(e,n,t,i),new F0(e,t,n)}function xM(t,n){let e=t[Fe],i=e.createComment(""),r=Nt(n,t),o=a0(e,r);return La(e,o,i,ox(e,r),!1),i}var MM=DM,EM=()=>!1;function SM(t,n,e){return EM(t,n,e)}function DM(t,n,e,i){if(t[Si])return;let r;e.type&8?r=fn(i):r=xM(n,e),t[Si]=r}var xm=new Set;function Er(t){xm.has(t)||(xm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function IM(t){return typeof t=="function"&&t[yn]!==void 0}function Io(t,n){Er("NgSignals");let e=bh(t),i=e[yn];return n?.equal&&(i.equal=n.equal),e.set=r=>jl(i,r),e.update=r=>wh(i,r),e.asReadonly=TM.bind(e),e}function TM(){let t=this[yn];if(t.readonlyFn===void 0){let n=()=>this();n[yn]=t,t.readonlyFn=n}return t.readonlyFn}function L0(t){return IM(t)&&typeof t.set=="function"}function OM(t){return Object.getPrototypeOf(t.prototype).constructor}function at(t){let n=OM(t.type),e=!0,i=[t];for(;n;){let r;if(Qn(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new V(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let s=t;s.inputs=fa(t.inputs),s.inputTransforms=fa(t.inputTransforms),s.declaredInputs=fa(t.declaredInputs),s.outputs=fa(t.outputs);let a=r.hostBindings;a&&NM(t,a);let d=r.viewQuery,p=r.contentQueries;if(d&&kM(t,d),p&&RM(t,p),PM(t,r),$b(t.outputs,r.outputs),Qn(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===at&&(e=!1)}}n=Object.getPrototypeOf(n)}AM(i)}function PM(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function AM(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=go(r.hostAttrs,e=go(e,r.hostAttrs))}}function fa(t){return t===ur?{}:t===ht?[]:t}function kM(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function RM(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function NM(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}var Yn=class{},vo=class{};var Yd=class extends Yn{constructor(n,e,i,r=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ba(this);let o=Zm(n);this._bootstrapComponents=t0(o.bootstrap),this._r3Injector=Ug(n,e,[{provide:Yn,useValue:this},{provide:vr,useValue:this.componentFactoryResolver},...i],nt(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Zd=class extends vo{constructor(n){super(),this.moduleType=n}create(n){return new Yd(this.moduleType,n,[])}};var Ua=class extends Yn{constructor(n){super(),this.componentFactoryResolver=new Ba(this),this.instance=null;let e=new _o([...n.providers,{provide:Yn,useValue:this},{provide:vr,useValue:this.componentFactoryResolver}],n.parent||_u(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function lc(t,n,e=null){return new Ua({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function V0(t){return Hu(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function FM(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function Hu(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function dc(t,n,e){return t[n]=e}function j0(t,n){return t[n]}function pn(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function za(t,n,e,i){let r=pn(t,n,e);return pn(t,n+1,i)||r}function LM(t,n,e,i,r,o){let s=za(t,n,e,i);return za(t,n+2,r,o)||s}function VM(t){return(t.flags&32)===32}function jM(t,n,e,i,r,o,s,a,d){let p=n.consts,h=ac(n,t,4,s||null,a||null);b0(n,e,h,Ta(p,d)),Du(n,h);let m=h.tView=Uu(2,h,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,p,null);return n.queries!==null&&(n.queries.template(n,h),m.queries=n.queries.embeddedTView(h)),h}function BM(t,n,e,i,r,o,s,a,d,p){let h=e+At,m=n.firstCreatePass?jM(h,n,t,i,r,o,s,a,d):n.data[h];Eo(m,!1);let b=UM(n,t,m,e);Eu()&&ju(n,t,b,m),Oi(b,t);let C=M0(b,t,b,m);return t[h]=C,cc(t,C),SM(C,m,t),yu(m)&&_0(n,t,m),d!=null&&y0(t,m,p),m}function E(t,n,e,i,r,o,s,a){let d=le(),p=st(),h=Ta(p.consts,o);return BM(d,p,t,n,e,i,r,h,s,a),E}var UM=zM;function zM(t,n,e,i){return Su(!0),n[Fe].createComment("")}var ar=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ar||{}),B0=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Kd=class t{constructor(){this.ngZone=A(Pe),this.scheduler=A(yr),this.errorHandler=A(wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ar.EarlyRead,ar.Write,ar.MixedReadWrite,ar.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}},Jd=class{constructor(n,e,i,r){this.impl=n,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Gu(t,n){!n?.injector&&F1(Gu);let e=n?.injector??A(kt);return Gw(e)?(Er("NgAfterNextRender"),WM(t,e,n,!0)):qM}function $M(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function WM(t,n,e,i){let r=n.get(B0);r.impl??=n.get(Kd);let o=e?.phase??ar.MixedReadWrite,s=e?.manualCleanup!==!0?n.get(Tu):null,a=new Jd(r.impl,$M(t,o),i,s);return r.impl.register(a),a}var qM={destroy(){}};function Ri(t,n,e,i){let r=le(),o=ic();if(pn(r,o,n)){let s=st(),a=Mu();Rx(a,r,t,n,e,i)}return Ri}function U0(t,n,e,i){return pn(t,ic(),e)?n+dr(e)+i:Ft}function HM(t,n,e,i,r,o){let s=ew(),a=za(t,s,e,r);return bu(2),a?n+dr(e)+i+dr(r)+o:Ft}function pa(t,n){return t<<17|n<<2}function Ai(t){return t>>17&32767}function GM(t){return(t&2)==2}function QM(t,n){return t&131071|n<<17}function Xd(t){return t|2}function wr(t){return(t&131068)>>2}function pd(t,n){return t&-131069|n<<2}function YM(t){return(t&1)===1}function eu(t){return t|1}function ZM(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Ai(s),d=wr(s);t[i]=e;let p=!1,h;if(Array.isArray(e)){let m=e;h=m[1],(h===null||xo(m,h)>0)&&(p=!0)}else h=e;if(r)if(d!==0){let b=Ai(t[a+1]);t[i+1]=pa(b,a),b!==0&&(t[b+1]=pd(t[b+1],i)),t[a+1]=QM(t[a+1],i)}else t[i+1]=pa(a,0),a!==0&&(t[a+1]=pd(t[a+1],i)),a=i;else t[i+1]=pa(d,0),a===0?a=i:t[d+1]=pd(t[d+1],i),d=i;p&&(t[i+1]=Xd(t[i+1])),Mm(t,h,i,!0),Mm(t,h,i,!1),KM(n,h,t,i,o),s=pa(a,d),o?n.classBindings=s:n.styleBindings=s}function KM(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&xo(o,n)>=0&&(e[i+1]=eu(e[i+1]))}function Mm(t,n,e,i){let r=t[e+1],o=n===null,s=i?Ai(r):wr(r),a=!1;for(;s!==0&&(a===!1||o);){let d=t[s],p=t[s+1];JM(d,n)&&(a=!0,t[s+1]=i?eu(p):Xd(p)),s=i?Ai(p):wr(p)}a&&(t[e+1]=i?Xd(r):eu(r))}function JM(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?xo(t,n)>=0:!1}var Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XM(t){return t.substring(Ht.key,Ht.keyEnd)}function eE(t){return tE(t),z0(t,$0(t,0,Ht.textEnd))}function z0(t,n){let e=Ht.textEnd;return e===n?-1:(n=Ht.keyEnd=nE(t,Ht.key=n,e),$0(t,n,e))}function tE(t){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=t.length}function $0(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function nE(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function g(t,n,e){let i=le(),r=ic();if(pn(i,r,n)){let o=st(),s=Mu();C0(o,s,i,t,n,i[Fe],e,!1)}return g}function tu(t,n,e,i,r){let o=n.inputs,s=r?"class":"style";zu(t,e,o[s],s,i)}function $e(t,n,e){return q0(t,n,e,!1),$e}function G(t,n){return q0(t,n,null,!0),G}function Ni(t){H0(cE,W0,t,!0)}function W0(t,n){for(let e=eE(n);e>=0;e=z0(n,e))Za(t,XM(n),!0)}function q0(t,n,e,i){let r=le(),o=st(),s=bu(2);if(o.firstUpdatePass&&Q0(o,t,s,i),n!==Ft&&pn(r,s,n)){let a=o.data[Kn()];Y0(o,a,r,r[Fe],t,r[s+1]=dE(n,e),i,s)}}function H0(t,n,e,i){let r=st(),o=bu(2);r.firstUpdatePass&&Q0(r,null,o,i);let s=le();if(e!==Ft&&pn(s,o,e)){let a=r.data[Kn()];if(Z0(a,i)&&!G0(r,o)){let d=i?a.classesWithoutHost:a.stylesWithoutHost;d!==null&&(e=yd(d,e||"")),tu(r,a,s,e,i)}else lE(r,a,s,s[Fe],s[o+1],s[o+1]=aE(t,n,e),i,o)}}function G0(t,n){return n>=t.expandoStartIndex}function Q0(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[Kn()],s=G0(t,e);Z0(o,i)&&n===null&&!s&&(n=!1),n=iE(r,o,n,i),ZM(r,o,n,e,s,i)}}function iE(t,n,e,i){let r=ow(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=hd(null,t,n,e,i),e=Co(e,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==r)if(e=hd(r,t,n,e,i),o===null){let d=rE(t,n,i);d!==void 0&&Array.isArray(d)&&(d=hd(null,t,n,d[1],i),d=Co(d,n.attrs,i),oE(t,n,i,d))}else o=sE(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function rE(t,n,e){let i=e?n.classBindings:n.styleBindings;if(wr(i)!==0)return t[Ai(i)]}function oE(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Ai(r)]=i}function sE(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Co(i,s,e)}return Co(i,n.attrs,e)}function hd(t,n,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],i=Co(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function Co(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Za(t,s,e?!0:n[++o]))}return t===void 0?null:t}function aE(t,n,e){if(e==null||e==="")return ht;let i=[],r=So(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function cE(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&Za(t,i,e)}function lE(t,n,e,i,r,o,s,a){r===Ft&&(r=ht);let d=0,p=0,h=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;h!==null||m!==null;){let b=d<r.length?r[d+1]:void 0,C=p<o.length?o[p+1]:void 0,M=null,k;h===m?(d+=2,p+=2,b!==C&&(M=m,k=C)):m===null||h!==null&&h<m?(d+=2,M=h):(p+=2,M=m,k=C),M!==null&&Y0(t,n,e,i,M,k,s,a),h=d<r.length?r[d]:null,m=p<o.length?o[p]:null}}function Y0(t,n,e,i,r,o,s,a){if(!(n.type&3))return;let d=t.data,p=d[a+1],h=YM(p)?Em(d,n,e,r,wr(p),s):void 0;if(!$a(h)){$a(o)||GM(p)&&(o=Em(d,null,e,r,a,s));let m=fg(Kn(),e);fx(i,s,m,r,o)}}function Em(t,n,e,i,r,o){let s=n===null,a;for(;r>0;){let d=t[r],p=Array.isArray(d),h=p?d[1]:d,m=h===null,b=e[r+1];b===Ft&&(b=m?ht:void 0);let C=m?rd(b,i):h===i?b:void 0;if(p&&!$a(C)&&(C=rd(d,i)),$a(C)&&(a=C,s))return a;let M=t[r+1];r=s?Ai(M):wr(M)}if(n!==null){let d=o?n.residualClasses:n.residualStyles;d!=null&&(a=rd(d,i))}return a}function $a(t){return t!==void 0}function dE(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=nt(So(t)))),t}function Z0(t,n){return(t.flags&(n?8:16))!==0}function K0(t,n,e){let i=le(),r=U0(i,t,n,e);H0(Za,W0,r,!0)}function uE(t,n,e,i,r,o){let s=n.consts,a=Ta(s,r),d=ac(n,t,2,i,a);return b0(n,e,d,Ta(s,o)),d.attrs!==null&&Gd(d,d.attrs,!1),d.mergedAttrs!==null&&Gd(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function l(t,n,e,i){let r=le(),o=st(),s=At+t,a=r[Fe],d=o.firstCreatePass?uE(s,o,r,n,e,i):o.data[s],p=fE(o,r,d,a,n,t);r[s]=p;let h=yu(d);return Eo(d,!0),d0(a,p,d),!VM(d)&&Eu()&&ju(o,r,p,d),q1()===0&&Oi(p,r),H1(),h&&(_0(o,r,d),g0(o,d,r)),i!==null&&y0(r,d),l}function c(){let t=mt();Cg()?J1():(t=t.parent,Eo(t,!1));let n=t;Y1(n)&&Z1(),G1();let e=st();return e.firstCreatePass&&(Du(e,t),sg(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&pw(n)&&tu(e,n,le(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&hw(n)&&tu(e,n,le(),n.stylesWithoutHost,!1),c}function w(t,n,e,i){return l(t,n,e,i),c(),w}var fE=(t,n,e,i,r,o)=>(Su(!0),n0(i,r,lw()));function N(){return le()}var xi=void 0;function pE(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var hE=["en",[["a","p"],["AM","PM"],xi],[["AM","PM"],xi,xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xi,"{1} 'at' {0}",xi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",pE],md={};function Mt(t){let n=mE(t),e=Sm(n);if(e)return e;let i=n.split("-")[0];if(e=Sm(i),e)return e;if(i==="en")return hE;throw new V(701,!1)}function Sm(t){return t in md||(md[t]=fo.ng&&fo.ng.common&&fo.ng.common.locales&&fo.ng.common.locales[t]),md[t]}var Re=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Re||{});function mE(t){return t.toLowerCase().replace(/_/g,"-")}var Wa="en-US";var gE=Wa;function _E(t){typeof t=="string"&&(gE=t.toLowerCase().replace(/_/g,"-"))}var yE=(t,n,e)=>{};function x(t,n,e,i){let r=le(),o=st(),s=mt();return J0(o,r,r[Fe],s,t,n,i),x}function vE(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=n[Ea],d=r[o+2];return a.length>d?a[d]:null}typeof s=="string"&&(o+=2)}return null}function J0(t,n,e,i,r,o,s){let a=yu(i),p=t.firstCreatePass&&jx(t),h=n[Qt],m=Vx(n),b=!0;if(i.type&3||s){let k=Nt(i,n),F=s?s(k):k,W=m.length,de=s?Ee=>s(fn(Ee[i.index])):i.index,Z=null;if(!s&&a&&(Z=vE(t,n,r,i.index)),Z!==null){let Ee=Z.__ngLastListenerFn__||Z;Ee.__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,b=!1}else{o=Im(i,n,h,o),yE(k,r,o);let Ee=e.listen(F,r,o);m.push(o,Ee),p&&p.push(r,de,W,W+1)}}else o=Im(i,n,h,o);let C=i.outputs,M;if(b&&C!==null&&(M=C[r])){let k=M.length;if(k)for(let F=0;F<k;F+=2){let W=M[F],de=M[F+1],be=n[W][de].subscribe(o),ge=m.length;m.push(o,be),p&&p.push(r,i.index,ge,-(ge+1))}}}function Dm(t,n,e,i){let r=ce(null);try{return an(6,n,e),e(i)!==!1}catch(o){return S0(t,o),!1}finally{an(7,n,e),ce(r)}}function Im(t,n,e,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?Zn(t.index,n):n;Wu(s,5);let a=Dm(n,e,i,o),d=r.__ngNextListenerFn__;for(;d;)a=Dm(n,e,d,o)&&a,d=d.__ngNextListenerFn__;return a}}function _(t=1){return aw(t)}function CE(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function X0(t){let n=X1();return vu(n,At+t)}function u(t,n=""){let e=le(),i=st(),r=t+At,o=i.firstCreatePass?ac(i,r,1,n,null):i.data[r],s=bE(i,e,o,n,t);e[r]=s,Eu()&&ju(i,e,s,o),Eo(o,!1)}var bE=(t,n,e,i,r)=>(Su(!0),Yw(n[Fe],i));function O(t){return P("",t,""),O}function P(t,n,e){let i=le(),r=U0(i,t,n,e);return r!==Ft&&D0(i,Kn(),r),P}function Lt(t,n,e,i,r){let o=le(),s=HM(o,t,n,e,i,r);return s!==Ft&&D0(o,Kn(),s),Lt}function D(t,n,e){L0(n)&&(n=n());let i=le(),r=ic();if(pn(i,r,n)){let o=st(),s=Mu();C0(o,s,i,t,n,i[Fe],e,!1)}return D}function T(t,n){let e=L0(t);return e&&t.set(n),e}function I(t,n){let e=le(),i=st(),r=mt();return J0(i,e,e[Fe],r,t,n),I}function wE(t,n,e){let i=st();if(i.firstCreatePass){let r=Qn(t);nu(e,i.data,i.blueprint,r,!0),nu(n,i.data,i.blueprint,r,!1)}}function nu(t,n,e,i,r){if(t=tt(t),Array.isArray(t))for(let o=0;o<t.length;o++)nu(t[o],n,e,i,r);else{let o=st(),s=le(),a=mt(),d=pr(t)?t:tt(t.provide),p=ng(t),h=a.providerIndexes&1048575,m=a.directiveStart,b=a.providerIndexes>>20;if(pr(t)||!t.multi){let C=new Ti(p,r,R),M=_d(d,n,r?h:h+b,m);M===-1?(Ad(ka(a,s),o,d),gd(o,t,n.length),n.push(d),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(C),s.push(C)):(e[M]=C,s[M]=C)}else{let C=_d(d,n,h+b,m),M=_d(d,n,h,h+b),k=C>=0&&e[C],F=M>=0&&e[M];if(r&&!F||!r&&!k){Ad(ka(a,s),o,d);let W=EE(r?ME:xE,e.length,r,i,p);!r&&F&&(e[M].providerFactory=W),gd(o,t,n.length,0),n.push(d),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(W),s.push(W)}else{let W=e_(e[r?M:C],p,!r&&i);gd(o,t,C>-1?C:M,W)}!r&&i&&F&&e[M].componentProviders++}}}function gd(t,n,e,i){let r=pr(n),o=T1(n);if(r||o){let d=(o?tt(n.useClass):n).prototype.ngOnDestroy;if(d){let p=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let h=p.indexOf(e);h===-1?p.push(e,[i,d]):p[h+1].push(i,d)}else p.push(e,d)}}}function e_(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function _d(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function xE(t,n,e,i){return iu(this.multi,[])}function ME(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=_r(e,e[oe],this.providerFactory.index,i);o=a.slice(0,s),iu(r,o);for(let d=s;d<a.length;d++)o.push(a[d])}else o=[],iu(r,o);return o}function iu(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function EE(t,n,e,i,r){let o=new Ti(t,e,R);return o.multi=[],o.index=n,o.componentProviders=0,e_(o,r,i&&!e),o}function Xt(t,n=[]){return e=>{e.providersResolver=(i,r)=>wE(i,r?r(t):t,n)}}var SE=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=Xm(!1,e.type),r=i.length>0?lc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(U(it))})}}return t})();function ee(t){Er("NgStandalone"),t.getStandaloneInjector=n=>n.get(SE).getOrCreateStandaloneInjector(t)}function Qu(t,n,e){let i=nc()+t,r=le();return r[i]===Ft?dc(r,i,e?n.call(e):n()):j0(r,i)}function t_(t,n,e,i,r,o,s,a){let d=nc()+t,p=le(),h=LM(p,d,e,i,r,o);return pn(p,d+4,s)||h?dc(p,d+5,a?n.call(a,e,i,r,o,s):n(e,i,r,o,s)):j0(p,d+5)}function n_(t,n){let e=t[n];return e===Ft?void 0:e}function DE(t,n,e,i,r,o){let s=n+e;return pn(t,s,r)?dc(t,s+1,o?i.call(o,r):i(r)):n_(t,s+1)}function IE(t,n,e,i,r,o,s){let a=n+e;return za(t,a,r,o)?dc(t,a+2,s?i.call(s,r,o):i(r,o)):n_(t,a+2)}function se(t,n){let e=st(),i,r=t+At;e.firstCreatePass?(i=TE(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Ei(i.type,!0)),s,a=pt(R);try{let d=Aa(!1),p=o();return Aa(d),CE(e,le(),r,p),p}finally{pt(a)}}function TE(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function Le(t,n,e){let i=t+At,r=le(),o=vu(r,i);return i_(r,i)?DE(r,nc(),n,o.transform,e,o):o.transform(e)}function Ke(t,n,e,i){let r=t+At,o=le(),s=vu(o,r);return i_(o,r)?IE(o,nc(),n,s.transform,e,i,s):s.transform(e,i)}function i_(t,n){return t[oe].data[n].pure}var uc=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var r_=new j("");function Xn(t){return!!t&&typeof t.then=="function"}function Yu(t){return!!t&&typeof t.subscribe=="function"}var fc=new j(""),o_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=A(fc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(Xn(o))e.push(o);else if(Yu(o)){let s=new Promise((a,d)=>{o.subscribe({complete:a,error:d})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),To=new j("");function OE(){Ch(()=>{throw new V(600,!1)})}function PE(t){return t.isBoundToModule}var AE=10;function kE(t,n,e){try{let i=e();return Xn(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var ei=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(kw),this.afterRenderManager=A(B0),this.zonelessEnabled=A(qu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new we,this.afterTick=new we,this.componentTypes=[],this.components=[],this.isStable=A(Jn).hasPendingTasks.pipe(Y(e=>!e)),this._injector=A(it)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof ja;if(!this._injector.get(o_).done){let b=!r&&Ym(e),C=!1;throw new V(405,C)}let s;r?s=e:s=this._injector.get(vr).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=PE(s)?void 0:this._injector.get(Yn),d=i||s.selector,p=s.create(kt.NULL,[],d,a),h=p.location.nativeElement,m=p.injector.get(r_,null);return m?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),ya(this.components,p),m?.unregisterApplication(h)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let e=ce(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ce(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Cr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<AE;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)RE(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ec(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;ya(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(To,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ya(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new V(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ya(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function RE(t,n,e,i){if(!e&&!ec(t))return;O0(t,n,e&&!i?0:1)}var ru=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},pc=(()=>{class t{compileModuleSync(e){return new Zd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=Zm(e),o=t0(r.declarations).reduce((s,a)=>{let d=Gn(a);return d&&s.push(new br(d)),s},[]);return new ru(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var NE=(()=>{class t{constructor(){this.zone=A(Pe),this.changeDetectionScheduler=A(yr),this.applicationRef=A(ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FE({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Pe(B(S({},LE()),{scheduleInRootZone:e})),[{provide:Pe,useFactory:t},{provide:fr,multi:!0,useFactory:()=>{let i=A(NE,{optional:!0});return()=>i.initialize()}},{provide:fr,multi:!0,useFactory:()=>{let i=A(VE);return()=>{i.initialize()}}},n===!0?{provide:R0,useValue:!0}:[],{provide:N0,useValue:e??zg}]}function LE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VE=(()=>{class t{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=A(Pe),this.pendingTasks=A(Jn)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jE=(()=>{class t{constructor(){this.appRef=A(ei),this.taskService=A(Jn),this.ngZone=A(Pe),this.zonelessEnabled=A(qu),this.disableScheduling=A(R0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Na):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(N0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ld||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?um:$g;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Na+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,um(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BE(){return typeof $localize<"u"&&$localize.locale||Wa}var Oo=new j("",{providedIn:"root",factory:()=>A(Oo,te.Optional|te.SkipSelf)||BE()});var s_=new j("");function ha(t){return!!t.platformInjector}function UE(t){let n=ha(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Pe);return e.run(()=>{ha(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(wn,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),ha(t)){let o=()=>n.destroy(),s=t.platformInjector.get(s_);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{ya(t.allPlatformModules,t.moduleRef),r.unsubscribe()});return kE(i,e,()=>{let o=n.get(o_);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Oo,Wa);if(_E(s||Wa),ha(t)){let a=n.get(ei);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return zE(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function zE(t,n){let e=t.injector.get(ei);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new V(-403,!1);n.push(t)}var va=null;function $E(t=[],n){return kt.create({name:n,providers:[{provide:Ka,useValue:"platform"},{provide:s_,useValue:new Set([()=>va=null])},...t]})}function WE(t=[]){if(va)return va;let n=$E(t);return va=n,OE(),qE(n),n}function qE(t){t.get(ku,null)?.forEach(e=>e())}var ti=(()=>{class t{static{this.__NG_ELEMENT_ID__=HE}}return t})();function HE(t){return GE(mt(),le(),(t&16)===16)}function GE(t,n,e){if(Xa(t)&&!e){let i=Zn(t.index,n);return new Pi(i,i)}else if(t.type&175){let i=n[un];return new Pi(i,n)}return null}var ou=class{constructor(){}supports(n){return V0(n)}create(n){return new su(n)}},QE=(t,n)=>n,su=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||QE}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<Tm(i,r,o)?e:i,a=Tm(s,r,o),d=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let p=a-r,h=d-r;if(p!=h){for(let b=0;b<p;b++){let C=b<o.length?o[b]:o[b]=0,M=C+b;h<=M&&M<p&&(o[b]=C+1)}let m=s.previousIndex;o[m]=h-p}}a!==d&&n(s,a,d)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!V0(n))throw new V(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,FM(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new au(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new qa),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},au=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cu=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},qa=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new cu,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Tm(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}var lu=class{constructor(){}supports(n){return n instanceof Map||Hu(n)}create(){return new du}},du=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Hu(n)))throw new V(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new uu(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},uu=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Om(){return new Zu([new ou])}var Zu=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:Om})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Om()),deps:[[t,new Ya,new wo]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new V(901,!1)}}return t})();function Pm(){return new Ku([new lu])}var Ku=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:Pm})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Pm()),deps:[[t,new Ya,new wo]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new V(901,!1)}}return t})();function a_(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=WE(i),o=[FE({}),{provide:yr,useExisting:jE},...e||[]],s=new Ua({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return UE({r3Injector:s.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}}function Po(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ao(t,n){Er("NgSignals");let e=_h(t);return n?.equal&&(e[yn].equal=n.equal),e}function en(t){let n=ce(null);try{return t()}finally{ce(n)}}function c_(t){let n=Gn(t);if(!n)return null;let e=new br(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var __=null;function On(){return __}function y_(t){__??=t}var wc=class{};var Je=new j(""),pf=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(JE),providedIn:"platform"})}}return t})(),v_=new j(""),JE=(()=>{class t extends pf{constructor(){super(),this._doc=A(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(e){let i=On().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=On().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function hf(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function l_(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function Dn(t){return t&&t[0]!=="?"?"?"+t:t}var ni=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(mf),providedIn:"root"})}}return t})(),C_=new j(""),mf=(()=>{class t extends ni{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??A(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return hf(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(U(pf),U(C_,8))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gf=(()=>{class t extends ni{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=hf(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(U(pf),U(C_,8))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),Dr=(()=>{class t{constructor(e){this._subject=new z,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=tS(l_(d_(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Dn(i))}normalize(e){return t.stripTrailingSlash(eS(this._basePath,d_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Dn}static{this.joinWithSlash=hf}static{this.stripTrailingSlash=l_}static{this.\u0275fac=function(i){return new(i||t)(U(ni))}}static{this.\u0275prov=L({token:t,factory:()=>XE(),providedIn:"root"})}}return t})();function XE(){return new Dr(U(ni))}function eS(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function d_(t){return t.replace(/\/index.html$/,"")}function tS(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var b_=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(b_||{});var ct=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ct||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),Et=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Et||{}),St={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nS(t){return Mt(t)[Re.LocaleId]}function iS(t,n,e){let i=Mt(t),r=[i[Re.DayPeriodsFormat],i[Re.DayPeriodsStandalone]],o=Vt(r,n);return Vt(o,e)}function rS(t,n,e){let i=Mt(t),r=[i[Re.DaysFormat],i[Re.DaysStandalone]],o=Vt(r,n);return Vt(o,e)}function oS(t,n,e){let i=Mt(t),r=[i[Re.MonthsFormat],i[Re.MonthsStandalone]],o=Vt(r,n);return Vt(o,e)}function sS(t,n){let i=Mt(t)[Re.Eras];return Vt(i,n)}function hc(t,n){let e=Mt(t);return Vt(e[Re.DateFormat],n)}function mc(t,n){let e=Mt(t);return Vt(e[Re.TimeFormat],n)}function gc(t,n){let i=Mt(t)[Re.DateTimeFormat];return Vt(i,n)}function In(t,n){let e=Mt(t),i=e[Re.NumberSymbols][n];if(typeof i>"u"){if(n===St.CurrencyDecimal)return e[Re.NumberSymbols][St.Decimal];if(n===St.CurrencyGroup)return e[Re.NumberSymbols][St.Group]}return i}function aS(t,n){return Mt(t)[Re.NumberFormats][n]}function w_(t){if(!t[Re.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Re.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cS(t){let n=Mt(t);return w_(n),(n[Re.ExtraData][2]||[]).map(i=>typeof i=="string"?Ju(i):[Ju(i[0]),Ju(i[1])])}function lS(t,n,e){let i=Mt(t);w_(i);let r=[i[Re.ExtraData][0],i[Re.ExtraData][1]],o=Vt(r,n)||[];return Vt(o,e)||[]}function Vt(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Ju(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var dS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_c={},uS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Tn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Tn||{}),pe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(pe||{}),fe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(fe||{});function fS(t,n,e,i){let r=bS(t);n=Sn(e,n)||n;let s=[],a;for(;n;)if(a=uS.exec(n),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;n=h}else{s.push(n);break}let d=r.getTimezoneOffset();i&&(d=M_(i,d),r=CS(r,i,!0));let p="";return s.forEach(h=>{let m=yS(h);p+=m?m(r,e,d):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function xc(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Sn(t,n){let e=nS(t);if(_c[e]??={},_c[e][n])return _c[e][n];let i="";switch(n){case"shortDate":i=hc(t,Et.Short);break;case"mediumDate":i=hc(t,Et.Medium);break;case"longDate":i=hc(t,Et.Long);break;case"fullDate":i=hc(t,Et.Full);break;case"shortTime":i=mc(t,Et.Short);break;case"mediumTime":i=mc(t,Et.Medium);break;case"longTime":i=mc(t,Et.Long);break;case"fullTime":i=mc(t,Et.Full);break;case"short":let r=Sn(t,"shortTime"),o=Sn(t,"shortDate");i=yc(gc(t,Et.Short),[r,o]);break;case"medium":let s=Sn(t,"mediumTime"),a=Sn(t,"mediumDate");i=yc(gc(t,Et.Medium),[s,a]);break;case"long":let d=Sn(t,"longTime"),p=Sn(t,"longDate");i=yc(gc(t,Et.Long),[d,p]);break;case"full":let h=Sn(t,"fullTime"),m=Sn(t,"fullDate");i=yc(gc(t,Et.Full),[h,m]);break}return i&&(_c[e][n]=i),i}function yc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function tn(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function pS(t,n){return tn(t,3).substring(0,n)}function Ve(t,n,e=0,i=!1,r=!1){return function(o,s){let a=hS(t,o);if((e>0||a>-e)&&(a+=e),t===pe.Hours)a===0&&e===-12&&(a=12);else if(t===pe.FractionalSeconds)return pS(a,n);let d=In(s,St.MinusSign);return tn(a,n,d,i,r)}}function hS(t,n){switch(t){case pe.FullYear:return n.getFullYear();case pe.Month:return n.getMonth();case pe.Date:return n.getDate();case pe.Hours:return n.getHours();case pe.Minutes:return n.getMinutes();case pe.Seconds:return n.getSeconds();case pe.FractionalSeconds:return n.getMilliseconds();case pe.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,n,e=ct.Format,i=!1){return function(r,o){return mS(r,o,t,n,e,i)}}function mS(t,n,e,i,r,o){switch(e){case fe.Months:return oS(n,r,i)[t.getMonth()];case fe.Days:return rS(n,r,i)[t.getDay()];case fe.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let p=cS(n),h=lS(n,r,i),m=p.findIndex(b=>{if(Array.isArray(b)){let[C,M]=b,k=s>=C.hours&&a>=C.minutes,F=s<M.hours||s===M.hours&&a<M.minutes;if(C.hours<M.hours){if(k&&F)return!0}else if(k||F)return!0}else if(b.hours===s&&b.minutes===a)return!0;return!1});if(m!==-1)return h[m]}return iS(n,r,i)[s<12?0:1];case fe.Eras:return sS(n,i)[t.getFullYear()<=0?0:1];default:let d=e;throw new Error(`unexpected translation type ${d}`)}}function vc(t){return function(n,e,i){let r=-1*i,o=In(e,St.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Tn.Short:return(r>=0?"+":"")+tn(s,2,o)+tn(Math.abs(r%60),2,o);case Tn.ShortGMT:return"GMT"+(r>=0?"+":"")+tn(s,1,o);case Tn.Long:return"GMT"+(r>=0?"+":"")+tn(s,2,o)+":"+tn(Math.abs(r%60),2,o);case Tn.Extended:return i===0?"Z":(r>=0?"+":"")+tn(s,2,o)+":"+tn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var gS=0,bc=4;function _S(t){let n=xc(t,gS,1).getDay();return xc(t,0,1+(n<=bc?bc:bc+7)-n)}function x_(t){let n=t.getDay(),e=n===0?-3:bc-n;return xc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Xu(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=x_(e),s=_S(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return tn(r,t,In(i,St.MinusSign))}}function Cc(t,n=!1){return function(e,i){let o=x_(e).getFullYear();return tn(o,t,In(i,St.MinusSign),n)}}var ef={};function yS(t){if(ef[t])return ef[t];let n;switch(t){case"G":case"GG":case"GGG":n=Se(fe.Eras,Me.Abbreviated);break;case"GGGG":n=Se(fe.Eras,Me.Wide);break;case"GGGGG":n=Se(fe.Eras,Me.Narrow);break;case"y":n=Ve(pe.FullYear,1,0,!1,!0);break;case"yy":n=Ve(pe.FullYear,2,0,!0,!0);break;case"yyy":n=Ve(pe.FullYear,3,0,!1,!0);break;case"yyyy":n=Ve(pe.FullYear,4,0,!1,!0);break;case"Y":n=Cc(1);break;case"YY":n=Cc(2,!0);break;case"YYY":n=Cc(3);break;case"YYYY":n=Cc(4);break;case"M":case"L":n=Ve(pe.Month,1,1);break;case"MM":case"LL":n=Ve(pe.Month,2,1);break;case"MMM":n=Se(fe.Months,Me.Abbreviated);break;case"MMMM":n=Se(fe.Months,Me.Wide);break;case"MMMMM":n=Se(fe.Months,Me.Narrow);break;case"LLL":n=Se(fe.Months,Me.Abbreviated,ct.Standalone);break;case"LLLL":n=Se(fe.Months,Me.Wide,ct.Standalone);break;case"LLLLL":n=Se(fe.Months,Me.Narrow,ct.Standalone);break;case"w":n=Xu(1);break;case"ww":n=Xu(2);break;case"W":n=Xu(1,!0);break;case"d":n=Ve(pe.Date,1);break;case"dd":n=Ve(pe.Date,2);break;case"c":case"cc":n=Ve(pe.Day,1);break;case"ccc":n=Se(fe.Days,Me.Abbreviated,ct.Standalone);break;case"cccc":n=Se(fe.Days,Me.Wide,ct.Standalone);break;case"ccccc":n=Se(fe.Days,Me.Narrow,ct.Standalone);break;case"cccccc":n=Se(fe.Days,Me.Short,ct.Standalone);break;case"E":case"EE":case"EEE":n=Se(fe.Days,Me.Abbreviated);break;case"EEEE":n=Se(fe.Days,Me.Wide);break;case"EEEEE":n=Se(fe.Days,Me.Narrow);break;case"EEEEEE":n=Se(fe.Days,Me.Short);break;case"a":case"aa":case"aaa":n=Se(fe.DayPeriods,Me.Abbreviated);break;case"aaaa":n=Se(fe.DayPeriods,Me.Wide);break;case"aaaaa":n=Se(fe.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":n=Se(fe.DayPeriods,Me.Abbreviated,ct.Standalone,!0);break;case"bbbb":n=Se(fe.DayPeriods,Me.Wide,ct.Standalone,!0);break;case"bbbbb":n=Se(fe.DayPeriods,Me.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":n=Se(fe.DayPeriods,Me.Abbreviated,ct.Format,!0);break;case"BBBB":n=Se(fe.DayPeriods,Me.Wide,ct.Format,!0);break;case"BBBBB":n=Se(fe.DayPeriods,Me.Narrow,ct.Format,!0);break;case"h":n=Ve(pe.Hours,1,-12);break;case"hh":n=Ve(pe.Hours,2,-12);break;case"H":n=Ve(pe.Hours,1);break;case"HH":n=Ve(pe.Hours,2);break;case"m":n=Ve(pe.Minutes,1);break;case"mm":n=Ve(pe.Minutes,2);break;case"s":n=Ve(pe.Seconds,1);break;case"ss":n=Ve(pe.Seconds,2);break;case"S":n=Ve(pe.FractionalSeconds,1);break;case"SS":n=Ve(pe.FractionalSeconds,2);break;case"SSS":n=Ve(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=vc(Tn.Short);break;case"ZZZZZ":n=vc(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=vc(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=vc(Tn.Long);break;default:return null}return ef[t]=n,n}function M_(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function vS(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function CS(t,n,e){let i=e?-1:1,r=t.getTimezoneOffset(),o=M_(n,r);return vS(t,i*(o-r))}function bS(t){if(u_(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return xc(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(dS))return wS(i)}let n=new Date(t);if(!u_(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function wS(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,d=Number(t[6]||0),p=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,d,p),n}function u_(t){return t instanceof Date&&!isNaN(t.valueOf())}var xS=/^(\d+)?\.((\d+)(-(\d+))?)?$/,f_=22,Mc=".",ko="0",MS=";",ES=",",tf="#";function SS(t,n,e,i,r,o,s=!1){let a="",d=!1;if(!isFinite(t))a=In(e,St.Infinity);else{let p=OS(t);s&&(p=TS(p));let h=n.minInt,m=n.minFrac,b=n.maxFrac;if(o){let de=o.match(xS);if(de===null)throw new Error(`${o} is not a valid digit info`);let Z=de[1],Ee=de[3],be=de[5];Z!=null&&(h=nf(Z)),Ee!=null&&(m=nf(Ee)),be!=null?b=nf(be):Ee!=null&&m>b&&(b=m)}PS(p,m,b);let C=p.digits,M=p.integerLen,k=p.exponent,F=[];for(d=C.every(de=>!de);M<h;M++)C.unshift(0);for(;M<0;M++)C.unshift(0);M>0?F=C.splice(M,C.length):(F=C,C=[0]);let W=[];for(C.length>=n.lgSize&&W.unshift(C.splice(-n.lgSize,C.length).join(""));C.length>n.gSize;)W.unshift(C.splice(-n.gSize,C.length).join(""));C.length&&W.unshift(C.join("")),a=W.join(In(e,i)),F.length&&(a+=In(e,r)+F.join("")),k&&(a+=In(e,St.Exponential)+"+"+k)}return t<0&&!d?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function DS(t,n,e){let i=aS(n,b_.Decimal),r=IS(i,In(n,St.MinusSign));return SS(t,r,n,St.Group,St.Decimal,e)}function IS(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(MS),r=i[0],o=i[1],s=r.indexOf(Mc)!==-1?r.split(Mc):[r.substring(0,r.lastIndexOf(ko)+1),r.substring(r.lastIndexOf(ko)+1)],a=s[0],d=s[1]||"";e.posPre=a.substring(0,a.indexOf(tf));for(let h=0;h<d.length;h++){let m=d.charAt(h);m===ko?e.minFrac=e.maxFrac=h+1:m===tf?e.maxFrac=h+1:e.posSuf+=m}let p=a.split(ES);if(e.gSize=p[1]?p[1].length:0,e.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){let h=r.length-e.posPre.length-e.posSuf.length,m=o.indexOf(tf);e.negPre=o.substring(0,m).replace(/'/g,""),e.negSuf=o.slice(m+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function TS(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function OS(t){let n=Math.abs(t)+"",e=0,i,r,o,s,a;for((r=n.indexOf(Mc))>-1&&(n=n.replace(Mc,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===ko;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===ko;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>f_&&(i=i.splice(0,f_-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function PS(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(n,r),e),s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let m=s;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let m=1;m<s;m++)i[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let d=o!==0,p=n+t.integerLen,h=i.reduceRight(function(m,b,C,M){return b=b+m,M[C]=b<10?b:b-10,d&&(M[C]===0&&C>=p?M.pop():d=!1),b>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}function nf(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Ec(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var rf=/\s+/,p_=[],Sc=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=p_,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(rf):p_}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(rf):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(rf).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(R(xt),R(mn))}}static{this.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var of=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ue=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new of(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),h_(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);h_(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(R(ki),R(Do),R(Zu))}}static{this.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function h_(t,n){t.context.$implicit=n.item}var je=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new sf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){m_("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){m_("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(R(ki),R(Do))}}static{this.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),sf=class{constructor(){this.$implicit=null,this.ngIf=null}};function m_(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nt(n)}'.`)}var af=class{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},_f=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ye({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),E_=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new af(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||t)(R(ki),R(Do),R(_f,9))}}static{this.\u0275dir=ye({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();function Dc(t,n){return new V(2100,!1)}var cf=class{createSubscription(n,e){return en(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){en(()=>n.unsubscribe())}},lf=class{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}},AS=new lf,kS=new cf,S_=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Xn(e))return AS;if(Yu(e))return kS;throw Dc(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||t)(R(ti,16))}}static{this.\u0275pipe=xr({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var RS=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,D_=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw Dc(t,e);return e.replace(RS,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=xr({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();var NS="mediumDate",FS=new j(""),LS=new j(""),Ir=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??NS,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return fS(e,s,o||this.locale,a)}catch(s){throw Dc(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(R(Oo,16),R(FS,24),R(LS,24))}}static{this.\u0275pipe=xr({name:"date",type:t,pure:!0,standalone:!0})}}return t})();function VS(t,n){return{key:t,value:n}}var I_=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=g_}transform(e,i=g_){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(VS(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}static{this.\u0275fac=function(i){return new(i||t)(R(Ku,16))}}static{this.\u0275pipe=xr({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function g_(t,n){let e=t.key,i=n.key;if(e===i)return 0;if(e===void 0)return 1;if(i===void 0)return-1;if(e===null)return 1;if(i===null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var gt=(()=>{class t{constructor(e){this._locale=e}transform(e,i,r){if(!jS(e))return null;r||=this._locale;try{let o=BS(e);return DS(o,r,i)}catch(o){throw Dc(t,o.message)}}static{this.\u0275fac=function(i){return new(i||t)(R(Oo,16))}}static{this.\u0275pipe=xr({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function jS(t){return!(t==null||t===""||t!==t)}function BS(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({})}}return t})(),yf="browser",US="server";function zS(t){return t===yf}function Ic(t){return t===US}var T_=(()=>{class t{static{this.\u0275prov=L({token:t,providedIn:"root",factory:()=>zS(A(hn))?new df(A(Je),window):new uf})}}return t})(),df=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=$S(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function $S(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var uf=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},Sr=class{};var No=class{},Oc=class{},jt=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Cf=class{encodeKey(n){return O_(n)}encodeValue(n){return O_(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function WS(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],d=e.get(s)||[];d.push(a),e.set(s,d)}),e}var qS=/%(\d[a-f0-9])/gi,HS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function O_(t){return encodeURIComponent(t).replace(qS,(n,e)=>HS[e]??n)}function Tc(t){return`${t}`}var ii=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Cf,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WS(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Tc):[Tc(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Tc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Tc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var bf=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function GS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function P_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function A_(t){return typeof Blob<"u"&&t instanceof Blob}function k_(t){return typeof FormData<"u"&&t instanceof FormData}function QS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ro=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(GS(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jt,this.context??=new bf,!this.params)this.params=new ii,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),d=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||P_(this.body)||A_(this.body)||k_(this.body)||QS(this.body)?this.body:this.body instanceof ii?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||k_(this.body)?null:A_(this.body)?this.body.type||null:P_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,d=n.reportProgress??this.reportProgress,p=n.headers||this.headers,h=n.params||this.params,m=n.context??this.context;return n.setHeaders!==void 0&&(p=Object.keys(n.setHeaders).reduce((b,C)=>b.set(C,n.setHeaders[C]),p)),n.setParams&&(h=Object.keys(n.setParams).reduce((b,C)=>b.set(C,n.setParams[C]),h)),new t(e,i,s,{params:h,headers:p,context:m,reportProgress:d,responseType:r,withCredentials:a,transferCache:o})}},ri=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ri||{}),Fo=class{constructor(n,e=200,i="OK"){this.headers=n.headers||new jt,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Pc=class t extends Fo{constructor(n={}){super(n),this.type=ri.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Lo=class t extends Fo{constructor(n={}){super(n),this.type=ri.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},gn=class extends Fo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},L_=200,YS=204;function vf(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var nn=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Ro)o=e;else{let d;r.headers instanceof jt?d=r.headers:d=new jt(r.headers);let p;r.params&&(r.params instanceof ii?p=r.params:p=new ii({fromObject:r.params})),o=new Ro(e,i,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=$(o).pipe(Cn(d=>this.handler.handle(d)));if(e instanceof Ro||r.observe==="events")return s;let a=s.pipe(ft(d=>d instanceof Lo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return a.pipe(Y(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return a.pipe(Y(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return a.pipe(Y(d=>d.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new ii().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,vf(r,i))}post(e,i,r={}){return this.request("POST",e,vf(r,i))}put(e,i,r={}){return this.request("PUT",e,vf(r,i))}static{this.\u0275fac=function(i){return new(i||t)(U(No))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),ZS=/^\)\]\}',?\n/,KS="X-Request-URL";function R_(t){if(t.url)return t.url;let n=KS.toLocaleLowerCase();return t.headers.get(n)}var JS=(()=>{class t{constructor(){this.fetchImpl=A(wf,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=A(Pe)}handle(e){return new ie(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(xf,o=>i.error(new gn({error:o}))),()=>r.abort()})}doRequest(e,i,r){return _e(this,null,function*(){let o=this.createRequestInit(e),s;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,S({signal:i},o)));XS(C),r.next({type:ri.Sent}),s=yield C}catch(C){r.error(new gn({error:C,status:C.status??0,statusText:C.statusText,url:e.urlWithParams,headers:C.headers}));return}let a=new jt(s.headers),d=s.statusText,p=R_(s)??e.urlWithParams,h=s.status,m=null;if(e.reportProgress&&r.next(new Pc({headers:a,status:h,statusText:d,url:p})),s.body){let C=s.headers.get("content-length"),M=[],k=s.body.getReader(),F=0,W,de,Z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_e(this,null,function*(){for(;;){let{done:be,value:ge}=yield k.read();if(be)break;if(M.push(ge),F+=ge.length,e.reportProgress){de=e.responseType==="text"?(de??"")+(W??=new TextDecoder).decode(ge,{stream:!0}):void 0;let Ye=()=>r.next({type:ri.DownloadProgress,total:C?+C:void 0,loaded:F,partialText:de});Z?Z.run(Ye):Ye()}}}));let Ee=this.concatChunks(M,F);try{let be=s.headers.get("Content-Type")??"";m=this.parseBody(e,Ee,be)}catch(be){r.error(new gn({error:be,headers:new jt(s.headers),status:s.status,statusText:s.statusText,url:R_(s)??e.urlWithParams}));return}}h===0&&(h=m?L_:0),h>=200&&h<300?(r.next(new Lo({body:m,headers:a,status:h,statusText:d,url:p})),r.complete()):r.error(new gn({error:m,headers:a,status:h,statusText:d,url:p}))})}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(ZS,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),wf=class{};function xf(){}function XS(t){t.then(xf,xf)}function eD(t,n){return n(t)}function tD(t,n,e){return(i,r)=>Rt(e,()=>n(i,o=>t(o,r)))}var V_=new j(""),nD=new j(""),iD=new j("",{providedIn:"root",factory:()=>!0});var N_=(()=>{class t extends No{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=A(Jn),this.contributeToStability=A(iD)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(V_),...this.injector.get(nD,[])]));this.chain=i.reduceRight((r,o)=>tD(r,o,this.injector),eD)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(wi(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||t)(U(Oc),U(it))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();var rD=/^\)\]\}',?\n/;function oD(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var F_=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new V(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Oe(i.\u0275loadImpl()):$(null)).pipe(Ze(()=>new ie(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((k,F)=>s.setRequestHeader(k,F.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let k=e.detectContentTypeHeader();k!==null&&s.setRequestHeader("Content-Type",k)}if(e.responseType){let k=e.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=e.serializeBody(),d=null,p=()=>{if(d!==null)return d;let k=s.statusText||"OK",F=new jt(s.getAllResponseHeaders()),W=oD(s)||e.url;return d=new Pc({headers:F,status:s.status,statusText:k,url:W}),d},h=()=>{let{headers:k,status:F,statusText:W,url:de}=p(),Z=null;F!==YS&&(Z=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=Z?L_:0);let Ee=F>=200&&F<300;if(e.responseType==="json"&&typeof Z=="string"){let be=Z;Z=Z.replace(rD,"");try{Z=Z!==""?JSON.parse(Z):null}catch(ge){Z=be,Ee&&(Ee=!1,Z={error:ge,text:Z})}}Ee?(o.next(new Lo({body:Z,headers:k,status:F,statusText:W,url:de||void 0})),o.complete()):o.error(new gn({error:Z,headers:k,status:F,statusText:W,url:de||void 0}))},m=k=>{let{url:F}=p(),W=new gn({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(W)},b=!1,C=k=>{b||(o.next(p()),b=!0);let F={type:ri.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(F.total=k.total),e.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},M=k=>{let F={type:ri.UploadProgress,loaded:k.loaded};k.lengthComputable&&(F.total=k.total),o.next(F)};return s.addEventListener("load",h),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),e.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(a),o.next({type:ri.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",h),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(U(Sr))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),j_=new j(""),sD="XSRF-TOKEN",aD=new j("",{providedIn:"root",factory:()=>sD}),cD="X-XSRF-TOKEN",lD=new j("",{providedIn:"root",factory:()=>cD}),Ac=class{},dD=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ec(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(U(Je),U(hn),U(aD))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function uD(t,n){let e=t.url.toLowerCase();if(!A(j_)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=A(Ac).getToken(),r=A(lD);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}function B_(...t){let n=[nn,F_,N_,{provide:No,useExisting:N_},{provide:Oc,useFactory:()=>A(JS,{optional:!0})??A(F_)},{provide:V_,useValue:uD,multi:!0},{provide:j_,useValue:!0},{provide:Ac,useClass:dD}];for(let e of t)n.push(...e.\u0275providers);return Mo(n)}var Sf=class extends wc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Df=class t extends Sf{static makeCurrent(){y_(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=fD();return e==null?null:pD(e)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ec(document.cookie,n)}},jo=null;function fD(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}function pD(t){return new URL(t,document.baseURI).pathname}var hD=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),If=new j(""),W_=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(U(If),U(Pe))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),kc=class{constructor(n){this._doc=n}},Mf="ng-app-id",q_=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ic(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Mf}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Mf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Mf,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(U(Je),U(Au),U(Ru,8),U(hn))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),Ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Of=/%COMP%/g,H_="%COMP%",mD=`_nghost-${H_}`,gD=`_ngcontent-${H_}`,_D=!0,yD=new j("",{providedIn:"root",factory:()=>_D});function vD(t){return gD.replace(Of,t)}function CD(t){return mD.replace(Of,t)}function G_(t,n){return n.map(e=>e.replace(Of,t))}var U_=(()=>{class t{constructor(e,i,r,o,s,a,d,p=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Ic(a),this.defaultRenderer=new Bo(e,s,d,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ln.ShadowDom&&(i=B(S({},i),{encapsulation:ln.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Rc?r.applyToHost(e):r instanceof Uo&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case ln.Emulated:o=new Rc(d,p,i,this.appId,h,s,a,m);break;case ln.ShadowDom:return new Tf(d,p,e,i,s,a,this.nonce,m);default:o=new Uo(d,p,i,h,s,a,m);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(U(W_),U(q_),U(Au),U(yD),U(Je),U(hn),U(Pe),U(Ru))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),Bo=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Ef[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(z_(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(z_(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new V(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Ef[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Ef[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(xn.DashCase|xn.Important)?n.style.setProperty(e,i,r&xn.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&xn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=On().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function z_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tf=class extends Bo{constructor(n,e,i,r,o,s,a,d){super(n,o,s,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=G_(r.id,r.styles);for(let h of p){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uo=class extends Bo{constructor(n,e,i,r,o,s,a,d){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=d?G_(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rc=class extends Uo{constructor(n,e,i,r,o,s,a,d){let p=r+"-"+i.id;super(n,e,i,o,s,a,d,p),this.contentAttr=vD(p),this.hostAttr=CD(p)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},bD=(()=>{class t extends kc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(U(Je))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),$_=["alt","control","meta","shift"],wD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MD=(()=>{class t extends kc{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),$_.forEach(p=>{let h=i.indexOf(p);h>-1&&(i.splice(h,1),s+=p+".")}),s+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=s,d}static matchEventFullKeyCode(e,i){let r=wD[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$_.forEach(s=>{if(s!==r){let a=xD[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(U(Je))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function Q_(t,n){return a_(S({rootComponent:t},ED(n)))}function ED(t){return{appProviders:[...OD,...t?.providers??[]],platformProviders:TD}}function SD(){Df.makeCurrent()}function DD(){return new wn}function ID(){return Zg(document),document}var TD=[{provide:hn,useValue:yf},{provide:ku,useValue:SD,multi:!0},{provide:Je,useFactory:ID,deps:[]}];var OD=[{provide:Ka,useValue:"root"},{provide:wn,useFactory:DD,deps:[]},{provide:If,useClass:bD,multi:!0,deps:[Je,Pe,hn]},{provide:If,useClass:MD,multi:!0,deps:[Je]},U_,q_,W_,{provide:Cr,useExisting:U_},{provide:Sr,useClass:hD,deps:[]},[]];var Y_=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(U(Je))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J="primary",is=Symbol("RouteTitle"),Nf=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Rr(t){return new Nf(t)}function AD(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function kD(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!_n(t[e],n[e]))return!1;return!0}function _n(t,n){let e=t?Ff(t):void 0,i=n?Ff(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!sy(t[r],n[r]))return!1;return!0}function Ff(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function ay(t){return t.length>0?t[t.length-1]:null}function si(t){return Zl(t)?t:Xn(t)?Oe(Promise.resolve(t)):$(t)}var RD={exact:ly,subset:dy},cy={exact:ND,subset:FD,ignored:()=>!0};function Z_(t,n,e){return RD[e.paths](t.root,n.root,e.matrixParams)&&cy[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function ND(t,n){return _n(t,n)}function ly(t,n,e){if(!Li(t.segments,n.segments)||!Lc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!ly(t.children[i],n.children[i],e))return!1;return!0}function FD(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>sy(t[e],n[e]))}function dy(t,n,e){return uy(t,n,n.segments,e)}function uy(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!Li(r,e)||n.hasChildren()||!Lc(r,e,i))}else if(t.segments.length===e.length){if(!Li(t.segments,e)||!Lc(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!dy(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Li(t.segments,r)||!Lc(t.segments,r,i)||!t.children[J]?!1:uy(t.children[J],n,o,i)}}function Lc(t,n,e){return n.every((i,r)=>cy[e](t[r].parameters,i.parameters))}var An=class{constructor(n=new he([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Rr(this.queryParams),this._queryParamMap}toString(){return jD.serialize(this)}},he=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vc(this)}},Fi=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Rr(this.parameters),this._parameterMap}toString(){return py(this)}};function LD(t,n){return Li(t,n)&&t.every((e,i)=>_n(e.parameters,n[i].parameters))}function Li(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function VD(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===J&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==J&&(e=e.concat(n(r,i)))}),e}var rs=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>new Nr,providedIn:"root"})}}return t})(),Nr=class{parse(n){let e=new Vf(n);return new An(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${zo(n.root,!0)}`,i=zD(n.queryParams),r=typeof n.fragment=="string"?`#${BD(n.fragment)}`:"";return`${e}${i}${r}`}},jD=new Nr;function Vc(t){return t.segments.map(n=>py(n)).join("/")}function zo(t,n){if(!t.hasChildren())return Vc(t);if(n){let e=t.children[J]?zo(t.children[J],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==J&&i.push(`${r}:${zo(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=VD(t,(i,r)=>r===J?[zo(t.children[J],!1)]:[`${r}:${zo(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Vc(t)}/${e[0]}`:`${Vc(t)}/(${e.join("//")})`}}function fy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(t){return fy(t).replace(/%3B/gi,";")}function BD(t){return encodeURI(t)}function Lf(t){return fy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jc(t){return decodeURIComponent(t)}function K_(t){return jc(t.replace(/\+/g,"%20"))}function py(t){return`${Lf(t.path)}${UD(t.parameters)}`}function UD(t){return Object.entries(t).map(([n,e])=>`;${Lf(n)}=${Lf(e)}`).join("")}function zD(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Nc(e)}=${Nc(r)}`).join("&"):`${Nc(e)}=${Nc(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var $D=/^[^\/()?;#]+/;function Pf(t){let n=t.match($D);return n?n[0]:""}var WD=/^[^\/()?;=#]+/;function qD(t){let n=t.match(WD);return n?n[0]:""}var HD=/^[^=?&#]+/;function GD(t){let n=t.match(HD);return n?n[0]:""}var QD=/^[^&#]+/;function YD(t){let n=t.match(QD);return n?n[0]:""}var Vf=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[J]=new he(n,e)),i}parseSegment(){let n=Pf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(n),new Fi(jc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=qD(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Pf(this.remaining);r&&(i=r,this.capture(i))}n[jc(e)]=jc(i)}parseQueryParam(n){let e=GD(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=YD(this.remaining);s&&(i=s,this.capture(i))}let r=K_(e),o=K_(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Pf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=J);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[J]:new he([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new V(4011,!1)}};function hy(t){return t.segments.length>0?new he([],{[J]:t}):t}function my(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=my(r);if(i===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new he(t.segments,n);return ZD(e)}function ZD(t){if(t.numberOfChildren===1&&t.children[J]){let n=t.children[J];return new he(t.segments.concat(n.segments),n.children)}return t}function Qo(t){return t instanceof An}function KD(t,n,e=null,i=null){let r=gy(t);return _y(r,n,e,i)}function gy(t){let n;function e(o){let s={};for(let d of o.children){let p=e(d);s[d.outlet]=p}let a=new he(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=hy(i);return n??r}function _y(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Af(r,r,r,e,i);let o=JD(n);if(o.toRoot())return Af(r,r,new he([],{}),e,i);let s=XD(o,r,t),a=s.processChildren?qo(s.segmentGroup,s.index,o.commands):vy(s.segmentGroup,s.index,o.commands);return Af(r,s.segmentGroup,a,e,i)}function Bc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Yo(t){return typeof t=="object"&&t!=null&&t.outlets}function Af(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([d,p])=>{o[d]=Array.isArray(p)?p.map(h=>`${h}`):`${p}`});let s;t===n?s=e:s=yy(t,n,e);let a=hy(my(s));return new An(a,o,r)}function yy(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=yy(o,n,e)}),new he(t.segments,i)}var Uc=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Bc(i[0]))throw new V(4003,!1);let r=i.find(Yo);if(r&&r!==ay(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JD(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Uc(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([d,p])=>{a[d]=typeof p=="string"?p.split("/"):p}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,d)=>{d==0&&a==="."||(d==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Uc(e,n,i)}var Pr=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function XD(t,n,e){if(t.isAbsolute)return new Pr(n,!0,0);if(!e)return new Pr(n,!1,NaN);if(e.parent===null)return new Pr(e,!0,0);let i=Bc(t.commands[0])?0:1,r=e.segments.length-1+i;return eI(e,r,t.numberOfDoubleDots)}function eI(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new Pr(i,!1,r-o)}function tI(t){return Yo(t[0])?t[0].outlets:{[J]:t}}function vy(t,n,e){if(t??=new he([],{}),t.segments.length===0&&t.hasChildren())return qo(t,n,e);let i=nI(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new he(t.segments.slice(0,i.pathIndex),{});return o.children[J]=new he(t.segments.slice(i.pathIndex),t.children),qo(o,0,r)}else return i.match&&r.length===0?new he(t.segments,{}):i.match&&!t.hasChildren()?jf(t,n,e):i.match?qo(t,0,r):jf(t,n,e)}function qo(t,n,e){if(e.length===0)return new he(t.segments,{});{let i=tI(e),r={};if(Object.keys(i).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=qo(t.children[J],n,e);return new he(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=vy(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new he(t.segments,r)}}function nI(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(Yo(a))break;let d=`${a}`,p=i<e.length-1?e[i+1]:null;if(r>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!X_(d,p,s))return o;i+=2}else{if(!X_(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function jf(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Yo(o)){let d=iI(o.outlets);return new he(i,d)}if(r===0&&Bc(e[0])){let d=t.segments[n];i.push(new Fi(d.path,J_(e[0]))),r++;continue}let s=Yo(o)?o.outlets[J]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Bc(a)?(i.push(new Fi(s,J_(a))),r+=2):(i.push(new Fi(s,{})),r++)}return new he(i,{})}function iI(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=jf(new he([],{}),0,i))}),n}function J_(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function X_(t,n,e){return t==e.path&&_n(n,e.parameters)}var Ho="imperative",He=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(He||{}),Bt=class{constructor(n,e){this.id=n,this.url=e}},Fr=class extends Bt{constructor(n,e,i="imperative",r=null){super(n,e),this.type=He.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends Bt{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=He.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),zc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zc||{}),Pn=class extends Bt{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=He.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oi=class extends Bt{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=He.NavigationSkipped}},Zo=class extends Bt{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=He.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$c=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=He.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=He.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends Bt{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=He.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zf=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=He.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Bt{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=He.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class{constructor(n){this.route=n,this.type=He.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qf=class{constructor(n){this.route=n,this.type=He.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hf=class{constructor(n){this.snapshot=n,this.type=He.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(n){this.snapshot=n,this.type=He.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(n){this.snapshot=n,this.type=He.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(n){this.snapshot=n,this.type=He.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=He.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ko=class{},Lr=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function rI(t,n){return t.providers&&!t._injector&&(t._injector=lc(t.providers,n,`Route: ${t.path}`)),t._injector??n}function rn(t){return t.outlet||J}function oI(t,n){let e=t.filter(i=>rn(i)===n);return e.push(...t.filter(i=>rn(i)!==n)),e}function os(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Zf=class{get injector(){return os(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new ss(this.rootInjector),this.attachRef=null}},ss=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Zf(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)(U(it))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qc=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Kf(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=Kf(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Jf(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Jf(n,this._root).map(e=>e.value)}};function Kf(t,n){if(t===n.value)return n;for(let e of n.children){let i=Kf(t,e);if(i)return i}return null}function Jf(t,n){if(t===n.value)return[n];for(let e of n.children){let i=Jf(t,e);if(i.length)return i.unshift(n),i}return[]}var Dt=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Or(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Hc=class extends qc{constructor(n,e){super(n),this.snapshot=e,ap(this,n)}toString(){return this.snapshot.toString()}};function Cy(t){let n=sI(t),e=new Te([new Fi("",{})]),i=new Te({}),r=new Te({}),o=new Te({}),s=new Te(""),a=new Qe(e,i,o,s,r,J,t,n.root);return a.snapshot=n.root,new Hc(new Dt(a,[]),n)}function sI(t){let n={},e={},i={},r="",o=new Ar([],n,i,r,e,J,t,null,{});return new Qc("",new Dt(o,[]))}var Qe=class{constructor(n,e,i,r,o,s,a,d){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Y(p=>p[is]))??$(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(n=>Rr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(n=>Rr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gc(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:S(S({},n.params),t.params),data:S(S({},n.data),t.data),resolve:S(S(S(S({},t.data),n.data),r?.data),t._resolvedData)}:i={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},r&&wy(r)&&(i.resolve[is]=r.title),i}var Ar=class{get title(){return this.data?.[is]}constructor(n,e,i,r,o,s,a,d,p){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Qc=class extends qc{constructor(n,e){super(e),this.url=n,ap(this,e)}toString(){return by(this._root)}};function ap(t,n){n.value._routerState=t,n.children.forEach(e=>ap(t,e))}function by(t){let n=t.children.length>0?` { ${t.children.map(by).join(", ")} } `:"";return`${t.value}${n}`}function kf(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,_n(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),_n(n.params,e.params)||t.paramsSubject.next(e.params),kD(n.url,e.url)||t.urlSubject.next(e.url),_n(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xf(t,n){let e=_n(t.params,n.params)&&LD(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||Xf(t.parent,n.parent))}function wy(t){return typeof t.title=="string"||t.title===null}var cp=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new z,this.deactivateEvents=new z,this.attachEvents=new z,this.detachEvents=new z,this.parentContexts=A(ss),this.location=A(ki),this.changeDetector=A(ti),this.inputBinder=A(Jc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,d=new ep(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ot]})}}return t})(),ep=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Qe?this.route:n===ss?this.childContexts:this.parent.get(n,e)}},Jc=new j(""),ey=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=uo([i.queryParams,i.params,i.data]).pipe(Ze(([o,s,a],d)=>(a=S(S(S({},o),s),a),d===0?$(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=c_(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function aI(t,n,e){let i=Jo(t,n._root,e?e._root:void 0);return new Hc(i,n)}function Jo(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=cI(t,n,e);return new Dt(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Jo(t,a)),s}}let i=lI(n.value),r=n.children.map(o=>Jo(t,o));return new Dt(i,r)}}function cI(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Jo(t,i,r);return Jo(t,i)})}function lI(t){return new Qe(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var Xo=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},xy="ngNavigationCancelingError";function Yc(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Qo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=My(!1,It.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function My(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[xy]=!0,e.cancellationCode=n,e}function dI(t){return Ey(t)&&Qo(t.url)}function Ey(t){return!!t&&t[xy]}var uI=(t,n,e,i)=>Y(r=>(new tp(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),tp=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),kf(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Or(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Or(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Or(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Or(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Yf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Gf(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(kf(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},Zc=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},kr=class{constructor(n,e){this.component=n,this.route=e}};function fI(t,n,e){let i=t._root,r=n?n._root:null;return $o(i,r,e,[i.value])}function pI(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function jr(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!Nm(t)?t:n.get(t):i}function $o(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Or(n);return t.children.forEach(s=>{hI(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Go(a,e.getContext(s),r)),r}function hI(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=mI(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Zc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$o(t,n,a?a.children:null,i,r):$o(t,n,e,i,r),d&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new kr(a.outlet.component,s))}else s&&Go(n,a,r),r.canActivateChecks.push(new Zc(i)),o.component?$o(t,null,a?a.children:null,i,r):$o(t,null,e,i,r);return r}function mI(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Li(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Li(t.url,n.url)||!_n(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xf(t,n)||!_n(t.queryParams,n.queryParams);case"paramsChange":default:return!Xf(t,n)}}function Go(t,n,e){let i=Or(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Go(s,n.children.getContext(o),e):Go(s,null,e):Go(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new kr(n.outlet.component,r)):e.canDeactivateChecks.push(new kr(null,r)):e.canDeactivateChecks.push(new kr(null,r))}function as(t){return typeof t=="function"}function gI(t){return typeof t=="boolean"}function _I(t){return t&&as(t.canLoad)}function yI(t){return t&&as(t.canActivate)}function vI(t){return t&&as(t.canActivateChild)}function CI(t){return t&&as(t.canDeactivate)}function bI(t){return t&&as(t.canMatch)}function Sy(t){return t instanceof vn||t?.name==="EmptyError"}var Fc=Symbol("INITIAL_VALUE");function Vr(){return Ze(t=>uo(t.map(n=>n.pipe(bn(1),nd(Fc)))).pipe(Y(n=>{for(let e of n)if(e!==!0){if(e===Fc)return Fc;if(e===!1||wI(e))return e}return!0}),ft(n=>n!==Fc),bn(1)))}function wI(t){return Qo(t)||t instanceof Xo}function xI(t,n){return Ne(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?$(B(S({},e),{guardsResult:!0})):MI(s,i,r,t).pipe(Ne(a=>a&&gI(a)?EI(i,o,t,n):$(a)),Y(a=>B(S({},e),{guardsResult:a})))})}function MI(t,n,e,i){return Oe(t).pipe(Ne(r=>OI(r.component,r.route,e,n,i)),sn(r=>r!==!0,!0))}function EI(t,n,e,i){return Oe(n).pipe(Cn(r=>nr(DI(r.route.parent,i),SI(r.route,i),TI(t,r.path,e),II(t,r.route,e))),sn(r=>r!==!0,!0))}function SI(t,n){return t!==null&&n&&n(new Qf(t)),$(!0)}function DI(t,n){return t!==null&&n&&n(new Hf(t)),$(!0)}function II(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return $(!0);let r=i.map(o=>la(()=>{let s=os(n)??e,a=jr(o,s),d=yI(a)?a.canActivate(n,t):Rt(s,()=>a(n,t));return si(d).pipe(sn())}));return $(r).pipe(Vr())}function TI(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>pI(s)).filter(s=>s!==null).map(s=>la(()=>{let a=s.guards.map(d=>{let p=os(s.node)??e,h=jr(d,p),m=vI(h)?h.canActivateChild(i,t):Rt(p,()=>h(i,t));return si(m).pipe(sn())});return $(a).pipe(Vr())}));return $(o).pipe(Vr())}function OI(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let d=os(n)??r,p=jr(a,d),h=CI(p)?p.canDeactivate(t,n,e,i):Rt(d,()=>p(t,n,e,i));return si(h).pipe(sn())});return $(s).pipe(Vr())}function PI(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return $(!0);let o=r.map(s=>{let a=jr(s,t),d=_I(a)?a.canLoad(n,e):Rt(t,()=>a(n,e));return si(d)});return $(o).pipe(Vr(),Dy(i))}function Dy(t){return ql(ze(n=>{if(typeof n!="boolean")throw Yc(t,n)}),Y(n=>n===!0))}function AI(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return $(!0);let o=r.map(s=>{let a=jr(s,t),d=bI(a)?a.canMatch(n,e):Rt(t,()=>a(n,e));return si(d)});return $(o).pipe(Vr(),Dy(i))}var es=class{constructor(n){this.segmentGroup=n||null}},ts=class extends Error{constructor(n){super(),this.urlTree=n}};function Tr(t){return Bn(new es(t))}function kI(t){return Bn(new V(4e3,!1))}function RI(t){return Bn(My(!1,It.GuardRejected))}var np=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return $(i);if(r.numberOfChildren>1||!r.children[J])return kI(`${n.redirectTo}`);r=r.children[J]}}applyRedirectCommands(n,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:d,fragment:p,routeConfig:h,url:m,outlet:b,params:C,data:M,title:k}=r,F=Rt(o,()=>a({params:C,data:M,queryParams:d,fragment:p,routeConfig:h,url:m,outlet:b,title:k}));if(F instanceof An)throw new ts(F);e=F}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new ts(s);return s}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new An(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,d])=>{s[a]=this.createSegmentGroup(n,d,i,r)}),new he(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NI(t,n,e,i,r){let o=Iy(t,n,e);return o.matched?(i=rI(n,i),AI(i,n,e,r).pipe(Y(s=>s===!0?o:S({},ip)))):$(o)}function Iy(t,n,e){if(n.path==="**")return FI(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?S({},ip):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||AD)(e,t,n);if(!r)return S({},ip);let o={};Object.entries(r.posParams??{}).forEach(([a,d])=>{o[a]=d.path});let s=r.consumed.length>0?S(S({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function FI(t){return{matched:!0,parameters:t.length>0?ay(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ty(t,n,e,i){return e.length>0&&jI(t,e,i)?{segmentGroup:new he(n,VI(i,new he(e,t.children))),slicedSegments:[]}:e.length===0&&BI(t,e,i)?{segmentGroup:new he(t.segments,LI(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new he(t.segments,t.children),slicedSegments:e}}function LI(t,n,e,i){let r={};for(let o of e)if(Xc(t,n,o)&&!i[rn(o)]){let s=new he([],{});r[rn(o)]=s}return S(S({},i),r)}function VI(t,n){let e={};e[J]=n;for(let i of t)if(i.path===""&&rn(i)!==J){let r=new he([],{});e[rn(i)]=r}return e}function jI(t,n,e){return e.some(i=>Xc(t,n,i)&&rn(i)!==J)}function BI(t,n,e){return e.some(i=>Xc(t,n,i))}function Xc(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function UI(t,n,e){return n.length===0&&!t.children[e]}var rp=class{};function zI(t,n,e,i,r,o,s="emptyOnly"){return new op(t,n,e,i,r,s,o).recognize()}var $I=31,op=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new np(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new V(4002,`'${n.segmentGroup}'`)}recognize(){let n=ty(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Y(({children:e,rootSnapshot:i})=>{let r=new Dt(i,e),o=new Qc("",r),s=KD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Ar([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,J,e).pipe(Y(i=>({children:i,rootSnapshot:e})),bt(i=>{if(i instanceof ts)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof es?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,o):this.processSegment(n,e,i,i.segments,r,!0,o).pipe(Y(s=>s instanceof Dt?[s]:[]))}processChildren(n,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(Cn(s=>{let a=i.children[s],d=oI(e,s);return this.processSegmentGroup(n,d,a,s,r)}),td((s,a)=>(s.push(...a),s)),Un(null),Xl(),Ne(s=>{if(s===null)return Tr(i);let a=Ty(s);return WI(a),$(a)}))}processSegment(n,e,i,r,o,s,a){return Oe(e).pipe(Cn(d=>this.processSegmentAgainstRoute(d._injector??n,e,d,i,r,o,s,a).pipe(bt(p=>{if(p instanceof es)return $(null);throw p}))),sn(d=>!!d),bt(d=>{if(Sy(d))return UI(i,r,o)?$(new rp):Tr(i);throw d}))}processSegmentAgainstRoute(n,e,i,r,o,s,a,d){return rn(i)!==s&&(s===J||!Xc(r,o,i))?Tr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,d):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s,d):Tr(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s,a){let{matched:d,parameters:p,consumedSegments:h,positionalParamSegments:m,remainingSegments:b}=Iy(e,r,o);if(!d)return Tr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$I&&(this.allowRedirects=!1));let C=new Ar(o,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,ny(r),rn(r),r.component??r._loadedComponent??null,r,iy(r)),M=Gc(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let k=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,m,C,n);return this.applyRedirects.lineralizeSegments(r,k).pipe(Ne(F=>this.processSegment(n,i,e,F.concat(b),s,!1,a)))}matchSegmentAgainstRoute(n,e,i,r,o,s){let a=NI(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Ze(d=>d.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Ze(({routes:p})=>{let h=i._loadedInjector??n,{parameters:m,consumedSegments:b,remainingSegments:C}=d,M=new Ar(b,m,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,ny(i),rn(i),i.component??i._loadedComponent??null,i,iy(i)),k=Gc(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(k.params),M.data=Object.freeze(k.data);let{segmentGroup:F,slicedSegments:W}=ty(e,b,C,p);if(W.length===0&&F.hasChildren())return this.processChildren(h,p,F,M).pipe(Y(Z=>new Dt(M,Z)));if(p.length===0&&W.length===0)return $(new Dt(M,[]));let de=rn(i)===o;return this.processSegment(h,p,F,W,de?J:o,!0,M).pipe(Y(Z=>new Dt(M,Z instanceof Dt?[Z]:[])))}))):Tr(e)))}getChildConfig(n,e,i){return e.children?$({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?$({routes:e._loadedRoutes,injector:e._loadedInjector}):PI(n,e,i,this.urlSerializer).pipe(Ne(r=>r?this.configLoader.loadChildren(n,e).pipe(ze(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):RI(e))):$({routes:[],injector:n})}};function WI(t){t.sort((n,e)=>n.value.outlet===J?-1:e.value.outlet===J?1:n.value.outlet.localeCompare(e.value.outlet))}function qI(t){let n=t.value.routeConfig;return n&&n.path===""}function Ty(t){let n=[],e=new Set;for(let i of t){if(!qI(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=Ty(i.children);n.push(new Dt(i.value,r))}return n.filter(i=>!e.has(i))}function ny(t){return t.data||{}}function iy(t){return t.resolve||{}}function HI(t,n,e,i,r,o){return Ne(s=>zI(t,n,e,i,s.extractedUrl,r,o).pipe(Y(({state:a,tree:d})=>B(S({},s),{targetSnapshot:a,urlAfterRedirects:d}))))}function GI(t,n){return Ne(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return $(e);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let p of Oy(d))s.add(p);let a=0;return Oe(s).pipe(Cn(d=>o.has(d)?QI(d,i,t,n):(d.data=Gc(d,d.parent,t).resolve,$(void 0))),ze(()=>a++),ir(1),Ne(d=>a===s.size?$(e):Ct))})}function Oy(t){let n=t.children.map(e=>Oy(e)).flat();return[t,...n]}function QI(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!wy(r)&&(o[is]=r.title),YI(o,t,n,i).pipe(Y(s=>(t._resolvedData=s,t.data=Gc(t,t.parent,e).resolve,null)))}function YI(t,n,e,i){let r=Ff(t);if(r.length===0)return $({});let o={};return Oe(r).pipe(Ne(s=>ZI(t[s],n,e,i).pipe(sn(),ze(a=>{if(a instanceof Xo)throw Yc(new Nr,a);o[s]=a}))),ir(1),Jl(o),bt(s=>Sy(s)?Ct:Bn(s)))}function ZI(t,n,e,i){let r=os(n)??i,o=jr(t,r),s=o.resolve?o.resolve(n,e):Rt(r,()=>o(n,e));return si(s)}function Rf(t){return Ze(n=>{let e=t(n);return e?Oe(e).pipe(Y(()=>n)):$(n)})}var Py=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===J);return i}getResolvedTitleForRoute(e){return e.data[is]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(KI),providedIn:"root"})}}return t})(),KI=(()=>{class t extends Py{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(U(Y_))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cs=new j("",{providedIn:"root",factory:()=>({})}),JI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["ng-component"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(i,r){i&1&&w(0,"router-outlet")},dependencies:[cp],encapsulation:2})}}return t})();function lp(t){let n=t.children&&t.children.map(lp),e=n?B(S({},t),{children:n}):S({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==J&&(e.component=JI),e}var ns=new j(""),dp=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(pc)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=si(e.loadComponent()).pipe(Y(Ay),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(e)})),r=new Ji(i,()=>new we).pipe(Ki());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=XI(i,this.compiler,e,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(i)})),s=new Ji(o,()=>new we).pipe(Ki());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XI(t,n,e,i){return si(t.loadChildren()).pipe(Y(Ay),Ne(r=>r instanceof vo||Array.isArray(r)?$(r):Oe(n.compileModuleAsync(r))),Y(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(ns,[],{optional:!0,self:!0}).flat()),{routes:s.map(lp),injector:o}}))}function e2(t){return t&&typeof t=="object"&&"default"in t}function Ay(t){return e2(t)?t.default:t}var up=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(t2),providedIn:"root"})}}return t})(),t2=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ky=new j(""),Ry=new j("");function n2(t,n,e){let i=t.get(Ry),r=t.get(Je);return t.get(Pe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(p=>setTimeout(p));let o,s=new Promise(p=>{o=p}),a=r.startViewTransition(()=>(o(),i2(t))),{onViewTransitionCreated:d}=i;return d&&Rt(t,()=>d({transition:a,from:n,to:e})),s})}function i2(t){return new Promise(n=>{Gu({read:()=>setTimeout(n)},{injector:t})})}var r2=new j(""),fp=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we,this.transitionAbortSubject=new we,this.configLoader=A(dp),this.environmentInjector=A(it),this.urlSerializer=A(rs),this.rootContexts=A(ss),this.location=A(Dr),this.inputBindingEnabled=A(Jc,{optional:!0})!==null,this.titleStrategy=A(Py),this.options=A(cs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(up),this.createViewTransition=A(ky,{optional:!0}),this.navigationErrorHandler=A(r2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let e=r=>this.events.next(new Wf(r)),i=r=>this.events.next(new qf(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(B(S(S({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new Te({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ho,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(o=>o.id!==0),Y(o=>B(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ze(o=>{let s=!1,a=!1;return $(o).pipe(Ze(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",It.SupersededByNewNavigation),Ct;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?B(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=d.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!p&&h!=="reload"){let m="";return this.events.next(new oi(d.id,this.urlSerializer.serialize(d.rawUrl),m,zc.IgnoredSameUrlNavigation)),d.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return $(d).pipe(Ze(m=>{let b=this.transitions?.getValue();return this.events.next(new Fr(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?Ct:Promise.resolve(m)}),HI(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=B(S({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let b=new $c(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:m,extractedUrl:b,source:C,restoredState:M,extras:k}=d,F=new Fr(m,this.urlSerializer.serialize(b),C,M);this.events.next(F);let W=Cy(this.rootComponentType).snapshot;return this.currentTransition=o=B(S({},d),{targetSnapshot:W,urlAfterRedirects:b,extras:B(S({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,$(o)}else{let m="";return this.events.next(new oi(d.id,this.urlSerializer.serialize(d.extractedUrl),m,zc.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Ct}}),ze(d=>{let p=new Bf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Y(d=>(this.currentTransition=o=B(S({},d),{guards:fI(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),xI(this.environmentInjector,d=>this.events.next(d)),ze(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Yc(this.urlSerializer,d.guardsResult);let p=new Uf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),ft(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",It.GuardRejected),!1)),Rf(d=>{if(d.guards.canActivateChecks.length)return $(d).pipe(ze(p=>{let h=new zf(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}),Ze(p=>{let h=!1;return $(p).pipe(GI(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(p,"",It.NoDataFromResolver)}}))}),ze(p=>{let h=new $f(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}))}),Rf(d=>{let p=h=>{let m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(ze(b=>{h.component=b}),Y(()=>{})));for(let b of h.children)m.push(...p(b));return m};return uo(p(d.targetSnapshot.root)).pipe(Un(null),bn(1))}),Rf(()=>this.afterPreactivation()),Ze(()=>{let{currentSnapshot:d,targetSnapshot:p}=o,h=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return h?Oe(h).pipe(Y(()=>o)):$(o)}),Y(d=>{let p=aI(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=B(S({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),ze(()=>{this.events.next(new Ko)}),uI(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),bn(1),ze({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),zn(this.transitionAbortSubject.pipe(ze(d=>{throw d}))),wi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",It.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),bt(d=>{if(a=!0,Ey(d))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),dI(d)?this.events.next(new Lr(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let p=new Zo(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let h=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(h instanceof Xo){let{message:m,cancellationCode:b}=Yc(this.urlSerializer,h);this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,b)),this.events.next(new Lr(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(p);let m=e.errorHandler(d);o.resolve(!!m)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ct}))}))}cancelNavigationTransition(e,i,r){let o=new Pn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function o2(t){return t!==Ho}var s2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(a2),providedIn:"root"})}}return t})(),sp=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},a2=(()=>{class t extends sp{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ny=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:()=>A(c2),providedIn:"root"})}}return t})(),c2=(()=>{class t extends Ny{constructor(){super(...arguments),this.location=A(Dr),this.urlSerializer=A(rs),this.options=A(cs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(up),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Fr)this.stateMemento=this.createStateMemento();else if(e instanceof oi)this.rawUrlTree=i.initialUrl;else if(e instanceof $c){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof Ko?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Pn&&(e.code===It.GuardRejected||e.code===It.NoDataFromResolver)?this.restoreHistory(i):e instanceof Zo?this.restoreHistory(i,!0):e instanceof kn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof An?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wo||{});function Fy(t,n){t.events.pipe(ft(e=>e instanceof kn||e instanceof Pn||e instanceof Zo||e instanceof oi),Y(e=>e instanceof kn||e instanceof oi?Wo.COMPLETE:(e instanceof Pn?e.code===It.Redirect||e.code===It.SupersededByNewNavigation:!1)?Wo.REDIRECTING:Wo.FAILED),ft(e=>e!==Wo.REDIRECTING),bn(1)).subscribe(()=>{n()})}function l2(t){throw t}var d2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=A(uc),this.stateManager=A(Ny),this.options=A(cs,{optional:!0})||{},this.pendingTasks=A(Jn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(fp),this.urlSerializer=A(rs),this.location=A(Dr),this.urlHandlingStrategy=A(up),this._events=new we,this.errorHandler=this.options.errorHandler||l2,this.navigated=!1,this.routeReuseStrategy=A(s2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(ns,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(Jc,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==It.Redirect&&i.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof kn)this.navigated=!0;else if(i instanceof Lr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=S({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||o2(r.source)},s);this.scheduleNavigation(a,Ho,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}p2(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let d=S({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let b=r?r.snapshot:this.routerState.snapshot.root;m=gy(b)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),m=this.currentUrlTree.root}return _y(m,e,h,p??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Qo(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ho,null,i)}navigate(e,i={skipLocationChange:!1}){return f2(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=S({},d2):i===!1?r=S({},u2):r=i,Qo(e))return Z_(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Z_(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,d,p;s?(a=s.resolve,d=s.reject,p=s.promise):p=new Promise((m,b)=>{a=m,d=b});let h=this.pendingTasks.add();return Fy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function f2(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new V(4008,!1)}function p2(t){return!(t instanceof Ko)&&!(t instanceof Lr)}var Kc=class{};var h2=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ft(e=>e instanceof kn),Cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=lc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Oe(r).pipe(tr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=$(null);let o=r.pipe(Ne(s=>s===null?$(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Oe([o,s]).pipe(tr())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(U(qe),U(pc),U(it),U(Kc),U(dp))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ly=new j(""),m2=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof oi&&e.code===zc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Wc&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wc(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){f0()}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function Vy(t,...n){return Mo([{provide:ns,multi:!0,useValue:t},[],{provide:Qe,useFactory:jy,deps:[qe]},{provide:To,multi:!0,useFactory:By},n.map(e=>e.\u0275providers)])}function jy(t){return t.routerState.root}function Br(t,n){return{\u0275kind:t,\u0275providers:n}}function By(){let t=A(kt);return n=>{let e=t.get(ei);if(n!==e.components[0])return;let i=t.get(qe),r=t.get(Uy);t.get(pp)===1&&i.initialNavigation(),t.get(zy,null,te.Optional)?.setUpPreloading(),t.get(Ly,null,te.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Uy=new j("",{factory:()=>new we}),pp=new j("",{providedIn:"root",factory:()=>1});function g2(){return Br(2,[{provide:pp,useValue:0},{provide:fc,multi:!0,deps:[kt],useFactory:n=>{let e=n.get(v_,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(qe),o=n.get(Uy);Fy(r,()=>{i(!0)}),n.get(fp).afterPreactivation=()=>(i(!0),o.closed?$(void 0):o),r.initialNavigation()}))}}])}function _2(){return Br(3,[{provide:fc,multi:!0,useFactory:()=>{let n=A(qe);return()=>{n.setUpLocationChangeListener()}}},{provide:pp,useValue:2}])}var zy=new j("");function y2(t){return Br(0,[{provide:zy,useExisting:h2},{provide:Kc,useExisting:t}])}function $y(){return Br(6,[{provide:ni,useClass:gf}])}function v2(){return Br(8,[ey,{provide:Jc,useExisting:ey}])}function C2(t){let n=[{provide:ky,useValue:n2},{provide:Ry,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return Br(9,n)}var ry=new j("ROUTER_FORROOT_GUARD"),b2=[Dr,{provide:rs,useClass:Nr},qe,ss,{provide:Qe,useFactory:jy,deps:[qe]},dp,[]],Wy=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[b2,[],{provide:ns,multi:!0,useValue:e},{provide:ry,useFactory:E2,deps:[[qe,new wo,new Ya]]},{provide:cs,useValue:i||{}},i?.useHash?x2():M2(),w2(),i?.preloadingStrategy?y2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?S2(i):[],i?.bindToComponentInputs?v2().\u0275providers:[],i?.enableViewTransitions?C2().\u0275providers:[],D2()]}}static forChild(e){return{ngModule:t,providers:[{provide:ns,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(U(ry,8))}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({})}}return t})();function w2(){return{provide:Ly,useFactory:()=>{let t=A(T_),n=A(Pe),e=A(cs),i=A(fp),r=A(rs);return e.scrollOffset&&t.setOffset(e.scrollOffset),new m2(r,i,t,n,e)}}}function x2(){return{provide:ni,useClass:gf}}function M2(){return{provide:ni,useClass:mf}}function E2(t){return"guarded"}function S2(t){return[t.initialNavigation==="disabled"?_2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?g2().\u0275providers:[]]}var oy=new j("");function D2(){return[{provide:oy,useFactory:By},{provide:To,multi:!0,useExisting:oy}]}var qy=(()=>{class t{constructor(e){this.router=e}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||t)(R(qe))}}static{this.\u0275cmp=X({type:t,selectors:[["app-welcome"]],standalone:!0,features:[ee],decls:16,vars:0,consts:[[1,"welcome-container"],[1,"navbar"],[1,"logo-container"],["src","https://esflabs.ai/logo.svg","alt","ESF Labs",1,"logo-image"],[1,"logo-text"],[1,"contact-btn"],[1,"content"],[1,"text-content"],[1,"login-btn",3,"click"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"nav",1)(2,"div",2),w(3,"img",3),l(4,"span",4),u(5,"Cyber Darshinik"),c()(),l(6,"button",5),u(7,"Contact us"),c()(),l(8,"div",6)(9,"div",7)(10,"h1"),u(11,"Defending the Digital Frontier"),c(),l(12,"p"),u(13,"We assist organizations in conducting advanced cybersecurity tabletop exercises for enhanced digital resilience."),c(),l(14,"button",8),x("click",function(){return r.navigateToLogin()}),u(15,"Enter Portal"),c()()()())},dependencies:[ne],styles:['.welcome-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem 4rem;position:relative;overflow:hidden}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;position:relative;z-index:2}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.logo-image[_ngcontent-%COMP%]{height:100px;width:auto}.logo-text[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#fff;letter-spacing:1px;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.contact-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:2px solid #ffffff;color:#fff;padding:.5rem 1.5rem;border-radius:25px;cursor:pointer;transition:all .3s ease;font-size:1.1rem;font-weight:600}.contact-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#2c3e50;transform:translateY(-2px)}.content[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:calc(100vh - 100px);position:relative;z-index:2}.text-content[_ngcontent-%COMP%]{max-width:600px;margin-left:12rem;animation:_ngcontent-%COMP%_slideIn 1s ease-out}h1[_ngcontent-%COMP%]{font-size:4.5rem;line-height:1.1;margin-bottom:1.5rem;font-weight:700;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.1)}p[_ngcontent-%COMP%]{font-size:1.3rem;color:#ffffffe6;margin-bottom:2rem;line-height:1.6;max-width:500px;font-weight:500}.login-btn[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:1rem 2.5rem;font-size:1.2rem;border-radius:30px;cursor:pointer;transition:all .3s ease;font-weight:600;position:relative;overflow:hidden;box-shadow:0 4px 15px #0000001a}.login-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0003;background:#ffffffe6}.login-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(to right,transparent,rgba(255,255,255,.1),transparent);transform:rotate(45deg);animation:_ngcontent-%COMP%_shine 3s infinite}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%) rotate(45deg)}to{transform:translate(100%) rotate(45deg)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.welcome-container[_ngcontent-%COMP%]{padding:1rem}h1[_ngcontent-%COMP%]{font-size:3rem}.text-content[_ngcontent-%COMP%]{margin-left:0}}']})}}return t})();var tv=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(R(mn),R(xt))}}static{this.\u0275dir=ye({type:t})}}return t})(),Hr=(()=>{class t extends tv{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,features:[at]})}}return t})(),ji=new j(""),I2={provide:ji,useExisting:wt(()=>mp),multi:!0},mp=(()=>{class t extends Hr{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&x("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Xt([I2]),at]})}}return t})(),T2={provide:ji,useExisting:wt(()=>ai),multi:!0};function O2(){let t=On()?On().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var P2=new j(""),ai=(()=>{class t extends tv{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!O2())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(R(mn),R(xt),R(P2,8))}}static{this.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&x("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Xt([T2]),at]})}}return t})();function A2(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var al=new j(""),nv=new j("");function k2(t){return A2(t.value)?{required:!0}:null}function R2(t){return t.value===!0?null:{required:!0}}function Hy(t){return null}function iv(t){return t!=null}function rv(t){return Xn(t)?Oe(t):t}function ov(t){let n={};return t.forEach(e=>{n=e!=null?S(S({},n),e):n}),Object.keys(n).length===0?null:n}function sv(t,n){return n.map(e=>e(t))}function N2(t){return!t.validate}function av(t){return t.map(n=>N2(n)?n:e=>n.validate(e))}function F2(t){if(!t)return null;let n=t.filter(iv);return n.length==0?null:function(e){return ov(sv(e,n))}}function gp(t){return t!=null?F2(av(t)):null}function L2(t){if(!t)return null;let n=t.filter(iv);return n.length==0?null:function(e){let i=sv(e,n).map(rv);return Kl(i).pipe(Y(ov))}}function _p(t){return t!=null?L2(av(t)):null}function Gy(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function V2(t){return t._rawValidators}function j2(t){return t._rawAsyncValidators}function hp(t){return t?Array.isArray(t)?t:[t]:[]}function tl(t,n){return Array.isArray(t)?t.includes(n):t===n}function Qy(t,n){let e=hp(n);return hp(t).forEach(r=>{tl(e,r)||e.push(r)}),e}function Yy(t,n){return hp(n).filter(e=>!tl(t,e))}var nl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=gp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=_p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},$r=class extends nl{get formDirective(){return null}get path(){return null}},Wr=class extends nl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},il=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z4=B(S({},B2),{"[class.ng-submitted]":"isSubmitted"}),_t=(()=>{class t extends il{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(R(Wr,2))}}static{this.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&G("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[at]})}}return t})(),cv=(()=>{class t extends il{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(R($r,10))}}static{this.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&G("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[at]})}}return t})();var ls="VALID",el="INVALID",Ur="PENDING",ds="DISABLED",qr=class{},rl=class extends qr{constructor(n,e){super(),this.value=n,this.source=e}},fs=class extends qr{constructor(n,e){super(),this.pristine=n,this.source=e}},ps=class extends qr{constructor(n,e){super(),this.touched=n,this.source=e}},zr=class extends qr{constructor(n,e){super(),this.status=n,this.source=e}};function lv(t){return(cl(t)?t.validators:t)||null}function U2(t){return Array.isArray(t)?gp(t):t||null}function dv(t,n){return(cl(n)?n.asyncValidators:t)||null}function z2(t){return Array.isArray(t)?_p(t):t||null}function cl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function $2(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new V(1e3,"");if(!i[e])throw new V(1001,"")}function W2(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new V(1002,"")})}var ol=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ao(()=>this.statusReactive()),this.statusReactive=Io(void 0),this._pristine=Ao(()=>this.pristineReactive()),this.pristineReactive=Io(!0),this._touched=Ao(()=>this.touchedReactive()),this.touchedReactive=Io(!1),this._events=new we,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(n){en(()=>this.statusReactive.set(n))}get valid(){return this.status===ls}get invalid(){return this.status===el}get pending(){return this.status==Ur}get disabled(){return this.status===ds}get enabled(){return this.status!==ds}get pristine(){return en(this.pristineReactive)}set pristine(n){en(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(n){en(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Qy(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Qy(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Yy(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Yy(n,this._rawAsyncValidators))}hasValidator(n){return tl(this._rawValidators,n)}hasAsyncValidator(n){return tl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(B(S({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new ps(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new ps(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(B(S({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new fs(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new fs(!0,i))}markAsPending(n={}){this.status=Ur;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new zr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(B(S({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ds,this.errors=null,this._forEachChild(r=>{r.disable(B(S({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new rl(this.value,i)),this._events.next(new zr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ls,this._forEachChild(i=>{i.enable(B(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(B(S({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ls||this.status===Ur)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new rl(this.value,e)),this._events.next(new zr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(B(S({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ds:ls}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ur,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=rv(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new zr(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?ds:this.errors?el:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ur)?Ur:this._anyControlsHaveStatus(el)?el:ls}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new fs(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new ps(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){cl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=U2(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=z2(this._rawAsyncValidators)}},sl=class extends ol{constructor(n,e,i){super(lv(e),dv(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){W2(this,!0,n),Object.keys(n).forEach(i=>{$2(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var ll=new j("CallSetDisabledState",{providedIn:"root",factory:()=>dl}),dl="always";function q2(t,n){return[...n.path,t]}function uv(t,n,e=dl){fv(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),G2(t,n),Y2(t,n),Q2(t,n),H2(t,n)}function Zy(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function H2(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function fv(t,n){let e=V2(t);n.validator!==null?t.setValidators(Gy(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=j2(t);n.asyncValidator!==null?t.setAsyncValidators(Gy(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Zy(n._rawValidators,r),Zy(n._rawAsyncValidators,r)}function G2(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pv(t,n)})}function Q2(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pv(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function pv(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Y2(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Z2(t,n){t==null,fv(t,n)}function K2(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function J2(t){return Object.getPrototypeOf(t.constructor)===Hr}function X2(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function eT(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===ai?e=o:J2(o)?i=o:r=o}),r||i||e||null}var tT={provide:$r,useExisting:wt(()=>yp)},us=Promise.resolve(),yp=(()=>{class t extends $r{get submitted(){return en(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ao(()=>this.submittedReactive()),this.submittedReactive=Io(!1),this._directives=new Set,this.ngSubmit=new z,this.form=new sl({},gp(e),_p(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){us.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),uv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){us.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){us.then(()=>{let i=this._findContainer(e.path),r=new sl({});Z2(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){us.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){us.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),X2(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(R(al,10),R(nv,10),R(ll,8))}}static{this.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&x("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([tT]),at]})}}return t})();function Ky(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Jy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nT=class extends ol{constructor(n=null,e,i){super(lv(e),dv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Jy(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ky(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ky(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Jy(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var iT={provide:Wr,useExisting:wt(()=>lt)},Xy=Promise.resolve(),lt=(()=>{class t extends Wr{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new nT,this._registered=!1,this.name="",this.update=new z,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eT(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),K2(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Xy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Po(i);Xy.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?q2(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(R($r,9),R(al,10),R(nv,10),R(ji,10),R(ti,8),R(ll,8))}}static{this.\u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xt([iT]),at,ot]})}}return t})(),hv=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),rT={provide:ji,useExisting:wt(()=>vp),multi:!0},vp=(()=>{class t extends Hr{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&x("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Xt([rT]),at]})}}return t})(),oT={provide:ji,useExisting:wt(()=>Cp),multi:!0};var sT=(()=>{class t{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cp=(()=>{class t extends Hr{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=A(ll,{optional:!0})??dl}ngOnInit(){this._control=this._injector.get(Wr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||t)(R(mn),R(xt),R(sT),R(kt))}}static{this.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&x("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Xt([oT]),at]})}}return t})();var aT={provide:ji,useExisting:wt(()=>Xe),multi:!0};function mv(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function cT(t){return t.split(":")[0]}var Xe=(()=>{class t extends Hr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=mv(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=cT(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&x("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([aT]),at]})}}return t})(),yt=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(mv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(R(xt),R(mn),R(Xe,9))}}static{this.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),lT={provide:ji,useExisting:wt(()=>gv),multi:!0};function ev(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function dT(t){return t.split(":")[0]}var gv=(()=>{class t extends Hr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let d=s[a],p=this._getOptionValue(d.value);r.push(p)}}else{let s=i.options;for(let a=0;a<s.length;a++){let d=s[a];if(d.selected){let p=this._getOptionValue(d.value);r.push(p)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=dT(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&x("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([lT]),at]})}}return t})(),vt=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ev(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ev(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(R(xt),R(mn),R(gv,9))}}static{this.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var uT=(()=>{class t{constructor(){this._validator=Hy}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Hy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ye({type:t,features:[ot]})}}return t})();var fT={provide:al,useExisting:wt(()=>ul),multi:!0},pT={provide:al,useExisting:wt(()=>bp),multi:!0},ul=(()=>{class t extends uT{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Po,this.createValidator=e=>k2}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xt([fT]),at]})}}return t})(),bp=(()=>{class t extends ul{constructor(){super(...arguments),this.createValidator=e=>R2}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jt(t)))(r||t)}})()}static{this.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ri("required",r._enabled?"":null)},features:[Xt([pT]),at]})}}return t})();var hT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({})}}return t})();var Ge=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ll,useValue:e.callSetDisabledState??dl}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({imports:[hT]})}}return t})();var Ut=(()=>{class t{constructor(e){this.http=e,this.baseUrl="https://esflabs.ai/ttx"}getRoles(e){return this.http.get(`${this.baseUrl}/roles/client/${e}`)}getRoleByID(e){return this.http.get(`${this.baseUrl}/roles/${e}`)}getExercises(e){return this.http.get(`${this.baseUrl}/exercises/client/${e}`)}getExercisesByID(e){return this.http.get(`${this.baseUrl}/exercises/${e}`)}getScenarios(e){return this.http.get(`${this.baseUrl}/scenarios/client/${e}`)}getScenariosByID(e){return this.http.get(`${this.baseUrl}/scenarios/${e}`)}getExerciseData(e){return this.http.get(`${this.baseUrl}/scenario-questions/user-session/${e}`)}getExerciseSession(e){return this.http.get(`${this.baseUrl}/exercise-session/session/${e}`)}getNistFrameworks(){return this.http.get(`${this.baseUrl}/nist`)}createUserSession(e){return this.http.post(`${this.baseUrl}/user-session`,e)}submitUserSessionAnswer(e){return this.http.post(`${this.baseUrl}/user-session-answers/${e.session_id}`,e)}setUserSessionComplted(e){return this.http.put(`${this.baseUrl}/user-session/${e}/completed`,{})}getuserSessionReport(e){return this.http.get(`${this.baseUrl}/user-session/result/${e}`)}getLiveDashboardData(e){return this.http.get(`${this.baseUrl}/live-dashboard/${e}`).pipe(bt(i=>(console.error("Error fetching dashboard data:",i),$(null))))}getOrgReport(e){return this.http.get(`${this.baseUrl}/reports/client/session/${e}`).pipe(bt(i=>(console.error("Error fetching organization report:",i),$(null))))}static{this.\u0275fac=function(i){return new(i||t)(U(nn))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mT(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}var _v=(()=>{class t{constructor(e,i,r){this.router=e,this.apiService=i,this.route=r,this.name="",this.selectedRole="",this.selectedExercise="",this.selectedScenario="",this.roles=[],this.exercises={},this.scenarios={},this.session_id="",this.loadData()}loadData(){this.session_id=this.route.snapshot.params.session_id,this.apiService.getExerciseSession(this.session_id).subscribe(e=>{console.log(e),this.apiService.getRoles(e.client_id).subscribe(i=>this.roles=i),this.apiService.getExercisesByID(e.exercise_id).subscribe(i=>{this.exercises=i,this.selectedExercise=String(i.id)}),this.apiService.getScenariosByID(e.scenario_id).subscribe(i=>{this.scenarios=i,this.selectedScenario=String(i.id)}),console.log(this.scenarios)})}isFormValid(){return!!(this.name&&this.selectedRole&&this.selectedExercise&&this.selectedScenario)}onSubmit(){if(this.isFormValid()){var e={exercise_scenario_session_id:this.session_id,user_name:this.name,role_id:this.selectedRole};this.apiService.createUserSession(e).subscribe(i=>{console.log(i),this.router.navigate([`/exercise/session/${i.userSession.session_id}`],{})})}}static{this.\u0275fac=function(i){return new(i||t)(R(qe),R(Ut),R(Qe))}}static{this.\u0275cmp=X({type:t,selectors:[["app-login"]],standalone:!0,features:[ee],decls:31,vars:6,consts:[[1,"login-container"],[1,"logo"],["src","https://esflabs.ai/logo.svg","alt","ESF Labs",1,"logo-image"],[1,"login-box"],[1,"form-group"],["for","name"],["type","text","id","name","placeholder","Enter your name","autocomplete","name","autocorrect","off","autocapitalize","words",3,"ngModelChange","ngModel"],["for","role"],["id","role",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","exercise"],[1,"scenario-text"],["for","scenario"],[3,"click","disabled"],[3,"value"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1),w(2,"img",2),c(),l(3,"div",3)(4,"h1"),u(5,"Cyber War Room"),c(),l(6,"h2"),u(7,"Cyber Darshinik"),c(),l(8,"div",4)(9,"label",5),u(10,"Name"),c(),l(11,"input",6),I("ngModelChange",function(s){return T(r.name,s)||(r.name=s),s}),c()(),l(12,"div",4)(13,"label",7),u(14,"Role"),c(),l(15,"select",8),I("ngModelChange",function(s){return T(r.selectedRole,s)||(r.selectedRole=s),s}),l(16,"option",9),u(17,"Select a role"),c(),E(18,mT,2,2,"option",10),c()(),l(19,"div",4)(20,"label",11),u(21,"Exercise"),c(),l(22,"p",12),u(23),c()(),l(24,"div",4)(25,"label",13),u(26,"Scenario"),c(),l(27,"p",12),u(28),c()(),l(29,"button",14),x("click",function(){return r.onSubmit()}),u(30," Start Exercise "),c()()()),i&2&&(f(11),D("ngModel",r.name),f(4),D("ngModel",r.selectedRole),f(3),g("ngForOf",r.roles),f(5),O(r.exercises.name),f(5),O(r.scenarios.name),f(),g("disabled",!r.isFormValid()))},dependencies:[ne,ue,Ge,yt,vt,ai,Xe,_t,lt],styles:[`.login-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);display:flex;align-items:center;justify-content:center;padding:0;position:relative;overflow:hidden}.logo[_ngcontent-%COMP%]{position:absolute;top:1.5rem;left:1.5rem;z-index:2}.logo-image[_ngcontent-%COMP%]{height:70px;width:auto;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.login-box[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:15px;padding:2rem;width:100%;max-width:400px;box-shadow:0 8px 32px #0000001a}h1[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.2rem;margin-bottom:.5rem;text-align:center;font-weight:700}h2[_ngcontent-%COMP%]{color:#34495e;font-size:1.3rem;margin-bottom:1.5rem;text-align:center;font-weight:500}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#3498db;font-weight:500;margin-bottom:.5rem}label[_ngcontent-%COMP%]{display:block;color:#2c3e50;margin-bottom:.5rem;font-weight:600;font-size:1rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff;border:2px solid #bdc3c7;border-radius:8px;color:#2c3e50;font-size:1rem;transition:all .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}input[_ngcontent-%COMP%]::placeholder{color:#95a5a6}select[_ngcontent-%COMP%]{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232c3e50'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#fff;color:#2c3e50}button[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(45deg,#3498db,#2c3e50);border:none;border-radius:8px;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:1rem}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #3498db4d}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background:linear-gradient(45deg,#bdc3c7,#95a5a6)}.scenario-text[_ngcontent-%COMP%]{color:#3498db;font-size:.95rem;line-height:1.4;margin-bottom:.5rem;word-break:break-word}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:0;background:linear-gradient(145deg,#2c3e50,#3498db);display:block;overflow-y:auto;-webkit-overflow-scrolling:touch}.logo[_ngcontent-%COMP%]{position:static;display:flex;justify-content:center;margin:2rem 0 1rem;width:100%}.logo-image[_ngcontent-%COMP%]{height:60px}.login-box[_ngcontent-%COMP%]{max-width:100%;width:100%;min-height:calc(100vh - 100px);border-radius:20px 20px 0 0;margin:0;padding:1.5rem;box-shadow:0 -5px 25px #0003;background:#fff;-webkit-backdrop-filter:blur(10px)}h1[_ngcontent-%COMP%]{font-size:1.8rem;margin-top:.5rem}h2[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.85rem;font-size:1rem;border-radius:10px;border:1.5px solid #bdc3c7;background:#f8f9fa;-webkit-appearance:none;font-size:16px}label[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.4rem}button[_ngcontent-%COMP%]{padding:.9rem;border-radius:25px;margin-top:1.5rem;font-size:1.1rem;background:linear-gradient(45deg,#3498db,#2980b9);box-shadow:0 4px 10px #3498db4d;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.scenario-text[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5;padding:.75rem;background:#3498db1a;border-radius:8px;margin-bottom:.8rem}}@media (max-width: 360px){.login-box[_ngcontent-%COMP%]{padding:1.2rem}h1[_ngcontent-%COMP%]{font-size:1.6rem}h2[_ngcontent-%COMP%]{font-size:1rem}.logo-image[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:.8rem;font-size:16px}.login-box[_ngcontent-%COMP%]{padding-bottom:calc(1.2rem + env(safe-area-inset-bottom))}}@supports (-webkit-touch-callout: none){.login-box[_ngcontent-%COMP%]{padding-bottom:calc(2rem + env(safe-area-inset-bottom))}button[_ngcontent-%COMP%]{margin-bottom:env(safe-area-inset-bottom)}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:8px;background-color:#fff}button[_ngcontent-%COMP%]{-webkit-appearance:none;border-radius:25px}}`]})}}return t})();var fl=(()=>{class t{constructor(e){this.http=e,this.apiKey="sk_19601422a3e0b25162b2378079055d610362d907e9e936f7",this.voiceId="kWINXfmSFfYha4ycRYO7",this.baseUrl="https://api.elevenlabs.io/v1",this.currentSource=null,this.destroySubject=new we,this.stateSubject=new Te({isPlaying:!1,isPaused:!1,isError:!1,errorMessage:null,queueSize:0,downloadProgress:0,isMuted:!1}),this.retryAttempts=3,this.retryDelay=1e3,this.audioQueue=[],this.downloadQueue=[],this.isDownloading=!1,this.isPlaying=!1,this.oscillator=null,this.gainNode=null,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=.5,this.gainNode.connect(this.audioContext.destination)}getState(){return this.stateSubject.asObservable()}updateState(e){this.stateSubject.next(B(S(S({},this.stateSubject.getValue()),e),{queueSize:this.downloadQueue.length+this.audioQueue.length}))}speak(e){return _e(this,null,function*(){if(!e?.trim())return;if(this.stateSubject.getValue().isMuted){console.log("Audio is muted, not processing speech");return}this.splitIntoSentences(e.trim()).forEach(r=>this.downloadQueue.push(r)),this.updateState({}),this.isDownloading||this.processDownloadQueue(),this.isPlaying||this.processAudioQueue()})}processDownloadQueue(){return _e(this,null,function*(){if(!(this.isDownloading||this.downloadQueue.length===0)){for(this.isDownloading=!0;this.downloadQueue.length>0;){let e=this.downloadQueue[0];try{let i=yield this.fetchAudio(e);this.audioQueue.push({buffer:i,text:e}),this.downloadQueue.shift(),this.updateState({downloadProgress:this.audioQueue.length/(this.audioQueue.length+this.downloadQueue.length)*100}),this.isPlaying||this.processAudioQueue()}catch(i){console.error("Error downloading audio:",i),this.downloadQueue.shift(),this.handleError(i)}}this.isDownloading=!1,this.updateState({downloadProgress:100})}})}fetchAudio(e){return _e(this,null,function*(){let i=new jt({"xi-api-key":this.apiKey,"Content-Type":"application/json",Accept:"audio/mpeg"}),r={text:e,model_id:"eleven_monolingual_v1",voice_settings:{stability:.5,similarity_boost:.75,style:.5,use_speaker_boost:!0}},o=0;for(;o<this.retryAttempts;)try{console.log(`Fetching audio from Eleven Labs for text: "${e}"`);let s=yield this.http.post(`${this.baseUrl}/text-to-speech/${this.voiceId}/stream`,r,{headers:i,responseType:"blob",observe:"response"}).pipe(zn(this.destroySubject)).toPromise();if(!s?.body)throw new Error("Empty response body");console.log("Successfully received audio from Eleven Labs");let a=yield s.body.arrayBuffer();return yield this.audioContext.decodeAudioData(a)}catch(s){if(console.error(`Attempt ${o+1} failed:`,s),o++,o===this.retryAttempts)return console.error("All attempts failed, falling back to synthetic audio"),this.createSyntheticAudioBuffer(e);yield new Promise(a=>setTimeout(a,this.retryDelay*o))}throw new Error("Failed to fetch audio after all attempts")})}createSyntheticAudioBuffer(e){return _e(this,null,function*(){console.log("Creating synthetic audio as fallback");let i=this.audioContext.sampleRate,r=Math.max(1,Math.min(5,e.length/20)),o=this.audioContext.createBuffer(1,i*r,i),s=o.getChannelData(0),a=220+e.charCodeAt(0)%20*20;for(let d=0;d<s.length;d++){let p=d/i,h=.1,m=.3,b=Math.min(1,p/h),C=Math.min(1,(r-p)/m),M=b*C,k=1+.1*Math.sin(2*Math.PI*.5*p),F=Math.sin(2*Math.PI*a*p),W=.5*Math.sin(2*Math.PI*a*2*p),de=.25*Math.sin(2*Math.PI*a*3*p),Z=Math.sin(2*Math.PI*5*p)*.02,Ee=(F+W+de)/1.75;s[d]=Ee*M*k*(1+Z)}return o})}processAudioQueue(){return _e(this,null,function*(){if(!(this.isPlaying||this.audioQueue.length===0)){for(this.isPlaying=!0,this.updateState({isPlaying:!0});this.audioQueue.length>0&&!this.stateSubject.getValue().isPaused;){let e=this.audioQueue[0];try{yield this.playAudioBuffer(e.buffer),this.audioQueue.shift(),this.updateState({})}catch(i){console.error("Error playing audio:",i),this.audioQueue.shift(),this.handleError(i)}}this.isPlaying=!1,this.updateState({isPlaying:!1})}})}playAudioBuffer(e){return _e(this,null,function*(){return this.stateSubject.getValue().isMuted?(console.log("Audio is muted, skipping playback"),Promise.resolve()):(yield this.audioContext.resume(),new Promise((i,r)=>{try{let o=this.audioContext.createBufferSource();o.buffer=e,o.connect(this.gainNode),this.currentSource=o,o.onended=()=>{this.currentSource=null,i()},o.start()}catch(o){this.currentSource=null,r(o)}}))})}pause(){this.updateState({isPaused:!0}),this.currentSource&&(this.currentSource.stop(),this.currentSource=null),this.oscillator&&(this.oscillator.stop(),this.oscillator=null)}resume(){this.updateState({isPaused:!1}),this.isPlaying||this.processAudioQueue()}stop(){if(this.destroySubject.next(),this.currentSource){try{this.currentSource.stop()}catch(e){console.error("Error stopping audio:",e)}this.currentSource=null}if(this.oscillator){try{this.oscillator.stop()}catch(e){console.error("Error stopping oscillator:",e)}this.oscillator=null}this.audioQueue=[],this.downloadQueue=[],this.isDownloading=!1,this.isPlaying=!1,this.updateState({isPlaying:!1,isPaused:!1,isError:!1,errorMessage:null,downloadProgress:0})}toggleMute(){let e=this.stateSubject.getValue(),i=!e.isMuted;console.log(`Toggling mute state from ${e.isMuted} to ${i}`),this.updateState({isMuted:i}),i&&this.currentSource&&(this.currentSource.stop(),this.currentSource=null),!i&&!this.isPlaying&&this.audioQueue.length>0&&this.processAudioQueue(),this.playBeep(i)}playBeep(e){if(!e){this.oscillator&&(this.oscillator.stop(),this.oscillator=null);try{this.oscillator=this.audioContext.createOscillator(),this.oscillator.type="sine",this.oscillator.frequency.value=880,this.oscillator.connect(this.gainNode),this.oscillator.start(),setTimeout(()=>{this.oscillator&&(this.oscillator.stop(),this.oscillator=null)},200)}catch(i){console.error("Error playing beep:",i)}}}isMuted(){return this.stateSubject.getValue().isMuted}splitIntoSentences(e){return e.match(/[^.!?]+[.!?]+/g)?.map(i=>i.trim())||[e]}handleError(e){let i="An error occurred with text-to-speech";if(e instanceof gn)switch(e.status){case 401:i="Invalid API key. Please check your Eleven Labs credentials.";break;case 429:i="Rate limit exceeded. Please try again later.";break;case 503:i="Service temporarily unavailable. Please try again later.";break;default:i=`Server error: ${e.message}`}return this.updateState({isError:!0,errorMessage:i}),Bn(()=>new Error(i))}cleanup(){this.stop(),this.destroySubject.complete(),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close().catch(e=>{console.error("Error closing audio context:",e)})}setVoice(e){this.voiceId=e}setApiKey(e){this.apiKey=e}getAvailableVoices(){let e=new jt({"xi-api-key":this.apiKey});return this.http.get(`${this.baseUrl}/voices`,{headers:e}).pipe(ed(1),bt(i=>this.handleError(i)))}static{this.\u0275fac=function(i){return new(i||t)(U(nn))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vv=(()=>{class t{constructor(e){this.ttsService=e,this.state=new Te({isTyping:!1,currentText:"",progress:0}),this.destroySubject=new we,this.typingSpeed=30,this.sentenceDelay=500,this.punctuationDelay=200,this.maxQueueSize=5,this.textQueue=[],this.isProcessing=!1,this.ttsService.getState().subscribe(i=>{i.isError&&this.handleError(new Error(i.errorMessage||"TTS Error"))})}getState(){return this.state.asObservable()}updateState(e){this.state.next(S(S({},this.state.getValue()),e))}typeText(e){return _e(this,null,function*(){!e?.trim()||this.textQueue.length>=this.maxQueueSize||(this.textQueue.push(e),this.isProcessing||(yield this.processQueue()))})}processQueue(){return _e(this,null,function*(){if(!(this.isProcessing||this.textQueue.length===0)){this.isProcessing=!0;try{for(;this.textQueue.length>0;){let e=this.textQueue.shift();e&&(yield this.processText(e))}}catch(e){this.handleError(e)}finally{this.isProcessing=!1}}})}processText(e){return _e(this,null,function*(){let i=this.splitIntoSentences(e),r="";this.updateState({isTyping:!0,currentText:"",progress:0});for(let o of i)try{this.ttsService.speak(o);for(let s=0;s<o.length;s++){if(this.state.getValue().isTyping===!1)return;r+=o[s],this.updateState({currentText:r,progress:r.length/e.length*100});let a=this.getCharacterDelay(o[s],o[s+1]);yield this.delay(a)}i.indexOf(o)<i.length-1&&(yield this.delay(this.sentenceDelay))}catch(s){this.handleError(s)}this.updateState({isTyping:!1,progress:100})})}splitIntoSentences(e){return e.match(/[^.!?]+[.!?]+/g)?.map(i=>i.trim())||[e]}getCharacterDelay(e,i){return[".","!","?"].includes(e)?this.sentenceDelay:[",",";",":"].includes(e)?this.punctuationDelay:e===" "&&i&&/[A-Z]/.test(i)?this.punctuationDelay:this.typingSpeed}delay(e){return new Promise(i=>setTimeout(i,e))}handleError(e){throw console.error("Typing Animation Error:",e),this.clear(),e}clear(){this.textQueue=[],this.isProcessing=!1,this.ttsService.stop(),this.updateState({isTyping:!1,currentText:"",progress:0})}setTypingSpeed(e){this.typingSpeed=e}setSentenceDelay(e){this.sentenceDelay=e}setPunctuationDelay(e){this.punctuationDelay=e}destroy(){this.clear(),this.destroySubject.next(),this.destroySubject.complete()}static{this.\u0275fac=function(i){return new(i||t)(U(fl))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _T(t,n){if(t&1&&w(0,"div",6),t&2){let e=_(2);$e("width",e.timerPercentage+"%"),G("warning",e.timerPercentage<50)("danger",e.timerPercentage<20)}}function yT(t,n){if(t&1&&(l(0,"div",17)(1,"span",18),u(2),c(),l(3,"span",19),u(4),se(5,"number"),c()()),t&2){let e=_(3);f(),G("increase",e.amountChangeType==="increase")("decrease",e.amountChangeType==="decrease"),f(),P(" ",e.amountChangeType==="increase"?"+20%":"-10%"," "),f(),G("increase",e.amountChangeType==="increase")("decrease",e.amountChangeType==="decrease"),f(),Lt(" ",e.amountChangeType==="increase"?"Lost":"Saved"," $",Le(5,11,e.Math.abs(e.amountDifference))," ")}}function vT(t,n){if(t&1){let e=N();l(0,"div",7)(1,"div",8),w(2,"i",9),l(3,"span",10),u(4),c()(),l(5,"div",11),w(6,"i",12),l(7,"span",13),u(8),se(9,"number"),c(),E(10,yT,6,13,"div",14),c(),l(11,"button",15),x("click",function(){y(e);let r=_(2);return v(r.toggleMute())}),w(12,"i",16),c()()}if(t&2){let e=_(2);f(),G("warning",e.timerPercentage<50)("danger",e.timerPercentage<20),f(3),Lt("",e.remainingMinutes,":",e.remainingSeconds,""),f(),G("blink",e.timerPercentage<20),f(3),P("$",Le(9,11,e.currentAmount),""),f(2),g("ngIf",e.showAmountChange),f(2),g("ngClass",e.isMuted?"fa-volume-mute":"fa-volume-up")}}function CT(t,n){if(t&1){let e=N();l(0,"div",20)(1,"div",21)(2,"h1"),u(3),c(),l(4,"div",22)(5,"span",23),u(6),c(),l(7,"span",24),u(8),se(9,"number"),c()()(),l(10,"div",25)(11,"h2"),u(12),c(),l(13,"p",26),u(14),se(15,"async"),c()(),l(16,"button",27),x("click",function(){y(e);let r=_(2);return v(r.startExercise())}),u(17),c(),l(18,"button",28),x("click",function(){y(e);let r=_(2);return v(r.toggleMute())}),w(19,"i",16),l(20,"span"),u(21),c()()()}if(t&2){let e=_(2);f(3),O(e.exerciseData.exercise.name),f(3),P("Time: ",e.exerciseData.exercise.time," minutes"),f(2),P("Amount: $",Le(9,11,e.exerciseData.exercise.simulated_amount),""),f(4),O(e.exerciseData.scenario.title),f(),G("reading",e.isReadingDescription),f(),O(Le(15,13,e.descriptionText$)),f(2),g("disabled",!e.canStartExercise),f(),P(" ",e.canStartExercise?"Start Exercise":"Please wait..."," "),f(2),g("ngClass",e.isMuted?"fa-volume-mute":"fa-volume-up"),f(2),P("",e.isMuted?"Unmute":"Mute"," Audio")}}function bT(t,n){if(t&1&&(l(0,"div",38)(1,"div",39),w(2,"i",40),l(3,"h3"),u(4,"Situation"),c()(),l(5,"div",41)(6,"p",26),u(7),se(8,"async"),c()()()),t&2){let e=_(4);f(6),G("reading",e.isReadingInject),f(),O(Le(8,3,e.injectText$))}}function wT(t,n){if(t&1&&(l(0,"span",55),u(1),c()),t&2){let e=n.$implicit;f(),P(" ",e.name," ")}}function xT(t,n){if(t&1&&(l(0,"div",51)(1,"div",52),u(2,"NIST Framework Phases:"),c(),l(3,"div",53),E(4,wT,2,1,"span",54),c()()),t&2){let e=_(5);f(4),g("ngForOf",e.getCurrentQuestionNistFrameworks())}}function MT(t,n){if(t&1&&(l(0,"span",59),w(1,"i",60),c()),t&2){let e=_().$implicit,i=_(5);f(),G("fa-check",e.is_correct)("fa-times",!e.is_correct&&i.isOptionSelected(i.currentInject.scenario_inject_question.questions[i.currentQuestionIndex].id,e))}}function ET(t,n){if(t&1){let e=N();l(0,"div",56)(1,"button",57),x("click",function(){let r=y(e).$implicit,o=_(5);return v(o.selectOption(o.currentInject.scenario_inject_question.questions[o.currentQuestionIndex].id,r))}),l(2,"span"),u(3),c(),E(4,MT,2,4,"span",58),c()()}if(t&2){let e=n.$implicit,i=n.index,r=_(5);f(),G("selected",r.isOptionSelected(r.currentInject.scenario_inject_question.questions[r.currentQuestionIndex].id,e))("correct",r.showAnswer&&e.is_correct)("incorrect",r.showAnswer&&r.isOptionSelected(r.currentInject.scenario_inject_question.questions[r.currentQuestionIndex].id,e)&&!e.is_correct),g("disabled",r.showAnswer||!r.typedOptions[i]||r.isReadingInject),f(2),O(r.typedOptions[i]||""),f(),g("ngIf",r.showAnswer)}}function ST(t,n){if(t&1){let e=N();l(0,"div",61)(1,"button",62),x("click",function(){y(e);let r=_(5);return v(r.submitAnswer())}),u(2,"Submit Answer"),c()()}}function DT(t,n){if(t&1){let e=N();l(0,"div",63)(1,"p"),w(2,"i",60),u(3),c(),l(4,"button",64),x("click",function(){y(e);let r=_(5);return v(r.continueToNext())}),u(5," Continue "),c()()}if(t&2){let e=_(5);f(),G("correct-message",e.isAnswerCorrect())("incorrect-message",!e.isAnswerCorrect()),f(),G("fa-check-circle",e.isAnswerCorrect())("fa-times-circle",!e.isAnswerCorrect()),f(),P(" ",e.isAnswerCorrect()?"Correct!":"Incorrect. Try to understand why the correct answer is better."," ")}}function IT(t,n){if(t&1&&(l(0,"div",42)(1,"div",43),E(2,xT,5,1,"div",44),l(3,"div",45),u(4),c(),l(5,"h2",46),u(6),se(7,"async"),c(),l(8,"div",47),E(9,ET,5,9,"div",48),c(),E(10,ST,3,0,"div",49)(11,DT,6,9,"div",50),c()()),t&2){let e=_(4);f(2),g("ngIf",e.getCurrentQuestionNistFrameworks().length>0),f(2),Lt(" Question ",e.currentQuestionIndex+1," of ",e.currentInject.scenario_inject_question.questions.length," "),f(2),O(Le(7,7,e.questionText$)),f(3),g("ngForOf",e.currentInject.scenario_inject_question.questions[e.currentQuestionIndex].options),f(),g("ngIf",e.hasSelectedOption()&&!e.showAnswer),f(),g("ngIf",e.showAnswer)}}function TT(t,n){if(t&1&&(l(0,"div",31)(1,"div",32)(2,"span",33),u(3),c(),l(4,"h1",34),u(5),c()(),l(6,"div",35),E(7,bT,9,5,"div",36),c(),E(8,IT,12,9,"div",37),c()),t&2){let e=_(3);f(3),P("Inject ",e.currentInjectIndex+1,""),f(2),O(e.currentInject.name),f(2),g("ngIf",e.currentInject.description.situation.type==="external"),f(),g("ngIf",(e.currentInject.scenario_inject_question==null||e.currentInject.scenario_inject_question.questions==null?null:e.currentInject.scenario_inject_question.questions.length)>0)}}function OT(t,n){if(t&1&&(l(0,"div",29),E(1,TT,9,4,"div",30),c()),t&2){let e=_(2);f(),g("ngIf",e.currentInject)}}function PT(t,n){if(t&1&&(l(0,"div",1),E(1,_T,1,6,"div",2)(2,vT,13,13,"div",3)(3,CT,22,15,"div",4)(4,OT,2,1,"div",5),c()),t&2){let e=_();f(),g("ngIf",e.started),f(),g("ngIf",e.started),f(),g("ngIf",!e.started),f(),g("ngIf",e.started)}}var Cv=(()=>{class t{constructor(e,i,r,o,s){this.apiService=e,this.route=i,this.router=r,this.ttsService=o,this.typingService=s,this.exerciseData=null,this.started=!1,this.currentInjectIndex=0,this.currentInject=null,this.currentQuestionIndex=0,this.showAnswer=!1,this.showAmountChange=!1,this.currentAmount=0,this.amountChangeType="decrease",this.amountDifference=0,this.Math=Math,this.userResponses={name:"",role_id:0,scenario_id:0,responses:[]},this.nistFrameworks=[],this.isMuted=!1,this.questionStartTime=0,this.destroy$=new we,this.descriptionText$=new Te(""),this.injectText$=new Te(""),this.questionText$=new Te(""),this.typedOptions=[],this.isReadingDescription=!1,this.isReadingInject=!1,this.isReadingQuestion=!1,this.canStartExercise=!1,this.totalSeconds=0,this.remainingSeconds="00",this.remainingMinutes=0,this.timerPercentage=100}ngOnInit(){let e=this.route.snapshot.params.user_session_id;this.typingService.getState().pipe(zn(this.destroy$)).subscribe(i=>{let r=i.currentText;this.isReadingDescription?this.descriptionText$.next(r):this.isReadingInject?this.injectText$.next(r):this.isReadingQuestion&&this.questionText$.next(r)}),this.ttsService.getState().pipe(zn(this.destroy$)).subscribe(i=>{i.isError&&console.error("TTS Error:",i.errorMessage),this.isMuted=i.isMuted,console.log("Updated mute state from TTS service:",this.isMuted)}),this.apiService.getExerciseData(e).subscribe(i=>_e(this,null,function*(){this.exerciseData=i,i&&(this.currentAmount=i.exercise.simulated_amount,this.totalSeconds=i.exercise.time*60,this.remainingMinutes=i.exercise.time,this.setFirstInjectWithQuestions(),yield this.readDescription())})),this.apiService.getNistFrameworks().subscribe(i=>{this.nistFrameworks=i})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.timerSubscription&&this.timerSubscription.unsubscribe(),this.amountChangeTimeout&&clearTimeout(this.amountChangeTimeout),this.ttsService.cleanup(),this.typingService.destroy()}clearAllText(){this.questionText$.next(""),this.typedOptions=[],this.isReadingInject||this.injectText$.next("")}resetReadingStates(){this.isReadingDescription=!1,this.isReadingInject=!1,this.isReadingQuestion=!1}readDescription(){return _e(this,null,function*(){if(this.exerciseData){this.clearAllText(),this.resetReadingStates(),this.isReadingDescription=!0;try{yield this.typingService.typeText(this.exerciseData.scenario.description),this.canStartExercise=!0}finally{this.isReadingDescription=!1}}})}readInject(e){return _e(this,null,function*(){if(!e)return;this.resetReadingStates(),this.isReadingInject=!0;let i=`${e.name}. ${e.description.situation.description}`;try{yield this.typingService.typeText(i),this.injectText$.next(i)}finally{this.isReadingInject=!1,this.showQuestion(this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex])}})}showQuestion(e){e&&(this.questionText$.next(e.question),this.typedOptions=e.options.map(i=>i.option),this.startQuestionTimer())}startTimer(){this.exerciseData&&(this.timerSubscription=bi(1e3).subscribe(()=>{if(this.totalSeconds--,this.totalSeconds<=0){this.finishExercise();return}this.remainingMinutes=Math.floor(this.totalSeconds/60),this.remainingSeconds=(this.totalSeconds%60).toString().padStart(2,"0"),this.timerPercentage=this.totalSeconds/(this.exerciseData.exercise.time*60)*100}))}startExercise(){return _e(this,null,function*(){this.started=!0,this.startTimer(),this.currentInject&&(yield this.readInject(this.currentInject))})}setFirstInjectWithQuestions(){if(this.exerciseData){let e=this.exerciseData.scenario_inject.find(i=>i.scenario_inject_question?.questions&&i.scenario_inject_question.questions.length>0);e&&(this.currentInjectIndex=this.exerciseData.scenario_inject.indexOf(e),this.currentInject=e)}}startQuestionTimer(){this.questionStartTime=Date.now()}getResponseTime(){return Math.round((Date.now()-this.questionStartTime)/1e3)}hasSelectedOption(){if(!this.currentInject?.scenario_inject_question?.questions)return!1;let e=this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex];return this.userResponses.responses.some(i=>i.question_id===e.id)}submitAnswer(){return _e(this,null,function*(){if(!this.currentInject?.scenario_inject_question?.questions)return;this.showAnswer=!0;let e=this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex],i=this.userResponses.responses.findIndex(r=>r.question_id===e.id);if(i!==-1&&this.userResponses.responses[i].response_time_seconds===0&&(this.userResponses.responses[i].response_time_seconds=this.getResponseTime()),i!==-1){let r=this.userResponses.responses[i].selected_option;this.apiService.submitUserSessionAnswer({session_id:this.route.snapshot.params.user_session_id,scenario_question_id:e.id,option:r,is_correct:r.is_correct,answered_in:this.userResponses.responses[i].response_time_seconds}).subscribe()}this.isAnswerCorrect()?this.reduceAmount():this.increaseAmount()})}isAnswerCorrect(){if(!this.currentInject?.scenario_inject_question?.questions)return!1;let e=this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex];return this.userResponses.responses.find(r=>r.question_id===e.id)?.selected_option.is_correct||!1}continueToNext(){return _e(this,null,function*(){this.showAnswer=!1,this.ttsService.stop(),this.questionText$.next(""),this.typedOptions=[],this.currentInject?.scenario_inject_question?.questions&&(this.currentQuestionIndex<this.currentInject.scenario_inject_question.questions.length-1?(this.currentQuestionIndex++,this.showQuestion(this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex])):yield this.nextInject())})}selectOption(e,i){if(this.showAnswer)return;let r=this.getResponseTime(),o=this.userResponses.responses.findIndex(s=>s.question_id===e);o!==-1?(this.userResponses.responses[o].selected_option=i,this.userResponses.responses[o].response_time_seconds===0&&(this.userResponses.responses[o].response_time_seconds=r)):this.userResponses.responses.push({question_id:e,selected_option:i,response_time_seconds:r})}isOptionSelected(e,i){return this.userResponses.responses.find(o=>o.question_id===e)?.selected_option.option===i.option}findNextInjectWithQuestions(e){if(!this.exerciseData)return-1;for(let i=e;i<this.exerciseData.scenario_inject.length;i++){let r=this.exerciseData.scenario_inject[i];if(r.scenario_inject_question?.questions&&r.scenario_inject_question.questions.length>0)return i}return-1}nextInject(){return _e(this,null,function*(){if(this.exerciseData){let e=this.findNextInjectWithQuestions(this.currentInjectIndex+1);e!==-1?(this.currentInjectIndex=e,this.currentInject=this.exerciseData.scenario_inject[e],this.currentQuestionIndex=0,yield this.readInject(this.currentInject)):this.finishExercise()}})}finishExercise(){if(this.timerSubscription&&this.timerSubscription.unsubscribe(),!this.exerciseData)return;let e=this.route.snapshot.params.user_session_id;this.apiService.setUserSessionComplted(e).subscribe({next:()=>{this.router.navigate(["/results/session",e])},error:i=>{console.error("Error completing session:",i),this.router.navigate(["/results/session",e])}})}reduceAmount(){let e=this.currentAmount*.1;this.amountDifference=-e,this.currentAmount-=e,this.showAmountChange=!0,this.amountChangeType="decrease";let r=`Great job! You saved ${Math.round(e).toLocaleString()} dollars.`;this.ttsService.speak(r),this.amountChangeTimeout&&clearTimeout(this.amountChangeTimeout),this.amountChangeTimeout=setTimeout(()=>{this.showAmountChange=!1},2e3)}increaseAmount(){let e=this.currentAmount*.2;this.amountDifference=e,this.currentAmount+=e,this.showAmountChange=!0,this.amountChangeType="increase";let r=`Unfortunately, you lost ${Math.round(e).toLocaleString()} dollars.`;this.ttsService.speak(r),this.amountChangeTimeout&&clearTimeout(this.amountChangeTimeout),this.amountChangeTimeout=setTimeout(()=>{this.showAmountChange=!1},2e3)}getCurrentQuestionNistFrameworks(){if(!this.currentInject?.scenario_inject_question?.questions)return[];let e=this.currentInject.scenario_inject_question.questions[this.currentQuestionIndex];return this.nistFrameworks.filter(i=>e.nist_framework_id.includes(i.id)).sort((i,r)=>i.seq_no-r.seq_no)}toggleMute(){console.log("Toggle mute button clicked, current state:",this.isMuted),this.ttsService.toggleMute()}static{this.\u0275fac=function(i){return new(i||t)(R(Ut),R(Qe),R(qe),R(fl),R(vv))}}static{this.\u0275cmp=X({type:t,selectors:[["app-exercise"]],standalone:!0,features:[ee],decls:1,vars:1,consts:[["class","exercise-container",4,"ngIf"],[1,"exercise-container"],["class","timer-bar",3,"width","warning","danger",4,"ngIf"],["class","status-container",4,"ngIf"],["class","exercise-content",4,"ngIf"],["class","exercise-flow",4,"ngIf"],[1,"timer-bar"],[1,"status-container"],[1,"timer-display"],[1,"fas","fa-clock"],[1,"time-value"],[1,"amount-display"],[1,"fas","fa-sack-dollar"],[1,"amount-value"],["class","amount-change",4,"ngIf"],[1,"mute-button",3,"click"],[1,"fas",3,"ngClass"],[1,"amount-change"],[1,"amount-change-text"],[1,"amount-change-value"],[1,"exercise-content"],[1,"header"],[1,"meta-info"],[1,"time"],[1,"amount"],[1,"scenario-info"],[1,"typing-text"],[1,"start-btn",3,"click","disabled"],[1,"mute-button","initial-mute",3,"click"],[1,"exercise-flow"],["class","inject-content",4,"ngIf"],[1,"inject-content"],[1,"inject-header"],[1,"inject-badge"],[1,"inject-title"],[1,"inject-description"],["class","description-section situation",4,"ngIf"],["class","questions",4,"ngIf"],[1,"description-section","situation"],[1,"section-header"],[1,"fas","fa-exclamation-circle"],[1,"section-content"],[1,"questions"],[1,"question-box"],["class","nist-frameworks",4,"ngIf"],[1,"question-counter"],[1,"question-text"],[1,"options"],["class","option",4,"ngFor","ngForOf"],["class","submit-section",4,"ngIf"],["class","feedback-message",4,"ngIf"],[1,"nist-frameworks"],[1,"nist-label"],[1,"nist-badges"],["class","nist-badge",4,"ngFor","ngForOf"],[1,"nist-badge"],[1,"option"],[3,"click","disabled"],["class","feedback-icon",4,"ngIf"],[1,"feedback-icon"],[1,"fas"],[1,"submit-section"],[1,"submit-btn",3,"click"],[1,"feedback-message"],[1,"continue-btn",3,"click"]],template:function(i,r){i&1&&E(0,PT,5,4,"div",0),i&2&&g("ngIf",r.exerciseData)},dependencies:[ne,Sc,ue,je,S_,gt,Wy,Ge],styles:[".exercise-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem;color:#fff;position:relative;overflow-x:hidden;overflow-y:auto}.timer-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:4px;background:#fff;transition:width 1s linear,background-color .3s ease;z-index:1001}.timer-bar.warning[_ngcontent-%COMP%]{background:#f39c12}.timer-bar.danger[_ngcontent-%COMP%]{background:#e74c3c}.status-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:.75rem 1.5rem;z-index:1000;background:#2c3e50d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.1);box-shadow:0 2px 10px #0003}.timer-display[_ngcontent-%COMP%], .amount-display[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:.6rem 1rem;border-radius:10px;border:1px solid rgba(255,255,255,.2);display:flex;align-items:center;gap:.75rem;box-shadow:0 4px 12px #0000001a}.timer-display[_ngcontent-%COMP%]{color:#fff}.timer-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.4rem}.timer-display.warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f39c12;animation:_ngcontent-%COMP%_pulse 2s infinite}.timer-display.danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e74c3c;animation:_ngcontent-%COMP%_pulse 1s infinite}.amount-display[_ngcontent-%COMP%]{color:#fff;font-weight:700;position:relative}.amount-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.4rem}.time-value[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;font-family:monospace;color:#fff;min-width:70px;text-align:center}.amount-value[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff;transition:all .5s ease}.amount-change[_ngcontent-%COMP%]{position:absolute;top:-20px;right:0;display:flex;flex-direction:column;align-items:flex-end;animation:_ngcontent-%COMP%_slideUp 2s forwards}.amount-change-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.amount-change-text.increase[_ngcontent-%COMP%]{color:#e74c3c}.amount-change-text.decrease[_ngcontent-%COMP%]{color:#2ecc71}.amount-change-value[_ngcontent-%COMP%]{font-size:.85rem}.amount-change-value.increase[_ngcontent-%COMP%]{color:#e74c3c}.amount-change-value.decrease[_ngcontent-%COMP%]{color:#2ecc71}.mute-button[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:10px;color:#fff;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 10px #0000001a;flex-shrink:0}.mute-button[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.mute-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:#fff}.mute-button.initial-mute[_ngcontent-%COMP%]{position:absolute;bottom:2rem;right:2rem;width:auto;padding:.75rem 1.5rem;display:flex;align-items:center;gap:.75rem}.mute-button.initial-mute[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.exercise-content[_ngcontent-%COMP%], .exercise-flow[_ngcontent-%COMP%]{max-width:1200px;margin:5rem auto 2rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2.5rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a;width:100%;position:relative;z-index:1}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}h1[_ngcontent-%COMP%], .inject-title[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:1rem;font-weight:700}.meta-info[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;color:#fff;font-weight:500}.scenario-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:1rem;font-weight:600}.scenario-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;line-height:1.6;font-size:1.2rem}.question-counter[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:1.2rem;margin-bottom:1rem;font-weight:500}.question-text[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;text-align:center;margin-bottom:3rem;line-height:1.4;font-weight:500}.options[_ngcontent-%COMP%]{display:grid;gap:1rem;margin-bottom:2rem}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:1.5rem 2rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.3);border-radius:10px;color:#fff;cursor:pointer;transition:all .3s ease;font-size:1.2rem;line-height:1.5;text-align:left;display:flex;justify-content:space-between;align-items:center}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.option[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background:#3498db4d;border-color:#3498db}.option[_ngcontent-%COMP%]   button.correct[_ngcontent-%COMP%]{background:#2ecc714d;border-color:#2ecc71}.option[_ngcontent-%COMP%]   button.incorrect[_ngcontent-%COMP%]{background:#e74c3c4d;border-color:#e74c3c}.feedback-icon[_ngcontent-%COMP%]{margin-left:1rem}.feedback-icon[_ngcontent-%COMP%]   i.fa-check[_ngcontent-%COMP%]{color:#2ecc71}.feedback-icon[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{color:#e74c3c}.submit-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.submit-btn[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:1rem 3rem;border-radius:30px;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all .3s ease}.submit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ffffff4d;background:#ffffffe6}.feedback-message[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;padding:1.5rem;border-radius:10px;background:#ffffff1a}.feedback-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem;color:#fff}.correct-message[_ngcontent-%COMP%]{color:#2ecc71}.incorrect-message[_ngcontent-%COMP%]{color:#e74c3c}.continue-btn[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 2rem;border-radius:25px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.continue-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ffffff4d;background:#ffffffe6}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.inject-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;position:relative}.inject-badge[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600;position:absolute;top:-15px;left:50%;transform:translate(-50%);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.2)}.inject-title[_ngcontent-%COMP%]{color:#fff;font-size:2.2rem;font-weight:700;margin-top:1rem;padding:1rem 0;border-bottom:1px solid rgba(255,255,255,.2)}.inject-description[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;overflow:hidden;margin-bottom:2rem;box-shadow:0 4px 6px #0000001a}.description-section[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.description-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%}.situation[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f39c12}.impact[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e74c3c}.action[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2ecc71}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;font-weight:600;margin:0}.section-content[_ngcontent-%COMP%]{background:#ffffff1a;padding:1.25rem;border-radius:8px;border-left:4px solid}.situation[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{border-left-color:#f39c12}.impact[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{border-left-color:#e74c3c}.action[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{border-left-color:#2ecc71}.section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem;line-height:1.6;margin:0}.description-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;padding:1.5rem;background:#ffffff0d}.nist-frameworks[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:10px;margin-bottom:1.5rem;display:flex;flex-direction:column;gap:.5rem}.nist-label[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:.9rem}.nist-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.nist-badge[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:.4rem .8rem;border-radius:15px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;gap:.3rem}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(0)}20%{opacity:1}80%{opacity:1;transform:translateY(-20px)}to{opacity:0;transform:translateY(-40px)}}@media (max-width: 768px){.exercise-container[_ngcontent-%COMP%]{padding:1rem}.exercise-content[_ngcontent-%COMP%], .exercise-flow[_ngcontent-%COMP%]{padding:1.5rem;margin-top:4.5rem}.description-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.inject-title[_ngcontent-%COMP%]{font-size:1.8rem}.section-content[_ngcontent-%COMP%]{padding:1rem}.section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}h1[_ngcontent-%COMP%], .inject-title[_ngcontent-%COMP%]{font-size:2rem}.question-text[_ngcontent-%COMP%]{font-size:1.5rem}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:1rem 1.5rem}.mute-button.initial-mute[_ngcontent-%COMP%]{bottom:1rem;right:1rem;padding:.5rem 1rem}.mute-button.initial-mute[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.status-container[_ngcontent-%COMP%]{padding:.5rem 1rem}}@media (max-width: 480px){.status-container[_ngcontent-%COMP%]{padding:.5rem;flex-wrap:wrap;justify-content:center;gap:.5rem}.timer-display[_ngcontent-%COMP%], .amount-display[_ngcontent-%COMP%]{padding:.5rem .75rem;flex:1;min-width:120px;max-width:45%}.time-value[_ngcontent-%COMP%]{font-size:1.2rem;min-width:60px}.amount-value[_ngcontent-%COMP%]{font-size:1.2rem}.mute-button[_ngcontent-%COMP%]{width:36px;height:36px}.mute-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.exercise-content[_ngcontent-%COMP%], .exercise-flow[_ngcontent-%COMP%]{margin-top:5.5rem;padding:1.25rem}.inject-title[_ngcontent-%COMP%]{font-size:1.6rem}.question-text[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:2rem}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.submit-btn[_ngcontent-%COMP%], .continue-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem}}"]})}}return t})();var wp=class{constructor(){this.subject=new Xi(1),this.subscriptions=new Ae}doFilter(n){this.subject.next(n)}dispose(){this.subscriptions.unsubscribe()}notEmpty(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]){let r=i[n].currentValue;r!=null&&e(r)}}))}has(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]){let r=i[n].currentValue;e(r)}}))}notFirst(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]&&!i[n].isFirstChange()){let r=i[n].currentValue;e(r)}}))}notFirstAndEmpty(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]&&!i[n].isFirstChange()){let r=i[n].currentValue;r!=null&&e(r)}}))}},bv=new j("NGX_ECHARTS_CONFIG"),Qr=(()=>{class t{constructor(e,i,r){this.el=i,this.ngZone=r,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new z,this.optionsError=new z,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new Xi(1),this.resize$=new we,this.changeFilter=new wp,this.resizeObFired=!1,this.echarts=e.echarts,this.theme=e.theme||null}ngOnChanges(e){this.changeFilter.doFilter(e)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(id(100,Vn,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(e=>{for(let i of e)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",e=>this.onOptionsChange(e)),this.changeFilter.notFirstAndEmpty("merge",e=>this.setOption(e)),this.changeFilter.has("loading",e=>this.toggleLoading(!!e)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart?e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>e?i.showLoading(this.loadingType,this.loadingOpts):i.hideLoading())}setOption(e,i){if(this.chart)try{this.chart.setOption(e,i)}catch(r){console.error(r),this.optionsError.emit(r)}}refreshChart(){return _e(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let e=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(e,null).getPropertyValue("height");(!i||i==="0px")&&(!e.style.height||e.style.height==="0px")&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:r})=>r(e,this.theme,this.initOpts)))}initChart(){return _e(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(e){return _e(this,null,function*(){e&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(e){return this.chartInit.pipe(Ze(i=>new ie(r=>(i.on(e,o=>this.ngZone.run(()=>r.next(o))),()=>{this.chart&&(this.chart.isDisposed()||i.off(e))}))))}static{this.\u0275fac=function(i){return new(i||t)(R(bv),R(xt),R(Pe))}}static{this.\u0275dir=ye({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[ot]})}}return t})();var AT=t=>({provide:bv,useValue:t}),ci=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[AT(e)]}}static forChild(){return{ngModule:t}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Zt({type:t})}static{this.\u0275inj=Yt({})}}return t})();function RT(t,n){if(t&1&&(l(0,"div",54)(1,"div",29)(2,"h3"),u(3,"Individual SWOT Analysis"),c(),l(4,"div",30),w(5,"i",21),l(6,"span",31),u(7,"Your performance across different types of cybersecurity challenges"),c()()(),l(8,"div",32),w(9,"div",33),c(),l(10,"div",34),w(11,"i",35),l(12,"p"),u(13,"Higher scores in Strengths and Opportunities indicate areas where you excel, while lower scores in Weaknesses and Threats highlight areas for improvement."),c()()()),t&2){let e=_(2);f(9),g("options",e.swotChartOptions)}}function NT(t,n){if(t&1){let e=N();l(0,"div",3)(1,"div",4),w(2,"img",5),l(3,"h1"),u(4,"Exercise Results"),c(),l(5,"div",6)(6,"span",7),u(7),c(),l(8,"span",8),u(9),c()()(),l(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),w(14,"i",13),c(),l(15,"div",14)(16,"div",15),u(17),se(18,"number"),l(19,"span",16),u(20,"%"),c()(),l(21,"div",17),u(22,"Overall Score"),c(),l(23,"div",18),w(24,"i",19),u(25),c()()(),l(26,"div",11)(27,"div",12),w(28,"i",20),c(),l(29,"div",14)(30,"div",15),u(31),c(),l(32,"div",17),u(33,"Time Spent"),c(),l(34,"div",18),w(35,"i",21),u(36," Average response time "),c()()(),l(37,"div",11)(38,"div",12),w(39,"i",22),c(),l(40,"div",14)(41,"div",15),u(42),c(),l(43,"div",17),u(44,"Critical Decisions"),c(),l(45,"div",18),w(46,"i",19),u(47),c()()(),l(48,"div",11)(49,"div",12),w(50,"i",23),c(),l(51,"div",14)(52,"div",15),u(53),c(),l(54,"div",17),u(55,"Amount Saved"),c(),l(56,"div",24),w(57,"i",25),u(58),se(59,"number"),c()()()(),l(60,"div",26)(61,"h2"),u(62,"Performance Analysis"),c(),l(63,"div",27)(64,"div",28)(65,"div",29)(66,"h3"),u(67,"Response Time Distribution"),c(),l(68,"div",30),w(69,"i",21),l(70,"span",31),u(71,"Shows your response time for each question"),c()()(),l(72,"div",32),w(73,"div",33),c(),l(74,"div",34),w(75,"i",35),l(76,"p"),u(77),c()()(),l(78,"div",28)(79,"div",29)(80,"h3"),u(81,"NIST Framework Coverage"),c(),l(82,"div",30),w(83,"i",21),l(84,"span",31),u(85,"Your proficiency across NIST cybersecurity domains"),c()()(),l(86,"div",32),w(87,"div",33),c(),l(88,"div",34),w(89,"i",35),l(90,"p"),u(91),c()()(),l(92,"div",28)(93,"div",29)(94,"h3"),u(95,"Financial Impact Analysis"),c(),l(96,"div",30),w(97,"i",21),l(98,"span",31),u(99,"Breakdown of financial implications of your decisions"),c()()(),l(100,"div",32),w(101,"div",33),c(),l(102,"div",34),w(103,"i",35),l(104,"p"),u(105),c()()(),E(106,RT,14,1,"div",36),c()(),l(107,"div",37)(108,"h2"),u(109,"Key Learnings & Recommendations"),c(),l(110,"div",38)(111,"div",39)(112,"div",40),w(113,"i",41),l(114,"h4"),u(115,"Strengths"),c()(),l(116,"p"),u(117),c()(),l(118,"div",42)(119,"div",40),w(120,"i",25),l(121,"h4"),u(122,"Areas for Improvement"),c()(),l(123,"p"),u(124),c()(),l(125,"div",43)(126,"div",40),w(127,"i",44),l(128,"h4"),u(129,"Recommended Actions"),c()(),l(130,"p"),u(131),c()(),l(132,"div",45)(133,"div",40),w(134,"i",46),l(135,"h4"),u(136,"References"),c()(),l(137,"p"),u(138),c()()()(),l(139,"div",47)(140,"button",48),x("click",function(){y(e);let r=_();return v(r.retryExercise())}),w(141,"i",49),u(142," Retry Exercise "),c(),l(143,"button",50),x("click",function(){y(e);let r=_();return v(r.downloadReport())}),w(144,"i",51),u(145," Download Detailed Report "),c(),l(146,"button",52),x("click",function(){y(e);let r=_();return v(r.shareResults())}),w(147,"i",53),u(148," Share Results "),c()()()()}if(t&2){let e=_();f(7),O(e.sessionResult.exercise_name),f(2),O(e.sessionResult.time_spent),f(8),O(Ke(18,36,e.getAccuracyPercentage(),"1.0-0")),f(6),G("positive",e.sessionResult.correct_answers>e.sessionResult.wrong_answers)("negative",e.sessionResult.correct_answers<=e.sessionResult.wrong_answers),f(),G("fa-arrow-up",e.sessionResult.correct_answers>e.sessionResult.wrong_answers)("fa-arrow-down",e.sessionResult.correct_answers<=e.sessionResult.wrong_answers),f(),Lt(" ",e.sessionResult.correct_answers,"/",e.sessionResult.total_questions," correct answers "),f(6),O(e.sessionResult.time_spent),f(11),Lt("",e.sessionResult.correct_answers,"/",e.sessionResult.total_questions,""),f(3),G("positive",e.sessionResult.correct_answers>e.sessionResult.wrong_answers),f(),G("fa-check",e.sessionResult.correct_answers>e.sessionResult.wrong_answers)("fa-times",e.sessionResult.correct_answers<=e.sessionResult.wrong_answers),f(),P(" ",e.sessionResult.correct_answers>e.sessionResult.wrong_answers?"Above threshold":"Below threshold"," "),f(6),O(e.formatCurrency(e.sessionResult.base_amount-e.sessionResult.final_amount)),f(5),P(" ",Ke(59,39,(e.sessionResult.base_amount-e.sessionResult.final_amount)/e.sessionResult.base_amount*100,"1.0-0"),"% efficiency "),f(15),g("options",e.responseTimeChartOptions),f(4),O(e.sessionResult.time_insignt),f(10),g("options",e.nistRadarChartOptions),f(4),O(e.sessionResult.nist_insight),f(10),g("options",e.financialImpactOptions),f(4),O(e.sessionResult.finincial_impact_insight),f(),g("ngIf",e.sessionResult.swot_analysis),f(11),O(e.sessionResult.strengths),f(7),O(e.sessionResult.area_of_improvement),f(7),O(e.sessionResult.recommended_actions),f(7),O(e.sessionResult.references)}}function FT(t,n){t&1&&(l(0,"div",55),w(1,"div",56),l(2,"p"),u(3,"Loading results..."),c()())}function LT(t,n){if(t&1){let e=N();l(0,"div",57),w(1,"i",58),l(2,"h2"),u(3,"Results Not Available"),c(),l(4,"p"),u(5),c(),l(6,"button",48),x("click",function(){y(e);let r=_();return v(r.retryExercise())}),u(7,"Return to Exercise"),c()()}if(t&2){let e=_();f(5),O(e.error)}}var wv=(()=>{class t{constructor(e,i,r){this.router=e,this.route=i,this.apiService=r,this.loading=!0,this.error=null,this.sessionResult=null,this.responseTimeChartOptions={},this.nistRadarChartOptions={},this.financialImpactOptions={},this.swotChartOptions={},this.sessionId=""}ngOnInit(){this.sessionId=this.route.snapshot.params.session_id,this.loadSessionResults(this.sessionId)}loadSessionResults(e){this.loading=!0,this.error=null,this.apiService.getuserSessionReport(e).subscribe({next:i=>{if(!i){this.error="No results data available for this session.",this.loading=!1;return}this.sessionResult=i,this.initializeCharts(),this.loading=!1},error:i=>{console.error("Error loading session results:",i),i.status===500?this.error="The session results are not available yet. This could be because the session is still in progress or has not been completed.":i.status===404?this.error="Session not found. Please check if the session ID is correct.":this.error="Failed to load session results. Please try again later.",this.loading=!1}})}initializeCharts(){if(!this.sessionResult)return;let e={color:"#FFFFFF",fontSize:12};this.responseTimeChartOptions={grid:{top:"10%",right:"5%",bottom:"15%",left:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:e,backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,extraCssText:"z-index: 1000;"},xAxis:{type:"category",data:this.sessionResult.answers.map((r,o)=>`Q${o+1}`),axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},axisLabel:{color:"#FFFFFF"}},yAxis:{type:"value",name:"Time (s)",nameTextStyle:e,axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},axisLabel:{color:"#FFFFFF"}},series:[{name:"Response Time",type:"bar",data:this.sessionResult.answers.map(r=>({value:r.time_taken,itemStyle:{color:r.is_correct?"#2ecc71":"#e74c3c"}})),barWidth:"40%",label:{show:!0,position:"top",color:"#FFFFFF",formatter:"{c}s"}}]},this.nistRadarChartOptions={tooltip:{extraCssText:"z-index: 1000;"},radar:{indicator:this.sessionResult.nistScores.map(r=>({name:r.frameworkName,max:100})),splitArea:{areaStyle:{color:["rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}},axisName:{color:"#FFFFFF"}},series:[{type:"radar",data:[{value:this.sessionResult.nistScores.map(r=>r.totalCount>0?r.correctCount/r.totalCount*100:0),name:"Framework Coverage",areaStyle:{color:"rgba(52, 152, 219, 0.3)"},lineStyle:{color:"#3498db",width:2},itemStyle:{color:"#3498db"}}]}]};let i=this.sessionResult.base_amount-this.sessionResult.final_amount;if(this.financialImpactOptions={tooltip:{trigger:"item",formatter:"{b}: ${c}",textStyle:e,backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,extraCssText:"z-index: 1000;"},legend:{orient:"vertical",right:"5%",top:"center",textStyle:{color:"#FFFFFF"}},series:[{name:"Financial Impact",type:"pie",radius:["50%","70%"],center:["40%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#FFFFFF",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold",color:"#FFFFFF"}},data:[{value:i,name:"Amount Saved",itemStyle:{color:"#2ecc71"}},{value:this.sessionResult.final_amount,name:"Final Amount",itemStyle:{color:"#e74c3c"}}]}]},this.sessionResult.swot_analysis){let r={Strengths:this.sessionResult.swot_analysis.strengths.details,Weaknesses:this.sessionResult.swot_analysis.weaknesses.details,Opportunities:this.sessionResult.swot_analysis.opportunities.details,Threats:this.sessionResult.swot_analysis.threats.details};this.swotChartOptions={backgroundColor:"transparent",tooltip:{formatter:function(o){let s=o.value,a=o.name,d=r[a]||"No details available";return['<div style="padding: 10px;">',`<div style="font-weight:bold;color:#fff;font-size:16px;margin-bottom:8px;">${a}</div>`,`<div style="color:#fff;font-size:14px;margin-bottom:8px;">Score: <span style="font-weight:bold">${s}%</span></div>`,`<div style="color:#ddd;font-size:12px;">${d}</div>`,"</div>"].join("")},backgroundColor:"rgba(0, 0, 0, 0.8)",borderColor:"rgba(255, 255, 255, 0.3)",borderWidth:1,padding:0,textStyle:{color:"#FFFFFF",fontSize:14},extraCssText:"z-index: 1000 !important; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); border-radius: 8px;"},series:[{type:"treemap",roam:!1,nodeClick:!1,breadcrumb:{show:!1},label:{show:!0,formatter:`{b}
{c}%`,fontSize:16,fontWeight:"bold",color:"#FFFFFF",textBorderColor:"rgba(0, 0, 0, 0.3)",textBorderWidth:2,textShadowBlur:4,textShadowColor:"rgba(0, 0, 0, 0.5)"},upperLabel:{show:!1},itemStyle:{borderColor:"#000",borderWidth:3,gapWidth:3,shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10},emphasis:{itemStyle:{shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.8)"},label:{fontSize:18,fontWeight:"bold"}},levels:[{itemStyle:{borderColor:"#333",borderWidth:3,gapWidth:3}}],data:[{name:"Strengths",value:this.sessionResult.swot_analysis.strengths.score,itemStyle:{color:new gi.LinearGradient(0,0,0,1,[{offset:0,color:"#2ecc71"},{offset:1,color:"#27ae60"}])}},{name:"Opportunities",value:this.sessionResult.swot_analysis.opportunities.score,itemStyle:{color:new gi.LinearGradient(0,0,0,1,[{offset:0,color:"#3498db"},{offset:1,color:"#2980b9"}])}},{name:"Weaknesses",value:this.sessionResult.swot_analysis.weaknesses.score,itemStyle:{color:new gi.LinearGradient(0,0,0,1,[{offset:0,color:"#e74c3c"},{offset:1,color:"#c0392b"}])}},{name:"Threats",value:this.sessionResult.swot_analysis.threats.score,itemStyle:{color:new gi.LinearGradient(0,0,0,1,[{offset:0,color:"#f39c12"},{offset:1,color:"#d35400"}])}}]}]}}}getAccuracyPercentage(){return this.sessionResult?this.sessionResult.correct_answers/this.sessionResult.total_questions*100:0}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}retryExercise(){this.router.navigate(["/exercise/session",this.sessionId])}downloadReport(){if(console.log("Downloading report..."),!this.sessionResult)return;let e="data:text/csv;charset=utf-8,";e+=`Exercise Results\r
`,e+=`Exercise: ${this.sessionResult.exercise_name}\r
`,e+=`Time Spent: ${this.sessionResult.time_spent}\r
`,e+=`Score: ${this.getAccuracyPercentage().toFixed(1)}%\r
`,e+=`Correct Answers: ${this.sessionResult.correct_answers}/${this.sessionResult.total_questions}\r
`,e+=`Amount Saved: $${(this.sessionResult.base_amount-this.sessionResult.final_amount).toLocaleString()}\r
\r
`,e+=`NIST Framework Coverage\r
`,e+=`Framework,Score\r
`,this.sessionResult.nistScores.forEach(o=>{let s=o.totalCount>0?o.correctCount/o.totalCount*100:0;e+=`${o.frameworkName},${s.toFixed(1)}%\r
`}),e+=`\r
`,this.sessionResult.swot_analysis&&(e+=`SWOT Analysis\r
`,e+=`Strengths,${this.sessionResult.swot_analysis.strengths.score}%,${this.sessionResult.swot_analysis.strengths.details}\r
`,e+=`Opportunities,${this.sessionResult.swot_analysis.opportunities.score}%,${this.sessionResult.swot_analysis.opportunities.details}\r
`,e+=`Weaknesses,${this.sessionResult.swot_analysis.weaknesses.score}%,${this.sessionResult.swot_analysis.weaknesses.details}\r
`,e+=`Threats,${this.sessionResult.swot_analysis.threats.score}%,${this.sessionResult.swot_analysis.threats.details}\r
\r
`),e+=`Question Details\r
`,e+=`Question,Time Taken (s),Correct\r
`,this.sessionResult.answers.forEach((o,s)=>{e+=`Question ${s+1},${o.time_taken},${o.is_correct?"Yes":"No"}\r
`}),e+=`\r
`,e+=`Key Insights\r
`,e+=`Strengths: ${this.sessionResult.strengths}\r
\r
`,e+=`Areas for Improvement: ${this.sessionResult.area_of_improvement}\r
\r
`,e+=`Recommended Actions: ${this.sessionResult.recommended_actions}\r
\r
`,e+=`References: ${this.sessionResult.references}\r
\r
`;let i=encodeURI(e),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",`Exercise_Results_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(r),r.click(),document.body.removeChild(r)}shareResults(){let e=window.location.href,i=document.createElement("input");document.body.appendChild(i),i.value=e,i.select(),document.execCommand("copy"),document.body.removeChild(i),alert("Results URL copied to clipboard! You can now share this link.")}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||t)(R(qe),R(Qe),R(Ut))}}static{this.\u0275cmp=X({type:t,selectors:[["app-results"]],standalone:!0,features:[ee],decls:3,vars:3,consts:[["class","results-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"results-container"],[1,"results-header"],["src","https://esflabs.ai/logo.svg","alt","ESF Labs",1,"logo"],[1,"exercise-info"],[1,"badge"],[1,"completion-time"],[1,"results-content"],[1,"summary-grid"],[1,"summary-card"],[1,"card-icon"],[1,"fas","fa-star"],[1,"card-content"],[1,"card-value"],[1,"percentage"],[1,"card-label"],[1,"card-trend"],[1,"fas"],[1,"fas","fa-clock"],[1,"fas","fa-info-circle"],[1,"fas","fa-shield-alt"],[1,"fas","fa-sack-dollar"],[1,"card-trend","positive"],[1,"fas","fa-arrow-up"],[1,"detailed-analysis"],[1,"analysis-grid"],[1,"analysis-section"],[1,"section-header"],[1,"section-info"],[1,"tooltip"],[1,"chart-container"],["echarts","",1,"chart",3,"options"],[1,"insight-box"],[1,"fas","fa-lightbulb"],["class","analysis-section swot-section",4,"ngIf"],[1,"key-learnings"],[1,"learning-grid"],[1,"learning-card","strength"],[1,"card-header"],[1,"fas","fa-check-circle"],[1,"learning-card","improvement"],[1,"learning-card","action"],[1,"fas","fa-tasks"],[1,"learning-card","resources"],[1,"fas","fa-book"],[1,"action-buttons"],[1,"primary-btn",3,"click"],[1,"fas","fa-redo"],[1,"secondary-btn",3,"click"],[1,"fas","fa-download"],[1,"tertiary-btn",3,"click"],[1,"fas","fa-share"],[1,"analysis-section","swot-section"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"fas","fa-exclamation-circle"]],template:function(i,r){i&1&&E(0,NT,149,42,"div",0)(1,FT,4,0,"div",1)(2,LT,8,1,"div",2),i&2&&(g("ngIf",!r.loading&&!r.error&&r.sessionResult),f(),g("ngIf",r.loading),f(),g("ngIf",r.error))},dependencies:[ne,je,gt,ci,Qr],styles:[".results-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem;color:#fff}.results-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;padding-top:2rem}.logo[_ngcontent-%COMP%]{height:80px;margin-bottom:1rem;filter:brightness(0) invert(1)}h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:1rem;font-weight:800;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.exercise-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.badge[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.completion-time[_ngcontent-%COMP%]{color:#ffffffe6}.results-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2.5rem;border:1px solid rgba(255,255,255,.2)}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.summary-card[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:1.5rem;display:flex;align-items:center;gap:1.5rem;transition:transform .3s ease;border:1px solid rgba(255,255,255,.2);height:100%}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-icon[_ngcontent-%COMP%]{width:50px;height:50px;min-width:50px;background:#ffffff1a;border-radius:12px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.2)}.card-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.card-content[_ngcontent-%COMP%]{flex:1}.card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;line-height:1;margin-bottom:.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.percentage[_ngcontent-%COMP%], .unit[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}.card-label[_ngcontent-%COMP%]{color:#ffffffe6;font-size:.9rem;margin-bottom:.5rem}.card-trend[_ngcontent-%COMP%]{font-size:.8rem;display:flex;align-items:center;gap:.3rem;color:#ffffffb3}.card-trend.positive[_ngcontent-%COMP%]{color:#2ecc71}.card-trend.negative[_ngcontent-%COMP%]{color:#e74c3c}.detailed-analysis[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:2rem;margin-bottom:3rem;border:1px solid rgba(255,255,255,.2)}h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem}.analysis-section[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:15px;padding:1.5rem;border:1px solid rgba(255,255,255,.2);height:100%;display:flex;flex-direction:column;box-shadow:0 4px 15px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.analysis-section[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}h3[_ngcontent-%COMP%]{color:#fff;font-size:1.4rem;margin:0;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.chart-container[_ngcontent-%COMP%]{flex:1;min-height:300px;width:100%;margin-bottom:1.5rem;background:#ffffff05;border-radius:12px;overflow:hidden;position:relative}.chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.insight-box[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:8px;padding:1rem;display:flex;align-items:flex-start;gap:1rem;border:1px solid rgba(255,255,255,.2);margin-top:auto}.insight-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db;font-size:1.2rem;min-width:1.2rem}.insight-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#ffffffe6;font-size:.9rem;line-height:1.5}.swot-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{background:#0003;border:1px solid rgba(255,255,255,.15);box-shadow:inset 0 0 20px #0003;border-radius:15px;overflow:hidden;padding:10px;position:relative;z-index:1}.swot-section[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{border-radius:10px;z-index:1}.echarts-tooltip[_ngcontent-%COMP%]{z-index:1000!important;pointer-events:none}.key-learnings[_ngcontent-%COMP%]{margin-bottom:3rem}.learning-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.learning-card[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:1.5rem;border:1px solid rgba(255,255,255,.2);height:100%;transition:transform .3s ease,box-shadow .3s ease}.learning-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.learning-card.strength[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2ecc71}.learning-card.improvement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f39c12}.learning-card.action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.learning-card.resources[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9b59b6}.learning-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:.9rem;line-height:1.6;margin:0}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:3rem}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%], .tertiary-btn[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:30px;font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .3s ease}.primary-btn[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none}.secondary-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid #FFFFFF}.tertiary-btn[_ngcontent-%COMP%]{background:transparent;color:#ffffffe6;border:none}.primary-btn[_ngcontent-%COMP%]:hover, .secondary-btn[_ngcontent-%COMP%]:hover, .tertiary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;text-align:center;padding:2rem}.error-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#e74c3c;margin-bottom:1rem}@media (max-width: 1200px){.analysis-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.results-container[_ngcontent-%COMP%]{padding:1rem}.results-content[_ngcontent-%COMP%]{padding:1.5rem}h1[_ngcontent-%COMP%]{font-size:2rem}.chart-container[_ngcontent-%COMP%]{min-height:250px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%], .tertiary-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 480px){.exercise-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.card-value[_ngcontent-%COMP%]{font-size:1.5rem}.chart-container[_ngcontent-%COMP%]{min-height:200px}}"]})}}return t})();function VT(t,n){if(t&1){let e=N();l(0,"div",53)(1,"label")(2,"input",50),x("change",function(){let r=y(e).$implicit,o=_(2);return v(o.toggleClient(r))}),c(),u(3),c()()}if(t&2){let e=n.$implicit;f(2),g("checked",e.selected),f(),P(" ",e.name," ")}}function jT(t,n){if(t&1){let e=N();l(0,"div",48)(1,"div",49)(2,"label")(3,"input",50),x("change",function(r){y(e);let o=_();return v(o.toggleAllClients(r))}),c(),u(4," Select All Clients "),c()(),l(5,"div",51),E(6,VT,4,2,"div",52),c()()}if(t&2){let e=_();$e("top",e.dropdownPosition.top)("left",e.dropdownPosition.left),f(3),g("checked",e.areAllClientsSelected()),f(3),g("ngForOf",e.clients)}}function BT(t,n){if(t&1&&(l(0,"div",54)(1,"div",55)(2,"span",56),u(3),c(),l(4,"span",57),u(5),c()(),l(6,"div",58),w(7,"div",59),c()()),t&2){let e=n.$implicit;f(3),O(e.key),f(2),P("",e.value,"%"),f(2),$e("width",e.value,"%")}}function UT(t,n){if(t&1&&(l(0,"div",60)(1,"div",61),u(2),c(),l(3,"div",62)(4,"div",63),u(5),c(),l(6,"div",64),u(7),c(),l(8,"div",65),u(9),c()()()),t&2){let e=n.$implicit;f(2),O(e.time),f(3),O(e.type),f(2),O(e.impact),f(2),O(e.department)}}function zT(t,n){if(t&1&&(l(0,"div",74)(1,"span",75),u(2),c(),l(3,"div",76),w(4,"div",77),l(5,"span",78),u(6),c()()()),t&2){let e=n.$implicit;f(2),O(e.key),f(2),$e("width",e.value,"%"),f(2),P("",e.value,"%")}}function $T(t,n){if(t&1&&(l(0,"div",66)(1,"h3"),u(2),c(),l(3,"div",67)(4,"div",68)(5,"span",69),u(6),c(),l(7,"span",70),u(8,"Participants"),c()(),l(9,"div",68)(10,"span",69),u(11),c(),l(12,"span",70),u(13,"Avg Score"),c()(),l(14,"div",68)(15,"span",69),u(16),c(),l(17,"span",70),u(18,"Avg Response"),c()(),l(19,"div",68)(20,"span",69),u(21),se(22,"number"),c(),l(23,"span",70),u(24,"Total Amount"),c()()(),l(25,"div",71)(26,"h4"),u(27,"NIST Coverage"),c(),l(28,"div",72),E(29,zT,7,4,"div",73),se(30,"keyvalue"),c()()()),t&2){let e=n.$implicit;f(2),O(e.name),f(4),O(e.participantCount),f(5),P("",e.averageScore,"%"),f(5),P("",e.averageResponseTime,"s"),f(5),P("\\$",Le(22,6,e.totalAmount),""),f(8),g("ngForOf",Le(30,8,e.nistCoverage))}}function WT(t,n){if(t&1&&(l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td")(8,"div",79)(9,"div",80),u(10),c()()(),l(11,"td"),u(12),se(13,"number"),c(),l(14,"td"),u(15),c(),l(16,"td"),u(17),se(18,"number"),c(),l(19,"td")(20,"span",81),u(21),se(22,"titlecase"),c()()()),t&2){let e=n.$implicit;f(2),O(e.name),f(2),O(e.department),f(2),O(e.role),f(3),$e("width",e.currentQuestion/e.totalQuestions*100,"%"),f(),Lt(" ",e.currentQuestion,"/",e.totalQuestions," "),f(2),P("",Ke(13,13,e.correctAnswers/e.totalQuestions*100,"1.0-0"),"%"),f(3),P("",e.averageResponseTime,"s"),f(2),P("\\$",Le(18,16,e.currentAmount),""),f(3),Ni(e.status),f(),P(" ",Le(22,18,e.status)," ")}}var xv=(()=>{class t{toggleClientDropdown(e){e.stopPropagation(),this.showClientDropdown=!this.showClientDropdown,this.showClientDropdown&&setTimeout(()=>{window.addEventListener("click",this.closeDropdown)})}toggleAllClients(e){let i=e.target;this.clients.forEach(r=>r.selected=i.checked),this.updateDashboard()}toggleClient(e){e.selected=!e.selected,this.updateDashboard()}areAllClientsSelected(){return this.clients.every(e=>e.selected)}getSelectedClientsCount(){return this.clients.filter(e=>e.selected).length}updateDashboard(){console.log("Selected clients:",this.clients.filter(e=>e.selected).map(e=>e.name))}constructor(e){this.apiService=e,this.participants=[{id:"1",name:"John Smith",department:"IT Security",role:"Security Analyst",currentQuestion:8,totalQuestions:10,correctAnswers:7,averageResponseTime:45.5,currentAmount:85e4,status:"active"},{id:"2",name:"Sarah Johnson",department:"IT Security",role:"Security Engineer",currentQuestion:10,totalQuestions:10,correctAnswers:9,averageResponseTime:32.3,currentAmount:75e4,status:"completed"},{id:"3",name:"Mike Chen",department:"Operations",role:"Operations Manager",currentQuestion:6,totalQuestions:10,correctAnswers:4,averageResponseTime:55.7,currentAmount:92e4,status:"active"},{id:"4",name:"Emily Brown",department:"Risk Management",role:"Risk Analyst",currentQuestion:9,totalQuestions:10,correctAnswers:8,averageResponseTime:38.9,currentAmount:8e5,status:"active"},{id:"5",name:"David Wilson",department:"IT Security",role:"Network Security Engineer",currentQuestion:7,totalQuestions:10,correctAnswers:6,averageResponseTime:41.2,currentAmount:68e4,status:"active"},{id:"6",name:"Lisa Martinez",department:"Operations",role:"Systems Administrator",currentQuestion:10,totalQuestions:10,correctAnswers:8,averageResponseTime:35.8,currentAmount:77e4,status:"completed"},{id:"7",name:"James Taylor",department:"Risk Management",role:"Compliance Officer",currentQuestion:5,totalQuestions:10,correctAnswers:4,averageResponseTime:48.5,currentAmount:89e4,status:"active"},{id:"8",name:"Maria Garcia",department:"IT Security",role:"Incident Response Specialist",currentQuestion:3,totalQuestions:10,correctAnswers:3,averageResponseTime:29.7,currentAmount:95e4,status:"active"},{id:"9",name:"Robert Lee",department:"Operations",role:"Infrastructure Manager",currentQuestion:0,totalQuestions:10,correctAnswers:0,averageResponseTime:0,currentAmount:1e6,status:"not_started"},{id:"10",name:"Jennifer White",department:"Risk Management",role:"Risk Manager",currentQuestion:10,totalQuestions:10,correctAnswers:9,averageResponseTime:33.4,currentAmount:72e4,status:"completed"}],this.departmentStats=[{name:"IT Security",participantCount:4,averageScore:87.2,averageResponseTime:37.2,totalAmount:323e4,nistCoverage:{Identify:92,Protect:88,Detect:90,Respond:85,Recover:82}},{name:"Operations",participantCount:3,averageScore:75.5,averageResponseTime:45.7,totalAmount:269e4,nistCoverage:{Identify:78,Protect:72,Detect:80,Respond:68,Recover:70}},{name:"Risk Management",participantCount:3,averageScore:84.3,averageResponseTime:40.3,totalAmount:241e4,nistCoverage:{Identify:88,Protect:85,Detect:82,Respond:87,Recover:84}}],this.orgPerformance={totalParticipants:45,activeParticipants:32,completedParticipants:10,averageScore:85,totalAmount:5e6,savedAmount:75e4,riskLevel:"Medium",nistMaturity:{Identify:88,Protect:92,Detect:78,Respond:85,Recover:82},recentIncidents:[{time:"10:45 AM",type:"Phishing Attempt",impact:"Medium Risk - $50,000 potential loss prevented",department:"Finance"},{time:"10:30 AM",type:"Access Control Violation",impact:"Low Risk - Unauthorized access prevented",department:"IT"},{time:"10:15 AM",type:"Data Breach Attempt",impact:"High Risk - Customer data protected",department:"Operations"}]},this.clients=[{id:1,name:"Acme Corporation",selected:!0},{id:2,name:"TechCorp Solutions",selected:!0},{id:3,name:"Global Industries",selected:!0},{id:4,name:"Innovative Systems",selected:!0},{id:5,name:"Future Enterprises",selected:!0}],this.showClientDropdown=!1,this.dropdownPosition={top:"0px",left:"0px"},this.closeDropdown=()=>{this.showClientDropdown=!1,window.removeEventListener("click",this.closeDropdown)}}ngOnInit(){this.updateDashboard()}ngOnDestroy(){window.removeEventListener("click",this.closeDropdown)}static{this.\u0275fac=function(i){return new(i||t)(R(Ut))}}static{this.\u0275cmp=X({type:t,selectors:[["app-observer-dashboard"]],standalone:!0,features:[ee],decls:109,vars:22,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"top-bar"],[1,"client-selector"],[1,"client-dropdown-toggle",3,"click"],[1,"fas","fa-building"],[1,"fas"],["class","client-dropdown",3,"top","left",4,"ngIf"],[1,"header-main"],[1,"exercise-info"],[1,"badge"],[1,"exercise-name"],[1,"dashboard-grid"],[1,"org-performance"],[1,"org-metrics"],[1,"metric-cards"],[1,"metric-card","participants"],[1,"metric-header"],[1,"fas","fa-users"],[1,"metric-numbers"],[1,"primary-number"],[1,"secondary-numbers"],[1,"active"],[1,"completed"],[1,"metric-card","score"],[1,"fas","fa-chart-line"],[1,"trend","up"],[1,"fas","fa-arrow-up"],[1,"metric-card","financial"],[1,"fas","fa-dollar-sign"],[1,"secondary-label"],[1,"metric-card","risk"],[1,"fas","fa-shield-alt"],[1,"risk-badge"],[1,"org-details"],[1,"nist-maturity"],[1,"maturity-grid"],["class","maturity-item",4,"ngFor","ngForOf"],[1,"recent-incidents"],[1,"incidents-list"],["class","incident",4,"ngFor","ngForOf"],[1,"department-overview"],[1,"department-cards"],["class","department-card",4,"ngFor","ngForOf"],[1,"participant-list"],[1,"participant-table"],[4,"ngFor","ngForOf"],[1,"client-dropdown"],[1,"select-all"],["type","checkbox",3,"change","checked"],[1,"client-list"],["class","client-item",4,"ngFor","ngForOf"],[1,"client-item"],[1,"maturity-item"],[1,"maturity-header"],[1,"framework-name"],[1,"maturity-score"],[1,"maturity-bar"],[1,"maturity-progress"],[1,"incident"],[1,"incident-time"],[1,"incident-details"],[1,"incident-type"],[1,"incident-impact"],[1,"incident-department"],[1,"department-card"],[1,"stats-grid"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"nist-coverage"],[1,"coverage-bars"],["class","coverage-bar",4,"ngFor","ngForOf"],[1,"coverage-bar"],[1,"bar-label"],[1,"bar-container"],[1,"bar"],[1,"bar-value"],[1,"progress-bar"],[1,"progress"],[1,"status-badge"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),x("click",function(s){return r.toggleClientDropdown(s)}),w(6,"i",6),u(7),w(8,"i",7),c(),E(9,jT,7,6,"div",8),c()(),l(10,"div",9)(11,"h1"),u(12,"Observer Dashboard"),c(),l(13,"div",10)(14,"span",11),u(15,"Live Exercise"),c(),l(16,"span",12),u(17,"Supply Chain Attack Simulation"),c()()()()(),l(18,"div",13)(19,"section",14)(20,"h2"),u(21,"Organization Performance"),c(),l(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),w(26,"i",19),l(27,"h3"),u(28,"Participants"),c()(),l(29,"div",20)(30,"div",21),u(31),c(),l(32,"div",22)(33,"span",23),u(34),c(),l(35,"span",24),u(36),c()()()(),l(37,"div",25)(38,"div",18),w(39,"i",26),l(40,"h3"),u(41,"Average Score"),c()(),l(42,"div",20)(43,"div",21),u(44),c(),l(45,"div",27),w(46,"i",28),u(47," 5% from last exercise "),c()()(),l(48,"div",29)(49,"div",18),w(50,"i",30),l(51,"h3"),u(52,"Financial Impact"),c()(),l(53,"div",20)(54,"div",21),u(55),se(56,"number"),c(),l(57,"div",31),u(58,"Total Saved"),c()()(),l(59,"div",32)(60,"div",18),w(61,"i",33),l(62,"h3"),u(63,"Risk Level"),c()(),l(64,"div",20)(65,"div",34),u(66),c()()()(),l(67,"div",35)(68,"div",36)(69,"h3"),u(70,"NIST Framework Maturity"),c(),l(71,"div",37),E(72,BT,8,4,"div",38),se(73,"keyvalue"),c()(),l(74,"div",39)(75,"h3"),u(76,"Recent Incidents"),c(),l(77,"div",40),E(78,UT,10,4,"div",41),c()()()()(),l(79,"section",42)(80,"h2"),u(81,"Department Performance"),c(),l(82,"div",43),E(83,$T,31,10,"div",44),c()(),l(84,"section",45)(85,"h2"),u(86,"Participant Status"),c(),l(87,"div",46)(88,"table")(89,"thead")(90,"tr")(91,"th"),u(92,"Name"),c(),l(93,"th"),u(94,"Department"),c(),l(95,"th"),u(96,"Role"),c(),l(97,"th"),u(98,"Progress"),c(),l(99,"th"),u(100,"Score"),c(),l(101,"th"),u(102,"Response Time"),c(),l(103,"th"),u(104,"Amount"),c(),l(105,"th"),u(106,"Status"),c()()(),l(107,"tbody"),E(108,WT,23,20,"tr",47),c()()()()()()),i&2&&(f(7),P(" ",r.getSelectedClientsCount()," Clients Selected "),f(),G("fa-chevron-down",!r.showClientDropdown)("fa-chevron-up",r.showClientDropdown),f(),g("ngIf",r.showClientDropdown),f(22),O(r.orgPerformance.totalParticipants),f(3),P("",r.orgPerformance.activeParticipants," Active"),f(2),P("",r.orgPerformance.completedParticipants," Completed"),f(8),P("",r.orgPerformance.averageScore,"%"),f(11),P("$",Le(56,18,r.orgPerformance.savedAmount),""),f(10),Ni(r.orgPerformance.riskLevel.toLowerCase()),f(),P(" ",r.orgPerformance.riskLevel," "),f(6),g("ngForOf",Le(73,20,r.orgPerformance.nistMaturity)),f(6),g("ngForOf",r.orgPerformance.recentIncidents),f(5),g("ngForOf",r.departmentStats),f(25),g("ngForOf",r.participants))},dependencies:[ne,ue,je,gt,D_,I_,Ge],styles:[".dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#cc649b,#64ccc9);padding:2rem;color:#231651}.dashboard-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:0;border-radius:15px;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2)}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.top-bar[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.2);display:flex;justify-content:flex-end}.header-main[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem;color:#231651}.exercise-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.badge[_ngcontent-%COMP%]{background:#231651;color:#64ccc9;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600}.exercise-name[_ngcontent-%COMP%]{font-size:1.2rem;color:#231651}.dashboard-grid[_ngcontent-%COMP%]{display:grid;gap:2rem}.department-overview[_ngcontent-%COMP%], .participant-list[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2)}h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:1.5rem;color:#231651}.department-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.department-card[_ngcontent-%COMP%]{background:#ffffff26;padding:1.5rem;border-radius:12px}.department-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem;color:#231651}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1.5rem}.stat[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#231651;display:block}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#231651;opacity:.8}.nist-coverage[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:#231651}.coverage-bars[_ngcontent-%COMP%]{display:grid;gap:.5rem}.coverage-bar[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 1fr;align-items:center;gap:1rem}.bar-label[_ngcontent-%COMP%]{font-size:.9rem;color:#231651}.bar-container[_ngcontent-%COMP%]{background:#ffffff1a;height:8px;border-radius:4px;position:relative}.bar[_ngcontent-%COMP%]{background:#231651;height:100%;border-radius:4px;transition:width .3s ease}.bar-value[_ngcontent-%COMP%]{position:absolute;right:-40px;top:50%;transform:translateY(-50%);font-size:.8rem;color:#231651}.participant-table[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(35,22,81,.1)}th[_ngcontent-%COMP%]{font-weight:600;color:#231651;background:#ffffff1a}.progress-bar[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;height:20px;overflow:hidden}.progress[_ngcontent-%COMP%]{background:#231651;height:100%;display:flex;align-items:center;justify-content:center;color:#64ccc9;font-size:.8rem;transition:width .3s ease}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.9rem;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:#4caf5033;color:#4caf50}.status-badge.completed[_ngcontent-%COMP%]{background:#2196f333;color:#2196f3}.status-badge.not_started[_ngcontent-%COMP%]{background:#9e9e9e33;color:#9e9e9e}.org-performance[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);margin-bottom:2rem}.metric-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.metric-card[_ngcontent-%COMP%]{background:#ffffff26;padding:1.5rem;border-radius:12px;transition:transform .3s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.metric-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.metric-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#231651}.metric-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#231651}.metric-numbers[_ngcontent-%COMP%]{text-align:center}.primary-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#231651;line-height:1;margin-bottom:.5rem}.secondary-numbers[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;font-size:.9rem}.active[_ngcontent-%COMP%]{color:#4caf50}.completed[_ngcontent-%COMP%]{color:#2196f3}.trend[_ngcontent-%COMP%]{font-size:.9rem;display:flex;align-items:center;justify-content:center;gap:.3rem}.trend.up[_ngcontent-%COMP%]{color:#4caf50}.trend.down[_ngcontent-%COMP%]{color:#f44336}.risk-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1.5rem;border-radius:20px;font-weight:600;font-size:1.2rem}.risk-badge.low[_ngcontent-%COMP%]{background:#4caf5033;color:#4caf50}.risk-badge.medium[_ngcontent-%COMP%]{background:#ff980033;color:#ff9800}.risk-badge.high[_ngcontent-%COMP%]{background:#f4433633;color:#f44336}.org-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.nist-maturity[_ngcontent-%COMP%], .recent-incidents[_ngcontent-%COMP%]{background:#ffffff26;padding:1.5rem;border-radius:12px}.maturity-grid[_ngcontent-%COMP%]{display:grid;gap:1rem}.maturity-item[_ngcontent-%COMP%]{margin-bottom:1rem}.maturity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.maturity-bar[_ngcontent-%COMP%]{height:8px;background:#ffffff1a;border-radius:4px;overflow:hidden}.maturity-progress[_ngcontent-%COMP%]{height:100%;background:#231651;border-radius:4px;transition:width .3s ease}.incidents-list[_ngcontent-%COMP%]{display:grid;gap:1rem}.incident[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:.75rem;background:#ffffff1a;border-radius:8px}.incident-time[_ngcontent-%COMP%]{font-size:.9rem;color:#231651;opacity:.8}.incident-details[_ngcontent-%COMP%]{flex:1}.incident-type[_ngcontent-%COMP%]{font-weight:600;color:#231651}.incident-impact[_ngcontent-%COMP%]{font-size:.9rem;color:#f44336}.incident-department[_ngcontent-%COMP%]{font-size:.9rem;color:#231651;opacity:.8}@media (max-width: 1200px){.org-details[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.department-cards[_ngcontent-%COMP%], .metric-cards[_ngcontent-%COMP%], .org-details[_ngcontent-%COMP%]{grid-template-columns:1fr}}.client-selector[_ngcontent-%COMP%]{position:relative}.client-dropdown-toggle[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);padding:.5rem 1rem;border-radius:20px;color:#231651;font-size:.9rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.client-dropdown-toggle[_ngcontent-%COMP%]:hover{background:#fff3}.client-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:.5rem;background:#fff;border-radius:12px;box-shadow:0 4px 20px #0000001a;min-width:250px;z-index:99999}.select-all[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(35,22,81,.1)}.select-all[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#231651;font-weight:600;cursor:pointer}.client-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;padding:.5rem 0}.client-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.client-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#231651;cursor:pointer}.client-item[_ngcontent-%COMP%]:hover{background:#2316510d}input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #231651;border-radius:4px;cursor:pointer}"]})}}return t})();var on=Object.create(null);on.open="0";on.close="1";on.ping="2";on.pong="3";on.message="4";on.upgrade="5";on.noop="6";var hs=Object.create(null);Object.keys(on).forEach(t=>{hs[on[t]]=t});var ms={type:"error",data:"parser error"};var Sv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dv=typeof ArrayBuffer=="function",Iv=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,gs=({type:t,data:n},e,i)=>Sv&&n instanceof Blob?e?i(n):Mv(n,i):Dv&&(n instanceof ArrayBuffer||Iv(n))?e?i(n):Mv(new Blob([n]),i):i(on[t]+(n||"")),Mv=(t,n)=>{let e=new FileReader;return e.onload=function(){let i=e.result.split(",")[1];n("b"+(i||""))},e.readAsDataURL(t)};function Ev(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var Mp;function Tv(t,n){if(Sv&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ev).then(n);if(Dv&&(t.data instanceof ArrayBuffer||Iv(t.data)))return n(Ev(t.data));gs(t,!1,e=>{Mp||(Mp=new TextEncoder),n(Mp.encode(e))})}var Ov="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ov.length;t++)_s[Ov.charCodeAt(t)]=t;var Pv=t=>{let n=t.length*.75,e=t.length,i,r=0,o,s,a,d;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);let p=new ArrayBuffer(n),h=new Uint8Array(p);for(i=0;i<e;i+=4)o=_s[t.charCodeAt(i)],s=_s[t.charCodeAt(i+1)],a=_s[t.charCodeAt(i+2)],d=_s[t.charCodeAt(i+3)],h[r++]=o<<2|s>>4,h[r++]=(s&15)<<4|a>>2,h[r++]=(a&3)<<6|d&63;return p};var qT=typeof ArrayBuffer=="function",ys=(t,n)=>{if(typeof t!="string")return{type:"message",data:Av(t,n)};let e=t.charAt(0);return e==="b"?{type:"message",data:HT(t.substring(1),n)}:hs[e]?t.length>1?{type:hs[e],data:t.substring(1)}:{type:hs[e]}:ms},HT=(t,n)=>{if(qT){let e=Pv(t);return Av(e,n)}else return{base64:!0,data:t}},Av=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var kv="",Rv=(t,n)=>{let e=t.length,i=new Array(e),r=0;t.forEach((o,s)=>{gs(o,!1,a=>{i[s]=a,++r===e&&n(i.join(kv))})})},Nv=(t,n)=>{let e=t.split(kv),i=[];for(let r=0;r<e.length;r++){let o=ys(e[r],n);if(i.push(o),o.type==="error")break}return i};function Fv(){return new TransformStream({transform(t,n){Tv(t,e=>{let i=e.length,r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);let o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);let o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),n.enqueue(r),n.enqueue(e)})}})}var Ep;function pl(t){return t.reduce((n,e)=>n+e.length,0)}function hl(t,n){if(t[0].length===n)return t.shift();let e=new Uint8Array(n),i=0;for(let r=0;r<n;r++)e[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),e}function Lv(t,n){Ep||(Ep=new TextDecoder);let e=[],i=0,r=-1,o=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(i===0){if(pl(e)<1)break;let d=hl(e,1);o=(d[0]&128)===128,r=d[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(pl(e)<2)break;let d=hl(e,2);r=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(pl(e)<8)break;let d=hl(e,8),p=new DataView(d.buffer,d.byteOffset,d.length),h=p.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(ms);break}r=h*Math.pow(2,32)+p.getUint32(4),i=3}else{if(pl(e)<r)break;let d=hl(e,r);a.enqueue(ys(o?d:Ep.decode(d),n)),i=0}if(r===0||r>t){a.enqueue(ms);break}}}})}var Sp=4;function De(t){if(t)return GT(t)}function GT(t){for(var n in De.prototype)t[n]=De.prototype[n];return t}De.prototype.on=De.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};De.prototype.once=function(t,n){function e(){this.off(t,e),n.apply(this,arguments)}return e.fn=n,this.on(t,e),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<e.length;r++)if(i=e[r],i===n||i.fn===n){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+t],this};De.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+t],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,r=e.length;i<r;++i)e[i].apply(this,n)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};De.prototype.hasListeners=function(t){return!!this.listeners(t).length};var Rn=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Vv="arraybuffer";function ml(t,...n){return n.reduce((e,i)=>(t.hasOwnProperty(i)&&(e[i]=t[i]),e),{})}var QT=dt.setTimeout,YT=dt.clearTimeout;function Nn(t,n){n.useNativeTimers?(t.setTimeoutFn=QT.bind(dt),t.clearTimeoutFn=YT.bind(dt)):(t.setTimeoutFn=dt.setTimeout.bind(dt),t.clearTimeoutFn=dt.clearTimeout.bind(dt))}var ZT=1.33;function jv(t){return typeof t=="string"?KT(t):Math.ceil((t.byteLength||t.size)*ZT)}function KT(t){let n=0,e=0;for(let i=0,r=t.length;i<r;i++)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(i++,e+=4);return e}function gl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Bv(t){let n="";for(let e in t)t.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n}function Uv(t){let n={},e=t.split("&");for(let i=0,r=e.length;i<r;i++){let o=e[i].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return n}var _l=class extends Error{constructor(n,e,i){super(n),this.description=e,this.context=i,this.type="TransportError"}},Fn=class extends De{constructor(n){super(),this.writable=!1,Nn(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,e,i){return super.emitReserved("error",new _l(n,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){let e=ys(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){let e=Bv(n);return e.length?"?"+e:""}};var vs=class extends Fn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){let e=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Nv(n,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,Rv(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=gl()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}};var zv=!1;try{zv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var $v=zv;function JT(){}var Dp=class extends vs{constructor(n){if(super(n),typeof location<"u"){let e=location.protocol==="https:",i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||i!==n.port}}doWrite(n,e){let i=this.request({method:"POST",data:n});i.on("success",e),i.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=n}},yl=(()=>{class t extends De{constructor(e,i,r){super(),this.createRequest=e,Nn(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let i=ml(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=JT,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Wv);else if(typeof addEventListener=="function"){let t="onpagehide"in dt?"pagehide":"unload";addEventListener(t,Wv,!1)}}function Wv(){for(let t in yl.requests)yl.requests.hasOwnProperty(t)&&yl.requests[t].abort()}var XT=function(){let t=qv({xdomain:!1});return t&&t.responseType!==null}(),li=class extends Dp{constructor(n){super(n);let e=n&&n.forceBase64;this.supportsBinary=XT&&!e}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new yl(qv,this.uri(),n)}};function qv(t){let n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||$v))return new XMLHttpRequest}catch{}if(!n)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Hv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Tp=class extends Fn{get name(){return"websocket"}doOpen(){let n=this.uri(),e=this.opts.protocols,i=Hv?{}:ml(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,e,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let i=n[e],r=e===n.length-1;gs(i,this.supportsBinary,o=>{try{this.doWrite(i,o)}catch{}r&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=gl()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}},Ip=dt.WebSocket||dt.MozWebSocket,di=class extends Tp{createSocket(n,e,i){return Hv?new Ip(n,e,i):e?new Ip(n,e):new Ip(n)}doWrite(n,e){this.ws.send(e)}};var Yr=class extends Fn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{let e=Lv(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=n.readable.pipeThrough(e).getReader(),r=Fv();r.readable.pipeTo(n.writable),this._writer=r.writable.getWriter();let o=()=>{i.read().then(({done:a,value:d})=>{a||(this.onPacket(d),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let i=n[e],r=e===n.length-1;this._writer.write(i).then(()=>{r&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}};var Op={websocket:di,webtransport:Yr,polling:li};var eO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Zr(t){if(t.length>8e3)throw"URI too long";let n=t,e=t.indexOf("["),i=t.indexOf("]");e!=-1&&i!=-1&&(t=t.substring(0,e)+t.substring(e,i).replace(/:/g,";")+t.substring(i,t.length));let r=eO.exec(t||""),o={},s=14;for(;s--;)o[tO[s]]=r[s]||"";return e!=-1&&i!=-1&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=nO(o,o.path),o.queryKey=iO(o,o.query),o}function nO(t,n){let e=/\/{2,9}/g,i=n.replace(e,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&i.splice(0,1),n.slice(-1)=="/"&&i.splice(i.length-1,1),i}function iO(t,n){let e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,o){r&&(e[r]=o)}),e}var Pp=typeof addEventListener=="function"&&typeof removeEventListener=="function",vl=[];Pp&&addEventListener("offline",()=>{vl.forEach(t=>t())},!1);var Cl=(()=>{class t extends De{constructor(e,i){if(super(),this.binaryType=Vv,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){let r=Zr(e);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=Zr(i.host).host);Nn(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{let o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Uv(this.opts.query)),Pp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let i=Object.assign({},this.opts.query);i.EIO=Sp,i.transport=e,this.id&&(i.sid=this.id);let r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){let o=this.writeBuffer[r].data;if(o&&(i+=jv(o)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rn(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,r){return this._sendPacket("message",e,i,r),this}send(e,i,r){return this._sendPacket("message",e,i,r),this}_sendPacket(e,i,r,o){if(typeof i=="function"&&(o=i,i=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let s={type:e,data:i,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=vl.indexOf(this._offlineEventListener);r!==-1&&vl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=Sp,t})(),bl=class extends Cl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let e=this.createTransport(n),i=!1;Cl.priorWebsocketSuccess=!1;let r=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Cl.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let b=new Error("probe error");b.transport=e.name,this.emitReserved("upgradeError",b)}}))};function o(){i||(i=!0,h(),e.close(),e=null)}let s=m=>{let b=new Error("probe error: "+m);b.transport=e.name,o(),this.emitReserved("upgradeError",b)};function a(){s("transport closed")}function d(){s("socket closed")}function p(m){e&&m.name!==e.name&&o()}let h=()=>{e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",a),this.off("close",d),this.off("upgrading",p)};e.once("open",r),e.once("error",s),e.once("close",a),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){let e=[];for(let i=0;i<n.length;i++)~this.transports.indexOf(n[i])&&e.push(n[i]);return e}},Kr=class extends bl{constructor(n,e={}){let i=typeof n=="object"?n:e;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>Op[r]).filter(r=>!!r)),super(n,i)}};var I8=Kr.protocol;function Gv(t,n="",e){let i=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),i=Zr(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+n,i.href=i.protocol+"://"+o+(e&&e.port===i.port?"":":"+i.port),i}var Lp={};pb(Lp,{Decoder:()=>Np,Encoder:()=>Rp,PacketType:()=>ae,protocol:()=>Jv});var oO=typeof ArrayBuffer=="function",sO=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Qv=Object.prototype.toString,aO=typeof Blob=="function"||typeof Blob<"u"&&Qv.call(Blob)==="[object BlobConstructor]",cO=typeof File=="function"||typeof File<"u"&&Qv.call(File)==="[object FileConstructor]";function bs(t){return oO&&(t instanceof ArrayBuffer||sO(t))||aO&&t instanceof Blob||cO&&t instanceof File}function Cs(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,i=t.length;e<i;e++)if(Cs(t[e]))return!0;return!1}if(bs(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Cs(t.toJSON(),!0);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Cs(t[e]))return!0;return!1}function Yv(t){let n=[],e=t.data,i=t;return i.data=Ap(e,n),i.attachments=n.length,{packet:i,buffers:n}}function Ap(t,n){if(!t)return t;if(bs(t)){let e={_placeholder:!0,num:n.length};return n.push(t),e}else if(Array.isArray(t)){let e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=Ap(t[i],n);return e}else if(typeof t=="object"&&!(t instanceof Date)){let e={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=Ap(t[i],n));return e}return t}function Zv(t,n){return t.data=kp(t.data,n),delete t.attachments,t}function kp(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=kp(t[e],n);else if(typeof t=="object")for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=kp(t[e],n));return t}var lO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jv=5,ae=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(ae||{}),Rp=class{constructor(n){this.replacer=n}encode(n){return(n.type===ae.EVENT||n.type===ae.ACK)&&Cs(n)?this.encodeAsBinary({type:n.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let e=""+n.type;return(n.type===ae.BINARY_EVENT||n.type===ae.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=Yv(n),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}};function Kv(t){return Object.prototype.toString.call(t)==="[object Object]"}var Np=class t extends De{constructor(n){super(),this.reviver=n}add(n){let e;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);let i=e.type===ae.BINARY_EVENT;i||e.type===ae.BINARY_ACK?(e.type=i?ae.EVENT:ae.ACK,this.reconstructor=new Fp(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(bs(n)||n.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let e=0,i={type:Number(n.charAt(0))};if(ae[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===ae.BINARY_EVENT||i.type===ae.BINARY_ACK){let o=e+1;for(;n.charAt(++e)!=="-"&&e!=n.length;);let s=n.substring(o,e);if(s!=Number(s)||n.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(n.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(n.charAt(e)===","||e===n.length););i.nsp=n.substring(o,e)}else i.nsp="/";let r=n.charAt(e+1);if(r!==""&&Number(r)==r){let o=e+1;for(;++e;){let s=n.charAt(e);if(s==null||Number(s)!=s){--e;break}if(e===n.length)break}i.id=Number(n.substring(o,e+1))}if(n.charAt(++e)){let o=this.tryParse(n.substr(e));if(t.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case ae.CONNECT:return Kv(e);case ae.DISCONNECT:return e===void 0;case ae.CONNECT_ERROR:return typeof e=="string"||Kv(e);case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&lO.indexOf(e[0])===-1);case ae.ACK:case ae.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Fp=class{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){let e=Zv(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Tt(t,n,e){return t.on(n,e),function(){t.off(n,e)}}var dO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Jr=class extends De{constructor(n,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let n=this.io;this.subs=[Tt(n,"open",this.onopen.bind(this)),Tt(n,"packet",this.onpacket.bind(this)),Tt(n,"error",this.onerror.bind(this)),Tt(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){var i,r,o;if(dO.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let s={type:ae.EVENT,data:e};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let h=this.ids++,m=e.pop();this._registerAckCallback(h,m),s.id=h}let a=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,d=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(d?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){var i;let r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[n]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},r),s=(...a)=>{this.io.clearTimeoutFn(o),e.apply(this,a)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((i,r)=>{let o=(s,a)=>s?r(s):i(a);o.withError=!0,e.push(o),this.emit(n,...e)})}_addToQueue(n){let e;typeof n[n.length-1]=="function"&&(e=n.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((r,...o)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(i=>String(i.id)===n)){let i=this.acks[n];delete this.acks[n],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ae.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(n);break;case ae.ACK:case ae.BINARY_ACK:this.onack(n);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:this.destroy();let i=new Error(n.data.message);i.data=n.data.data,this.emitReserved("connect_error",i);break}}onevent(n){let e=n.data||[];n.id!=null&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let i of e)i.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){let e=this,i=!1;return function(...r){i||(i=!0,e.packet({type:ae.ACK,id:n,data:r}))}}onack(n){let e=this.acks[n.id];typeof e=="function"&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){let e=this._anyListeners;for(let i=0;i<e.length;i++)if(n===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){let e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(n===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let i of e)i.apply(this,n.data)}}};function Ui(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ui.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+e:t-e}return Math.min(t,this.max)|0};Ui.prototype.reset=function(){this.attempts=0};Ui.prototype.setMin=function(t){this.ms=t};Ui.prototype.setMax=function(t){this.max=t};Ui.prototype.setJitter=function(t){this.jitter=t};var Xr=class extends De{constructor(n,e){var i;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Nn(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((i=e.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ui({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=n;let r=e.parser||Lp;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(e=this.backoff)===null||e===void 0||e.setMin(n),this)}randomizationFactor(n){var e;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(e=this.backoff)===null||e===void 0||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(e=this.backoff)===null||e===void 0||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Kr(this.uri,this.opts);let e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=Tt(e,"open",function(){i.onopen(),n&&n()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},s=Tt(e,"error",o);if(this._timeout!==!1){let a=this._timeout,d=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),e.close()},a);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(r),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let n=this.engine;this.subs.push(Tt(n,"ping",this.onping.bind(this)),Tt(n,"data",this.ondata.bind(this)),Tt(n,"error",this.onerror.bind(this)),Tt(n,"close",this.onclose.bind(this)),Tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){Rn(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let i=this.nsps[n];return i?this._autoConnect&&!i.active&&i.connect():(i=new Jr(this,n,e),this.nsps[n]=i),i}_destroy(n){let e=Object.keys(this.nsps);for(let i of e)if(this.nsps[i].active)return;this._close()}_packet(n){let e=this.encoder.encode(n);for(let i=0;i<e.length;i++)this.engine.write(e[i],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,e){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(r=>{r?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",r)):n.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}};var ws={};function xs(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};let e=Gv(t,n.path||"/socket.io"),i=e.source,r=e.id,o=e.path,s=ws[r]&&o in ws[r].nsps,a=n.forceNew||n["force new connection"]||n.multiplex===!1||s,d;return a?d=new Xr(i,n):(ws[r]||(ws[r]=new Xr(i,n)),d=ws[r]),e.query&&!n.query&&(n.query=e.queryKey),d.socket(e.path,n)}Object.assign(xs,{Manager:Xr,Socket:Jr,io:xs,connect:xs});var uO=()=>[1,2,3,4,5,6],fO=()=>[1,2,3,4,5,6,7,8],pO=(t,n,e,i,r)=>({"fa-magnifying-glass":t,"fa-shield-halved":n,"fa-satellite-dish":e,"fa-bolt":i,"fa-arrow-rotate-left":r});function hO(t,n){t&1&&w(0,"div",25)}function mO(t,n){t&1&&w(0,"div",26)}function gO(t,n){t&1&&(l(0,"div",21)(1,"div",22),E(2,hO,1,0,"div",23),c(),E(3,mO,1,0,"div",24),c()),t&2&&(f(2),g("ngForOf",Qu(2,uO)),f(),g("ngForOf",Qu(3,fO)))}function _O(t,n){if(t&1&&(l(0,"div",27)(1,"div",28)(2,"div",29),w(3,"i",30),c(),l(4,"div",31),Ig(),l(5,"svg",32),w(6,"path",33)(7,"path",34),c(),Tg(),l(8,"span",35),u(9),c()(),l(10,"div",36),u(11),c()()()),t&2){let e=n.$implicit;G("active",e.active)("completed",e.progress===100),f(3),g("ngClass",t_(8,pO,e.name==="Identify",e.name==="Protect",e.name==="Detect",e.name==="Respond",e.name==="Recover")),f(4),Ri("stroke-dasharray",e.progress+", 100"),f(2),P("",e.progress,"%"),f(2),O(e.name)}}function yO(t,n){if(t&1&&(l(0,"div",37)(1,"div",38)(2,"div",39),u(3),c(),l(4,"div",40)(5,"div",41),u(6),se(7,"number"),c(),l(8,"div",42)(9,"div",43),u(10),se(11,"number"),c(),l(12,"div",44),u(13),se(14,"number"),c()()(),l(15,"div",45),w(16,"div",46),c()()()),t&2){let e=n.$implicit,i=_();G("success",e.currentStatus==="success")("failed",e.currentStatus==="failed")("pending",e.currentStatus==="pending"),f(3),O(e.name),f(2),G("positive",i.getNetAmount(e)>0)("negative",i.getNetAmount(e)<0),f(),Lt(" ",i.getNetAmount(e)>0?"+":"","$",Le(7,17,i.getNetAmount(e))," "),f(4),P("Saved: $",Le(11,19,e.moneySaved),""),f(3),P("Lost: $",Le(14,21,e.moneyLost),""),f(3),$e("height",e.progressPercentage,"%")}}function vO(t,n){if(t&1&&(l(0,"div",55)(1,"span",56),u(2),c()()),t&2){let e=n.$implicit,i=_().$implicit,r=_();$e("background-color",r.getStatusColor(i.phaseStatus[e.name])),f(2),O(e.name[0])}}function CO(t,n){if(t&1&&(l(0,"div",47)(1,"div",48),w(2,"i"),l(3,"h3"),u(4),c()(),l(5,"div",49)(6,"div",50)(7,"span",51),u(8),c(),l(9,"span",52),u(10,"Accuracy"),c()(),l(11,"div",50)(12,"span",51),u(13),c(),l(14,"span",52),u(15,"Avg Response"),c()()(),l(16,"div",53),E(17,vO,3,3,"div",54),c()()),t&2){let e=n.$implicit,i=_();f(2),K0("fas fa-",e.icon,""),f(2),O(e.name),f(4),P("",e.accuracy,"%"),f(5),P("",e.responseTime,"s"),f(4),g("ngForOf",i.nistPhases)}}var Xv=(()=>{class t{constructor(e){this.apiService=e,this.nistPhases=[{id:1,name:"Identify",progress:0,active:!0},{id:2,name:"Protect",progress:0,active:!1},{id:3,name:"Detect",progress:0,active:!1},{id:4,name:"Respond",progress:0,active:!1},{id:5,name:"Recover",progress:0,active:!1}],this.teams=[{name:"Security Team",icon:"shield-halved",accuracy:85,responseTime:45,currentStatus:"success",progressPercentage:75,phaseStatus:{Identify:"success",Protect:"pending",Detect:"pending",Respond:"pending",Recover:"pending"},moneySaved:25e4,moneyLost:5e4},{name:"IT Operations",icon:"network-wired",accuracy:78,responseTime:52,currentStatus:"failed",progressPercentage:30,phaseStatus:{Identify:"success",Protect:"failed",Detect:"pending",Respond:"pending",Recover:"pending"},moneySaved:15e4,moneyLost:2e5}],this.showCelebration=!1,this.sessionId="40a6cfab-dc29-4287-89c1-846963b412ce",this.baseUrl="https://esflabs.ai/ttx"}ngOnInit(){this.initializeWebSocket(),this.loadDashboardData()}initializeWebSocket(){try{this.socket=xs(this.baseUrl,{path:"/ttx/socket.io",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"]}),this.socket.on("connect",()=>{console.log("WebSocket connected successfully")}),this.socket.on("connect_error",e=>{console.error("WebSocket connection error:",e)}),this.socket.on("disconnect",e=>{console.log("WebSocket disconnected:",e)}),this.socket.on("live-dashboard-update",e=>{this.updateDashboard(e)})}catch(e){console.error("Error initializing WebSocket:",e)}}loadDashboardData(){this.apiService.getLiveDashboardData(this.sessionId).subscribe(e=>{e&&this.updateDashboard(e)})}updateDashboard(e){e.nistPhases&&(this.nistPhases=e.nistPhases),e.teams&&(this.teams=e.teams)}getFlightPosition(){let e=this.nistPhases.find(o=>o.active);if(!e)return 0;let i=this.nistPhases.indexOf(e),r=100/this.nistPhases.length;return i*r+r*(e.progress/100)}getFlightClass(){let e=this.nistPhases[this.nistPhases.length-1];if(this.nistPhases[0].active){if(e.progress===100)return"takeoff"}else return"grounded";return"flying"}getNetAmount(e){return e.moneySaved-e.moneyLost}getStatusColor(e){switch(e){case"success":return"#4CAF50";case"failed":return"#FF4D4D";case"pending":return"#9E9E9E";default:return"#9E9E9E"}}ngOnDestroy(){this.socket&&this.socket.disconnect()}static{this.\u0275fac=function(i){return new(i||t)(R(Ut))}}static{this.\u0275cmp=X({type:t,selectors:[["app-live-dashboard"]],standalone:!0,features:[ee],decls:28,vars:8,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"header-main"],[1,"exercise-info"],[1,"badge"],[1,"exercise-name"],[1,"nist-timeline"],[1,"phases-container"],[1,"flight-indicator"],[1,"flight-name"],[1,"fas","fa-plane"],["class","celebration",4,"ngIf"],[1,"progress-line"],[1,"phase-nodes"],["class","phase-node",3,"active","completed",4,"ngFor","ngForOf"],[1,"team-bubbles"],["class","team-bubble",3,"success","failed","pending",4,"ngFor","ngForOf"],[1,"team-performance"],[1,"team-cards"],["class","team-card",4,"ngFor","ngForOf"],[1,"celebration"],[1,"top-celebration"],["class","popper",4,"ngFor","ngForOf"],["class","confetti-piece",4,"ngFor","ngForOf"],[1,"popper"],[1,"confetti-piece"],[1,"phase-node"],[1,"node-content"],[1,"node-icon"],[1,"fas",3,"ngClass"],[1,"progress-circle"],["viewBox","0 0 36 36"],["d",`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,"fill","none","stroke","rgba(255, 255, 255, 0.2)","stroke-width","3"],["d",`M18 2.0845
                  a 15.9155 15.9155 0 0 1 0 31.831
                  a 15.9155 15.9155 0 0 1 0 -31.831`,"fill","none","stroke","#231651","stroke-width","3"],[1,"progress-text"],[1,"node-label"],[1,"team-bubble"],[1,"bubble-content"],[1,"team-name"],[1,"money-info"],[1,"net-amount"],[1,"money-details"],[1,"saved"],[1,"lost"],[1,"team-progress"],[1,"wave"],[1,"team-card"],[1,"team-header"],[1,"team-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"phase-status"],["class","status-bubble",3,"background-color",4,"ngFor","ngForOf"],[1,"status-bubble"],[1,"bubble-label"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1"),u(5,"Live Exercise Progress"),c(),l(6,"div",4)(7,"span",5),u(8,"Live Exercise"),c(),l(9,"span",6),u(10,"Supply Chain Attack Simulation"),c()()()()(),l(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),u(15,"Darshinik"),c(),w(16,"i",11),E(17,gO,4,4,"div",12),c(),w(18,"div",13),l(19,"div",14),E(20,_O,12,14,"div",15),c()()(),l(21,"div",16),E(22,yO,17,23,"div",17),c(),l(23,"section",18)(24,"h2"),u(25,"Team Performance"),c(),l(26,"div",19),E(27,CO,18,7,"div",20),c()()()),i&2&&(f(13),Ni(r.getFlightClass()),$e("left",r.getFlightPosition(),"%"),f(4),g("ngIf",r.showCelebration),f(3),g("ngForOf",r.nistPhases),f(2),g("ngForOf",r.teams),f(5),g("ngForOf",r.teams))},dependencies:[ne,Sc,ue,je,gt],styles:['.dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#cc649b,#64ccc9);padding:2rem;color:#231651}.dashboard-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.header-content[_ngcontent-%COMP%]{padding:2rem}.header-main[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{color:#231651;font-size:2.5rem;margin-bottom:1rem;font-weight:700}.exercise-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.badge[_ngcontent-%COMP%]{background:#231651;color:#64ccc9;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600}.exercise-name[_ngcontent-%COMP%]{color:#231651;font-size:1.2rem;font-weight:500}.nist-timeline[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2.5rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.phases-container[_ngcontent-%COMP%]{position:relative;padding:2rem 0}.progress-line[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;height:4px;background:#23165133;transform:translateY(-50%)}.flight-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%) translate(-50%);z-index:10;transition:all .5s ease-in-out;display:flex;flex-direction:column;align-items:center}.flight-name[_ngcontent-%COMP%]{position:absolute;top:-25px;background:#231651e6;color:#64ccc9;padding:2px 8px;border-radius:10px;font-size:.8rem;font-weight:600;white-space:nowrap;opacity:0;transform:translateY(10px);transition:all .3s ease}.flight-indicator[_ngcontent-%COMP%]:hover   .flight-name[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.flight-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#231651;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2));transition:all .5s ease-in-out}.flight-indicator.grounded[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(0);animation:_ngcontent-%COMP%_taxiAnimation 2s infinite ease-in-out}.flight-indicator.flying[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(0);animation:_ngcontent-%COMP%_flyingAnimation 2s infinite ease-in-out}.flight-indicator.takeoff[_ngcontent-%COMP%]{transform:translateY(-100%) translate(-50%);animation:_ngcontent-%COMP%_departureAnimation 2s forwards}.flight-indicator.takeoff[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-45deg);animation:_ngcontent-%COMP%_takeoffAnimation 2s forwards}.phase-nodes[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:relative;z-index:5}.phase-node[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;position:relative}.node-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.node-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #231651;transition:all .3s ease;position:relative;overflow:hidden}.node-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.2) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.node-icon[_ngcontent-%COMP%]:hover:after{opacity:1}.node-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#231651}.progress-circle[_ngcontent-%COMP%]{position:relative;width:36px;height:36px}.progress-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-circle[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:stroke-dasharray .5s ease}.progress-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.8rem;font-weight:600;color:#231651}.node-label[_ngcontent-%COMP%]{font-weight:600;color:#231651;text-align:center;font-size:.9rem}.phase-node.active[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:#231651e6;transform:scale(1.1)}.phase-node.active[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#64ccc9;animation:_ngcontent-%COMP%_pulseIcon 2s infinite}.phase-node.completed[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{background:#231651}.phase-node.completed[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#64ccc9}.team-bubbles[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:2rem;margin:3rem 0}.team-bubble[_ngcontent-%COMP%]{width:180px;height:180px;position:relative;border-radius:50%;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.3);overflow:hidden;transition:all .3s ease}.bubble-content[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2;padding:1rem}.team-name[_ngcontent-%COMP%]{color:#231651;font-weight:600;text-align:center;font-size:1rem;margin-bottom:.5rem;z-index:2}.money-info[_ngcontent-%COMP%]{text-align:center;z-index:2;margin-bottom:.5rem}.net-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:.25rem}.net-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.net-amount.negative[_ngcontent-%COMP%]{color:#ff4136}.money-details[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.money-details[_ngcontent-%COMP%]   .saved[_ngcontent-%COMP%]{color:#4caf50;margin-bottom:.1rem}.money-details[_ngcontent-%COMP%]   .lost[_ngcontent-%COMP%]{color:#ff4136}.team-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:100%;overflow:hidden}.wave[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background:linear-gradient(180deg,#64ccc980,#64ccc9cc);transition:height .5s ease}.wave[_ngcontent-%COMP%]:before, .wave[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;width:200%;height:100%;background-repeat:repeat-x;animation:_ngcontent-%COMP%_waveAnimation 10s linear infinite}.wave[_ngcontent-%COMP%]:before{top:-25%;border-radius:40%;opacity:.5}.wave[_ngcontent-%COMP%]:after{top:-50%;border-radius:35%;opacity:.3}.team-bubble.success[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4caf5080,#4caf50cc)}.team-bubble.failed[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ff413680,#ff4136cc)}.team-bubble.pending[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{background:linear-gradient(180deg,#9e9e9e80,#9e9e9ecc)}.team-performance[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2.5rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.team-performance[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#231651;font-size:1.8rem;margin-bottom:2rem;font-weight:700}.team-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.team-card[_ngcontent-%COMP%]{background:#ffffff26;padding:1.5rem;border-radius:12px;border:1px solid rgba(255,255,255,.2);transition:transform .3s ease}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.team-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.team-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#231651}.team-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#231651;font-weight:600}.team-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}.stat[_ngcontent-%COMP%]{text-align:center;background:#ffffff1a;padding:1rem;border-radius:8px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#231651;display:block;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#231651;opacity:.8}.phase-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.5rem;background:#ffffff1a;padding:.75rem;border-radius:25px}.status-bubble[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.status-bubble[_ngcontent-%COMP%]   .bubble-label[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;font-weight:600}@keyframes _ngcontent-%COMP%_pulseIcon{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_taxiAnimation{0%,to{transform:translate(-2px)}50%{transform:translate(2px)}}@keyframes _ngcontent-%COMP%_flyingAnimation{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(0)}}@keyframes _ngcontent-%COMP%_takeoffAnimation{0%{transform:rotate(0)}to{transform:rotate(-45deg) scale(.8)}}@keyframes _ngcontent-%COMP%_departureAnimation{0%{transform:translateY(-50%) translate(-50%);opacity:1}to{transform:translateY(-200%) translate(100%);opacity:0}}@keyframes _ngcontent-%COMP%_waveAnimation{0%{transform:translate(0) translateZ(0) scaleY(1)}50%{transform:translate(-25%) translateZ(0) scaleY(.8)}to{transform:translate(-50%) translateZ(0) scaleY(1)}}.celebration[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000}.top-celebration[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:100vh;display:flex;justify-content:space-around}.popper[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background:#64ccc9;border-radius:50%;opacity:0;animation:_ngcontent-%COMP%_popperBurst 5s ease-out infinite}.confetti-piece[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;opacity:0;animation:_ngcontent-%COMP%_confettiDrop 5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_popperBurst{0%{transform:translateY(0) scale(1);opacity:0}10%{opacity:1}40%{transform:translateY(30vh) scale(1.2);opacity:1}to{transform:translateY(100vh) scale(.8);opacity:0}}@keyframes _ngcontent-%COMP%_confettiDrop{0%{transform:translateY(-50vh) rotate(0);opacity:1}to{transform:translate(var(--tx),100vh) rotate(var(--r));opacity:0}}@media (max-width: 1024px){.team-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.team-bubbles[_ngcontent-%COMP%]{gap:1.5rem}.team-bubble[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]{padding:1.5rem}h1[_ngcontent-%COMP%]{font-size:2rem}.nist-timeline[_ngcontent-%COMP%]{padding:1.5rem}.node-label[_ngcontent-%COMP%]{font-size:.8rem}.team-performance[_ngcontent-%COMP%]{padding:1.5rem}.team-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.team-card[_ngcontent-%COMP%]{padding:1rem}.team-bubbles[_ngcontent-%COMP%]{gap:1rem}.team-bubble[_ngcontent-%COMP%]{width:120px;height:120px}.team-name[_ngcontent-%COMP%]{font-size:.9rem}.net-amount[_ngcontent-%COMP%]{font-size:1rem}.money-details[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.exercise-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.phase-nodes[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:1rem}.team-bubbles[_ngcontent-%COMP%]{gap:.8rem}.team-bubble[_ngcontent-%COMP%]{width:100px;height:100px}}']})}}return t})();function bO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td",10)(6,"div",11)(7,"button",12),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditClient(r))}),w(8,"i",13),c(),l(9,"button",14),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteClient(r.id))}),w(10,"i",15),c()()()()}if(t&2){let e=n.$implicit;f(2),O(e.id),f(2),O(e.name)}}var eC=(()=>{class t{constructor(){this.clients=[],this.addClient=new z,this.editClient=new z,this.deleteClient=new z}onAddClient(){this.addClient.emit()}onEditClient(e){this.editClient.emit(e)}onDeleteClient(e){this.deleteClient.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-client-management"]],inputs:{clients:"clients"},outputs:{addClient:"addClient",editClient:"editClient",deleteClient:"deleteClient"},standalone:!0,features:[ee],decls:21,vars:1,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],["width","80px"],["width","120px"],[4,"ngFor","ngForOf"],[1,"actions-cell"],[1,"actions-wrapper"],["title","Edit",1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Client Management"),c(),l(5,"button",3),x("click",function(){return r.onAddClient()}),w(6,"i",4),u(7," Add Client "),c()()(),l(8,"div",5)(9,"div",6)(10,"table")(11,"thead")(12,"tr")(13,"th",7),u(14,"ID"),c(),l(15,"th"),u(16,"Name"),c(),l(17,"th",8),u(18,"Actions"),c()()(),l(19,"tbody"),E(20,bO,11,2,"tr",9),c()()()()()),i&2&&(f(20),g("ngForOf",r.clients))},dependencies:[ne,ue],encapsulation:2})}}return t})();function wO(t,n){if(t&1&&(l(0,"option",13),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function xO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td")(8,"button",14),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditRole(r))}),w(9,"i",15),c(),l(10,"button",16),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteRole(r.id))}),w(11,"i",17),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.name),f(2),O(i.getClientName(e.client_id))}}var tC=(()=>{class t{constructor(){this.roles=[],this.clients=[],this.addRole=new z,this.editRole=new z,this.deleteRole=new z,this.selectedClientId="",this.filteredRoles=[]}ngOnInit(){this.filteredRoles=[...this.roles]}ngOnChanges(){this.filterRolesByClient()}filterRolesByClient(){if(!this.selectedClientId)this.filteredRoles=[...this.roles];else{let e=parseInt(this.selectedClientId);this.filteredRoles=this.roles.filter(i=>i.client_id===e)}}onAddRole(){this.addRole.emit()}onEditRole(e){this.editRole.emit(e)}onDeleteRole(e){this.deleteRole.emit(e)}getClientName(e){let i=this.clients.find(r=>r.id===e);return i?i.name:"Unknown Client"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-role-management"]],inputs:{roles:"roles",clients:"clients"},outputs:{addRole:"addRole",editRole:"editRole",deleteRole:"deleteRole"},standalone:!0,features:[ot,ee],decls:29,vars:3,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],[1,"client-filter"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[3,"value"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Role Management"),c(),l(5,"div",3)(6,"div",4)(7,"select",5),I("ngModelChange",function(s){return T(r.selectedClientId,s)||(r.selectedClientId=s),s}),x("change",function(){return r.filterRolesByClient()}),l(8,"option",6),u(9,"All Clients"),c(),E(10,wO,2,2,"option",7),c()(),l(11,"button",8),x("click",function(){return r.onAddRole()}),w(12,"i",9),u(13," Add Role "),c()()()(),l(14,"div",10)(15,"div",11)(16,"table")(17,"thead")(18,"tr")(19,"th"),u(20,"ID"),c(),l(21,"th"),u(22,"Name"),c(),l(23,"th"),u(24,"Client"),c(),l(25,"th"),u(26,"Actions"),c()()(),l(27,"tbody"),E(28,xO,12,3,"tr",12),c()()()()()),i&2&&(f(7),D("ngModel",r.selectedClientId),f(3),g("ngForOf",r.clients),f(18),g("ngForOf",r.filteredRoles))},dependencies:[ne,ue,Ge,yt,vt,Xe,_t,lt],styles:[`.management-section[_ngcontent-%COMP%]{display:grid;gap:2rem;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem 2rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a;display:flex;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.header-content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.client-filter[_ngcontent-%COMP%]{min-width:200px}.client-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}.client-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}.add-button[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.add-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #fff3;background:#ffffffe6}.add-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.list-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;background:#ffffff0d;border-radius:8px;margin-top:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;font-weight:600;text-align:left;padding:1rem;position:sticky;top:0}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);color:#fff}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.edit[_ngcontent-%COMP%]{color:#3498db}.action-btn.delete[_ngcontent-%COMP%]{color:#e74c3c}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:stretch}.client-filter[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]{width:100%}}`]})}}return t})();function MO(t,n){if(t&1&&(l(0,"option",13),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function EO(t,n){if(t&1&&(l(0,"span",20),u(1),c()),t&2){let e=n.$implicit,i=_(2);f(),P(" ",i.getRoleName(e)," ")}}function SO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td")(8,"div",14),E(9,EO,2,1,"span",15),c()(),l(10,"td")(11,"button",16),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditTeam(r))}),w(12,"i",17),c(),l(13,"button",18),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteTeam(r.id))}),w(14,"i",19),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.name),f(2),O(i.getClientName(e.client_id)),f(3),g("ngForOf",e.role_id)}}var nC=(()=>{class t{constructor(){this.teams=[],this.clients=[],this.roles=[],this.addTeam=new z,this.editTeam=new z,this.deleteTeam=new z,this.selectedClientId="",this.filteredTeams=[]}ngOnInit(){this.filteredTeams=[...this.teams]}ngOnChanges(){this.filterTeamsByClient()}filterTeamsByClient(){if(!this.selectedClientId)this.filteredTeams=[...this.teams];else{let e=parseInt(this.selectedClientId);this.filteredTeams=this.teams.filter(i=>i.client_id===e)}}onAddTeam(){this.addTeam.emit()}onEditTeam(e){this.editTeam.emit(e)}onDeleteTeam(e){this.deleteTeam.emit(e)}getClientName(e){let i=this.clients.find(r=>r.id===e);return i?i.name:"Unknown Client"}getRoleName(e){let i=this.roles.find(r=>r.id===e);return i?i.name:"Unknown Role"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-team-management"]],inputs:{teams:"teams",clients:"clients",roles:"roles"},outputs:{addTeam:"addTeam",editTeam:"editTeam",deleteTeam:"deleteTeam"},standalone:!0,features:[ot,ee],decls:31,vars:3,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],[1,"client-filter"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[3,"value"],[1,"role-badges"],["class","role-badge",4,"ngFor","ngForOf"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"],[1,"role-badge"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Team Management"),c(),l(5,"div",3)(6,"div",4)(7,"select",5),I("ngModelChange",function(s){return T(r.selectedClientId,s)||(r.selectedClientId=s),s}),x("change",function(){return r.filterTeamsByClient()}),l(8,"option",6),u(9,"All Clients"),c(),E(10,MO,2,2,"option",7),c()(),l(11,"button",8),x("click",function(){return r.onAddTeam()}),w(12,"i",9),u(13," Add Team "),c()()()(),l(14,"div",10)(15,"div",11)(16,"table")(17,"thead")(18,"tr")(19,"th"),u(20,"ID"),c(),l(21,"th"),u(22,"Name"),c(),l(23,"th"),u(24,"Client"),c(),l(25,"th"),u(26,"Assigned Roles"),c(),l(27,"th"),u(28,"Actions"),c()()(),l(29,"tbody"),E(30,SO,15,4,"tr",12),c()()()()()),i&2&&(f(7),D("ngModel",r.selectedClientId),f(3),g("ngForOf",r.clients),f(20),g("ngForOf",r.filteredTeams))},dependencies:[ne,ue,Ge,yt,vt,Xe,_t,lt],styles:[`.management-section[_ngcontent-%COMP%]{display:grid;gap:2rem;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem 2rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a;display:flex;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.header-content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.client-filter[_ngcontent-%COMP%]{min-width:200px}.client-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}.client-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}.add-button[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.add-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #fff3;background:#ffffffe6}.add-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.list-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;background:#ffffff0d;border-radius:8px;margin-top:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;font-weight:600;text-align:left;padding:1rem;position:sticky;top:0}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);color:#fff}.role-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.role-badge[_ngcontent-%COMP%]{background:#3498db33;color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;border:1px solid rgba(52,152,219,.4)}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.edit[_ngcontent-%COMP%]{color:#3498db}.action-btn.delete[_ngcontent-%COMP%]{color:#e74c3c}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:stretch}.client-filter[_ngcontent-%COMP%], .add-button[_ngcontent-%COMP%]{width:100%}}`]})}}return t})();function DO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),c(),l(9,"td"),u(10),se(11,"number"),c(),l(12,"td")(13,"button",8),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditExercise(r))}),w(14,"i",9),c(),l(15,"button",10),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteExercise(r.id))}),w(16,"i",11),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.name),f(2),O(i.getClientName(e.client_id)),f(2),O(e.time),f(2),P("$",Le(11,5,e.exercise_simulated_amount),"")}}var iC=(()=>{class t{constructor(){this.exercises=[],this.clients=[],this.addExercise=new z,this.editExercise=new z,this.deleteExercise=new z}onAddExercise(){this.addExercise.emit()}onEditExercise(e){this.editExercise.emit(e)}onDeleteExercise(e){this.deleteExercise.emit(e)}getClientName(e){let i=this.clients.find(r=>r.id===e);return i?i.name:"Unknown Client"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-exercise-management"]],inputs:{exercises:"exercises",clients:"clients"},outputs:{addExercise:"addExercise",editExercise:"editExercise",deleteExercise:"deleteExercise"},standalone:!0,features:[ee],decls:27,vars:1,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Exercise Management"),c(),l(5,"button",3),x("click",function(){return r.onAddExercise()}),w(6,"i",4),u(7," Add Exercise "),c()()(),l(8,"div",5)(9,"div",6)(10,"table")(11,"thead")(12,"tr")(13,"th"),u(14,"ID"),c(),l(15,"th"),u(16,"Name"),c(),l(17,"th"),u(18,"Client"),c(),l(19,"th"),u(20,"Time (min)"),c(),l(21,"th"),u(22,"Amount ($)"),c(),l(23,"th"),u(24,"Actions"),c()()(),l(25,"tbody"),E(26,DO,17,7,"tr",7),c()()()()()),i&2&&(f(26),g("ngForOf",r.exercises))},dependencies:[ne,ue,gt],encapsulation:2})}}return t})();function IO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),c(),l(9,"td"),u(10),c(),l(11,"td")(12,"button",8),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditScenario(r))}),w(13,"i",9),c(),l(14,"button",10),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteScenario(r.id))}),w(15,"i",11),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.name),f(2),O(i.getClientName(e.client_id)),f(2),O(i.getExerciseName(e.execrise_id)),f(2),O(e.description)}}var rC=(()=>{class t{constructor(){this.scenarios=[],this.clients=[],this.exercises=[],this.addScenario=new z,this.editScenario=new z,this.deleteScenario=new z}onAddScenario(){this.addScenario.emit()}onEditScenario(e){this.editScenario.emit(e)}onDeleteScenario(e){this.deleteScenario.emit(e)}getClientName(e){let i=this.clients.find(r=>r.id===e);return i?i.name:"Unknown Client"}getExerciseName(e){let i=this.exercises.find(r=>r.id===e);return i?i.name:"Unknown Exercise"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-scenario-management"]],inputs:{scenarios:"scenarios",clients:"clients",exercises:"exercises"},outputs:{addScenario:"addScenario",editScenario:"editScenario",deleteScenario:"deleteScenario"},standalone:!0,features:[ee],decls:27,vars:1,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Scenario Management"),c(),l(5,"button",3),x("click",function(){return r.onAddScenario()}),w(6,"i",4),u(7," Add Scenario "),c()()(),l(8,"div",5)(9,"div",6)(10,"table")(11,"thead")(12,"tr")(13,"th"),u(14,"ID"),c(),l(15,"th"),u(16,"Name"),c(),l(17,"th"),u(18,"Client"),c(),l(19,"th"),u(20,"Exercise"),c(),l(21,"th"),u(22,"Description"),c(),l(23,"th"),u(24,"Actions"),c()()(),l(25,"tbody"),E(26,IO,16,5,"tr",7),c()()()()()),i&2&&(f(26),g("ngForOf",r.scenarios))},dependencies:[ne,ue],encapsulation:2})}}return t})();function TO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td")(8,"button",8),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditInject(r))}),w(9,"i",9),c(),l(10,"button",10),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteInject(r.id))}),w(11,"i",11),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.name),f(2),O(i.getScenarioName(e.scenario_id))}}var oC=(()=>{class t{constructor(){this.injects=[],this.scenarios=[],this.addInject=new z,this.editInject=new z,this.deleteInject=new z}onAddInject(){this.addInject.emit()}onEditInject(e){this.editInject.emit(e)}onDeleteInject(e){this.deleteInject.emit(e)}getScenarioName(e){let i=this.scenarios.find(r=>r.id===e);return i?i.name:"Unknown Scenario"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-inject-management"]],inputs:{injects:"injects",scenarios:"scenarios"},outputs:{addInject:"addInject",editInject:"editInject",deleteInject:"deleteInject"},standalone:!0,features:[ee],decls:23,vars:1,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Inject Management"),c(),l(5,"button",3),x("click",function(){return r.onAddInject()}),w(6,"i",4),u(7," Add Inject "),c()()(),l(8,"div",5)(9,"div",6)(10,"table")(11,"thead")(12,"tr")(13,"th"),u(14,"ID"),c(),l(15,"th"),u(16,"Name"),c(),l(17,"th"),u(18,"Scenario"),c(),l(19,"th"),u(20,"Actions"),c()()(),l(21,"tbody"),E(22,TO,12,3,"tr",7),c()()()()()),i&2&&(f(22),g("ngForOf",r.injects))},dependencies:[ne,ue],encapsulation:2})}}return t})();function OO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function PO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function AO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function kO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function RO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function NO(t,n){if(t&1&&(l(0,"option",15),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function FO(t,n){if(t&1&&(l(0,"div"),u(1),c()),t&2){let e=_().$implicit,i=_();f(),P(" ",i.getRoleName(e.role_id)," ")}}function LO(t,n){if(t&1&&(l(0,"div"),u(1),c()),t&2){let e=n.$implicit,i=_(3);f(),P(" ",i.getRoleName(e)," ")}}function VO(t,n){if(t&1&&(l(0,"div"),E(1,LO,2,1,"div",14),c()),t&2){let e=_().$implicit;f(),g("ngForOf",e.role_ids)}}function jO(t,n){t&1&&(l(0,"div"),u(1," All Roles "),c())}function BO(t,n){if(t&1&&(l(0,"div",23),u(1),c()),t&2){let e=n.$implicit,i=_(2);f(),P(" ",i.getNistFramework(e)," ")}}function UO(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),E(8,FO,2,1,"div",16)(9,VO,2,1,"div",16)(10,jO,2,0,"div",16),c(),l(11,"td")(12,"div",17),E(13,BO,2,1,"div",18),c()(),l(14,"td")(15,"button",19),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onEditQuestion(r))}),w(16,"i",20),c(),l(17,"button",21),x("click",function(){let r=y(e).$implicit,o=_();return v(o.onDeleteQuestion(r.id))}),w(18,"i",22),c()()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.id),f(2),O(e.question),f(2),O(i.getInjectName(e.scenario_inject_id)),f(2),g("ngIf",e.role_id!==void 0&&e.role_id!==null),f(),g("ngIf",e.role_ids&&e.role_ids.length>0),f(),g("ngIf",(!e.role_id||e.role_id===null)&&(!e.role_ids||e.role_ids.length===0)),f(3),g("ngForOf",e.nist_framework_id)}}var sC=(()=>{class t{constructor(){this.questions=[],this.injects=[],this.nistFrameworks=[],this.getRoleName=()=>"Unknown",this.clients=[],this.roles=[],this.teams=[],this.exercises=[],this.scenarios=[],this.addQuestion=new z,this.editQuestion=new z,this.deleteQuestion=new z,this.selectedClientId="",this.selectedRoleId="",this.selectedTeamId="",this.selectedExerciseId="",this.selectedScenarioId="",this.selectedInjectId="",this.filteredQuestions=[]}ngOnInit(){this.filteredQuestions=[...this.questions]}ngOnChanges(){this.applyFilters()}onAddQuestion(){this.addQuestion.emit()}onEditQuestion(e){this.editQuestion.emit(e)}onDeleteQuestion(e){this.deleteQuestion.emit(e)}getInjectName(e){let i=this.injects.find(r=>r.id===e);return i?i.name:"Unknown Inject"}getNistFramework(e){let i=this.nistFrameworks.find(r=>r.id===e);return i?i.name:""}getFilteredRoles(){if(!this.selectedClientId)return this.roles;let e=parseInt(this.selectedClientId);return this.roles.filter(i=>i.client_id===e)}getFilteredTeams(){if(!this.selectedClientId)return this.teams;let e=parseInt(this.selectedClientId);return this.teams.filter(i=>i.client_id===e)}getFilteredExercises(){if(!this.selectedClientId)return this.exercises;let e=parseInt(this.selectedClientId);return this.exercises.filter(i=>i.client_id===e)}getFilteredScenarios(){if(!this.selectedExerciseId)return this.scenarios;let e=parseInt(this.selectedExerciseId);return this.scenarios.filter(i=>i.execrise_id===e)}getFilteredInjects(){if(!this.selectedScenarioId)return this.injects;let e=parseInt(this.selectedScenarioId);return this.injects.filter(i=>i.scenario_id===e)}onExerciseChange(){this.selectedScenarioId="",this.selectedInjectId="",this.applyFilters()}onScenarioChange(){this.selectedInjectId="",this.applyFilters()}applyFilters(){let e=[...this.questions],i=[...this.injects];if(this.selectedInjectId){let r=parseInt(this.selectedInjectId);e=e.filter(o=>o.scenario_inject_id===r)}else if(this.selectedScenarioId){let r=parseInt(this.selectedScenarioId),o=i.filter(s=>s.scenario_id===r).map(s=>s.id);e=e.filter(s=>o.includes(s.scenario_inject_id))}else if(this.selectedExerciseId){let r=parseInt(this.selectedExerciseId),o=this.scenarios.filter(a=>a.execrise_id===r).map(a=>a.id),s=i.filter(a=>o.includes(a.scenario_id)).map(a=>a.id);e=e.filter(a=>s.includes(a.scenario_inject_id))}if(this.selectedRoleId){let r=parseInt(this.selectedRoleId);e=e.filter(o=>o.role_id===r||o.role_ids&&o.role_ids.includes(r))}else if(this.selectedTeamId){let r=parseInt(this.selectedTeamId),o=this.teams.find(s=>s.id===r);if(o){let s=o.role_id;e=e.filter(a=>s.includes(a.role_id)||a.role_ids&&a.role_ids.some(d=>s.includes(d)))}}else if(this.selectedClientId){let r=parseInt(this.selectedClientId),o=this.roles.filter(s=>s.client_id===r).map(s=>s.id);e=e.filter(s=>s.role_id&&o.includes(s.role_id)||s.role_ids&&s.role_ids.some(a=>o.includes(a)))}this.filteredQuestions=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-question-management"]],inputs:{questions:"questions",injects:"injects",nistFrameworks:"nistFrameworks",getRoleName:"getRoleName",clients:"clients",roles:"roles",teams:"teams",exercises:"exercises",scenarios:"scenarios"},outputs:{addQuestion:"addQuestion",editQuestion:"editQuestion",deleteQuestion:"deleteQuestion"},standalone:!0,features:[ot,ee],decls:59,vars:17,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],[1,"filters-container"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","change","ngModel","disabled"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[1,"nist-frameworks"],["class","nist-badge",4,"ngFor","ngForOf"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash"],[1,"nist-badge"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Question Management"),c(),l(5,"div",3)(6,"div",4)(7,"div",5)(8,"select",6),I("ngModelChange",function(s){return T(r.selectedClientId,s)||(r.selectedClientId=s),s}),x("change",function(){return r.applyFilters()}),l(9,"option",7),u(10,"All Clients"),c(),E(11,OO,2,2,"option",8),c()(),l(12,"div",5)(13,"select",9),I("ngModelChange",function(s){return T(r.selectedRoleId,s)||(r.selectedRoleId=s),s}),x("change",function(){return r.applyFilters()}),l(14,"option",7),u(15,"All Roles"),c(),E(16,PO,2,2,"option",8),c()(),l(17,"div",5)(18,"select",9),I("ngModelChange",function(s){return T(r.selectedTeamId,s)||(r.selectedTeamId=s),s}),x("change",function(){return r.applyFilters()}),l(19,"option",7),u(20,"All Teams"),c(),E(21,AO,2,2,"option",8),c()(),l(22,"div",5)(23,"select",6),I("ngModelChange",function(s){return T(r.selectedExerciseId,s)||(r.selectedExerciseId=s),s}),x("change",function(){return r.onExerciseChange()}),l(24,"option",7),u(25,"All Exercises"),c(),E(26,kO,2,2,"option",8),c()(),l(27,"div",5)(28,"select",9),I("ngModelChange",function(s){return T(r.selectedScenarioId,s)||(r.selectedScenarioId=s),s}),x("change",function(){return r.onScenarioChange()}),l(29,"option",7),u(30,"All Scenarios"),c(),E(31,RO,2,2,"option",8),c()(),l(32,"div",5)(33,"select",9),I("ngModelChange",function(s){return T(r.selectedInjectId,s)||(r.selectedInjectId=s),s}),x("change",function(){return r.applyFilters()}),l(34,"option",7),u(35,"All Injects"),c(),E(36,NO,2,2,"option",8),c()()(),l(37,"button",10),x("click",function(){return r.onAddQuestion()}),w(38,"i",11),u(39," Add Question "),c()()()(),l(40,"div",12)(41,"div",13)(42,"table")(43,"thead")(44,"tr")(45,"th"),u(46,"ID"),c(),l(47,"th"),u(48,"Question"),c(),l(49,"th"),u(50,"Inject"),c(),l(51,"th"),u(52,"Role"),c(),l(53,"th"),u(54,"NIST Frameworks"),c(),l(55,"th"),u(56,"Actions"),c()()(),l(57,"tbody"),E(58,UO,19,7,"tr",14),c()()()()()),i&2&&(f(8),D("ngModel",r.selectedClientId),f(3),g("ngForOf",r.clients),f(2),D("ngModel",r.selectedRoleId),g("disabled",!r.selectedClientId),f(3),g("ngForOf",r.getFilteredRoles()),f(2),D("ngModel",r.selectedTeamId),g("disabled",!r.selectedClientId),f(3),g("ngForOf",r.getFilteredTeams()),f(2),D("ngModel",r.selectedExerciseId),f(3),g("ngForOf",r.getFilteredExercises()),f(2),D("ngModel",r.selectedScenarioId),g("disabled",!r.selectedExerciseId),f(3),g("ngForOf",r.getFilteredScenarios()),f(2),D("ngModel",r.selectedInjectId),g("disabled",!r.selectedScenarioId),f(3),g("ngForOf",r.getFilteredInjects()),f(22),g("ngForOf",r.filteredQuestions))},dependencies:[ne,ue,je,Ge,yt,vt,Xe,_t,lt],styles:[`.management-section[_ngcontent-%COMP%]{display:grid;gap:2rem;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem 2rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.header-content[_ngcontent-%COMP%]{width:100%}.header-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}.filters-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;width:100%;background:#ffffff0d;padding:1rem;border-radius:10px;border:1px solid rgba(255,255,255,.1)}.filter-group[_ngcontent-%COMP%]{flex:1;min-width:150px}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:.9rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:1rem;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.add-button[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;align-self:flex-end}.add-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #fff3;background:#ffffffe6}.add-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.list-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;background:#ffffff0d;border-radius:8px;margin-top:1rem;max-height:70vh}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;font-weight:600;text-align:left;padding:1rem;position:sticky;top:0;z-index:10;white-space:nowrap}th[_ngcontent-%COMP%]:first-child{width:60px}th[_ngcontent-%COMP%]:nth-child(2){width:35%}th[_ngcontent-%COMP%]:nth-child(3){width:20%}th[_ngcontent-%COMP%]:nth-child(4){width:15%}th[_ngcontent-%COMP%]:nth-child(5){width:20%}th[_ngcontent-%COMP%]:last-child{width:10%}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);color:#fff;vertical-align:top}td[_ngcontent-%COMP%]:nth-child(2){word-break:break-word}.nist-frameworks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.nist-badge[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:.3rem .6rem;border-radius:12px;font-size:.8rem;font-weight:500}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.edit[_ngcontent-%COMP%]{color:#3498db}.action-btn.delete[_ngcontent-%COMP%]{color:#e74c3c}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media (max-width: 1200px){table[_ngcontent-%COMP%]{min-width:900px}}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{padding:1.5rem}.header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filters-container[_ngcontent-%COMP%]{flex-direction:column}.filter-group[_ngcontent-%COMP%]{width:100%}.add-button[_ngcontent-%COMP%]{width:100%;justify-content:center;margin-top:1rem}.table-responsive[_ngcontent-%COMP%]{max-height:60vh}}`]})}}return t})();var ab=hb(sb());function NP(t,n){if(t&1&&w(0,"img",24),t&2){let e=_(2).$implicit;g("src",e.qrCodeDataUrl,e0)}}function FP(t,n){if(t&1){let e=N();l(0,"div",15),x("click",function(){y(e);let r=_().$implicit,o=_();return v(o.hideQRCode(r))}),l(1,"div",16),x("click",function(r){return y(e),v(r.stopPropagation())}),l(2,"div",17)(3,"h3"),u(4,"Scan QR Code"),c(),l(5,"button",18),x("click",function(){y(e);let r=_().$implicit,o=_();return v(o.hideQRCode(r))}),w(6,"i",19),c()(),l(7,"div",20),E(8,NP,1,1,"img",21),l(9,"p",22),u(10,"Scan this QR code to open the session link"),c(),l(11,"p",23),u(12),c()()()()}if(t&2){let e=_().$implicit,i=_();f(8),g("ngIf",e.qrCodeDataUrl),f(4),O(i.getSessionUrl(e))}}function LP(t,n){if(t&1){let e=N();l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),c(),l(7,"td"),u(8),se(9,"date"),c(),l(10,"td"),u(11),se(12,"date"),c(),l(13,"td"),u(14),c(),l(15,"td")(16,"span",8),u(17),c()(),l(18,"td")(19,"div",9)(20,"a",10),x("click",function(){let r=y(e).$implicit,o=_();return v(o.openLink(r))}),w(21,"i",11),u(22," Open "),c(),l(23,"button",12),x("click",function(){let r=y(e).$implicit,o=_();return v(o.showQRCode(r))}),w(24,"i",13),c()(),E(25,FP,13,2,"div",14),c()()}if(t&2){let e=n.$implicit,i=_();f(2),O(e.session_id),f(2),O(i.getExerciseName(e.exercise_id)),f(2),O(i.getScenarioName(e.scenario_id)),f(2),O(Ke(9,10,e.scheduled_start_time,"medium")),f(3),O(Ke(12,13,e.scheduled_end_time,"medium")),f(3),O(e.created_by),f(2),Ni(e.is_active?"active":"completed"),f(),P(" ",e.is_active?"Active":"Completed"," "),f(8),g("ngIf",e.showQR)}}var cb=(()=>{class t{constructor(e){this.router=e,this.sessions=[],this.exercises=[],this.scenarios=[],this.addSession=new z,this.editSession=new z,this.deleteSession=new z}onAddSession(){this.addSession.emit()}onEditSession(e){this.editSession.emit(e)}onDeleteSession(e){this.deleteSession.emit(e)}getExerciseName(e){let i=this.exercises.find(r=>r.id===e);return i?i.name:"Unknown Exercise"}getScenarioName(e){let i=this.scenarios.find(r=>r.id===e);return i?i.name:"Unknown Scenario"}openLink(e){this.router.navigate([`/login/session/${e.session_id}`])}getSessionUrl(e){return`${window.location.origin}/ttx_app/#/login/session/${e.session_id}`}showQRCode(e){return _e(this,null,function*(){try{let i=this.getSessionUrl(e),r=yield ab.toDataURL(i,{width:200,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});e.qrCodeDataUrl=r,e.showQR=!0}catch(i){console.error("Error generating QR code:",i)}})}hideQRCode(e){e.showQR=!1}static{this.\u0275fac=function(i){return new(i||t)(R(qe))}}static{this.\u0275cmp=X({type:t,selectors:[["app-session-management"]],inputs:{sessions:"sessions",exercises:"exercises",scenarios:"scenarios"},outputs:{addSession:"addSession",editSession:"editSession",deleteSession:"deleteSession"},standalone:!0,features:[ee],decls:31,vars:1,consts:[[1,"management-section"],[1,"section-header"],[1,"header-content"],[1,"add-button",3,"click"],[1,"fas","fa-plus"],[1,"list-container"],[1,"table-responsive"],[4,"ngFor","ngForOf"],[1,"status-badge"],[1,"session-actions"],[1,"session-link",3,"click"],[1,"fas","fa-external-link-alt"],[1,"qr-btn",3,"click"],[1,"fas","fa-qrcode"],["class","qr-modal",3,"click",4,"ngIf"],[1,"qr-modal",3,"click"],[1,"qr-modal-content",3,"click"],[1,"qr-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"qr-body"],["alt","QR Code","class","qr-image",3,"src",4,"ngIf"],[1,"qr-info"],[1,"qr-url"],["alt","QR Code",1,"qr-image",3,"src"]],template:function(i,r){i&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Session Management"),c(),l(5,"button",3),x("click",function(){return r.onAddSession()}),w(6,"i",4),u(7," Create Session "),c()()(),l(8,"div",5)(9,"div",6)(10,"table")(11,"thead")(12,"tr")(13,"th"),u(14,"Session ID"),c(),l(15,"th"),u(16,"Exercise"),c(),l(17,"th"),u(18,"Scenario"),c(),l(19,"th"),u(20,"Start Time"),c(),l(21,"th"),u(22,"End Time"),c(),l(23,"th"),u(24,"Created By"),c(),l(25,"th"),u(26,"Status"),c(),l(27,"th"),u(28,"Link"),c()()(),l(29,"tbody"),E(30,LP,26,16,"tr",7),c()()()()()),i&2&&(f(30),g("ngForOf",r.sessions))},dependencies:[ne,ue,je,Ir],styles:[".management-section[_ngcontent-%COMP%]{display:grid;gap:2rem;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem 2rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a;display:flex;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.add-button[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.add-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #fff3;background:#ffffffe6}.add-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.list-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;background:#ffffff0d;border-radius:8px;margin-top:1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}th[_ngcontent-%COMP%]{font-weight:600;color:#fff;background:#ffffff0d}td[_ngcontent-%COMP%]{color:#fff}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.9rem;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.status-badge.completed[_ngcontent-%COMP%]{background:#3498db33;color:#3498db}.session-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.session-link[_ngcontent-%COMP%]{color:#64ccc9;text-decoration:none;display:flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;background:#64ccc91a;padding:.5rem .75rem;border-radius:6px;border:1px solid rgba(100,204,201,.3)}.session-link[_ngcontent-%COMP%]:hover{color:#64ccc9;background:#64ccc933;transform:translateY(-2px);box-shadow:0 3px 10px #64ccc933}.qr-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:4px;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.qr-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.edit[_ngcontent-%COMP%]{color:#3498db}.action-btn.delete[_ngcontent-%COMP%]{color:#e74c3c}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.qr-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.qr-modal-content[_ngcontent-%COMP%]{background:#1b2028;border-radius:15px;width:90%;max-width:350px;overflow:hidden;box-shadow:0 10px 30px #0000004d;border:1px solid rgba(255,255,255,.1)}.qr-header[_ngcontent-%COMP%]{padding:1rem;background:#ffffff0d;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.qr-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.2rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-size:1.2rem;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{color:#e74c3c;transform:scale(1.1)}.qr-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center}.qr-image[_ngcontent-%COMP%]{width:200px;height:200px;margin-bottom:1rem;background:#fff;padding:.5rem;border-radius:8px}.qr-info[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem;font-size:.9rem}.qr-url[_ngcontent-%COMP%]{color:#3498db;font-size:.8rem;word-break:break-all;max-width:100%}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.add-button[_ngcontent-%COMP%]{width:100%}}"]})}}return t})();function VP(t,n){if(t&1){let e=N();l(0,"app-client-management",15),x("addClient",function(){y(e);let r=_();return v(r.openForm("client"))})("editClient",function(r){y(e);let o=_();return v(o.editItem("client",r))})("deleteClient",function(r){y(e);let o=_();return v(o.deleteItem("client",r))}),c()}if(t&2){let e=_();g("clients",e.clients)}}function jP(t,n){if(t&1){let e=N();l(0,"app-role-management",16),x("addRole",function(){y(e);let r=_();return v(r.openForm("role"))})("editRole",function(r){y(e);let o=_();return v(o.editItem("role",r))})("deleteRole",function(r){y(e);let o=_();return v(o.deleteItem("role",r))}),c()}if(t&2){let e=_();g("roles",e.roles)("clients",e.clients)}}function BP(t,n){if(t&1){let e=N();l(0,"app-team-management",17),x("addTeam",function(){y(e);let r=_();return v(r.openForm("team"))})("editTeam",function(r){y(e);let o=_();return v(o.editItem("team",r))})("deleteTeam",function(r){y(e);let o=_();return v(o.deleteItem("team",r))}),c()}if(t&2){let e=_();g("teams",e.teams)("clients",e.clients)("roles",e.roles)}}function UP(t,n){if(t&1){let e=N();l(0,"app-exercise-management",18),x("addExercise",function(){y(e);let r=_();return v(r.openForm("exercise"))})("editExercise",function(r){y(e);let o=_();return v(o.editItem("exercise",r))})("deleteExercise",function(r){y(e);let o=_();return v(o.deleteItem("exercise",r))}),c()}if(t&2){let e=_();g("exercises",e.exercises)("clients",e.clients)}}function zP(t,n){if(t&1){let e=N();l(0,"app-scenario-management",19),x("addScenario",function(){y(e);let r=_();return v(r.openForm("scenario"))})("editScenario",function(r){y(e);let o=_();return v(o.editItem("scenario",r))})("deleteScenario",function(r){y(e);let o=_();return v(o.deleteItem("scenario",r))}),c()}if(t&2){let e=_();g("scenarios",e.scenarios)("clients",e.clients)("exercises",e.exercises)}}function $P(t,n){if(t&1){let e=N();l(0,"app-inject-management",20),x("addInject",function(){y(e);let r=_();return v(r.openForm("inject"))})("editInject",function(r){y(e);let o=_();return v(o.editItem("inject",r))})("deleteInject",function(r){y(e);let o=_();return v(o.deleteItem("inject",r))}),c()}if(t&2){let e=_();g("injects",e.scenarioInjects)("scenarios",e.scenarios)}}function WP(t,n){if(t&1){let e=N();l(0,"app-question-management",21),x("addQuestion",function(){y(e);let r=_();return v(r.openForm("question"))})("editQuestion",function(r){y(e);let o=_();return v(o.editItem("question",r))})("deleteQuestion",function(r){y(e);let o=_();return v(o.deleteItem("question",r))}),c()}if(t&2){let e=_();g("questions",e.questions)("injects",e.scenarioInjects)("nistFrameworks",e.nistFrameworks)("getRoleName",e.getRoleName.bind(e))("clients",e.clients)("roles",e.roles)("teams",e.teams)("exercises",e.exercises)("scenarios",e.scenarios)}}function qP(t,n){if(t&1){let e=N();l(0,"app-session-management",22),x("addSession",function(){y(e);let r=_();return v(r.openForm("session"))})("editSession",function(r){y(e);let o=_();return v(o.editItem("session",r))})("deleteSession",function(r){y(e);let o=_();return v(o.deleteItem("session",r))}),c()}if(t&2){let e=_();g("sessions",e.sessions)("exercises",e.exercises)("scenarios",e.scenarios)}}function HP(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",35),u(3,"Client Name"),c(),l(4,"input",36),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newClient.name,r)||(o.newClient.name=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newClient.name)}}function GP(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function QP(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",37),u(3,"Client"),c(),l(4,"select",38),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newRole.client_id,r)||(o.newRole.client_id=r),v(r)}),l(5,"option",39),u(6,"Select a client"),c(),E(7,GP,2,2,"option",40),c()(),l(8,"div",34)(9,"label",41),u(10,"Role Name"),c(),l(11,"input",42),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newRole.name,r)||(o.newRole.name=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newRole.client_id),f(3),g("ngForOf",e.clients),f(4),D("ngModel",e.newRole.name)}}function YP(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function ZP(t,n){t&1&&(l(0,"div",51),u(1," No roles available for the selected client "),c())}function KP(t,n){if(t&1){let e=N();l(0,"div",52)(1,"label",53)(2,"input",54),x("change",function(){let r=y(e).$implicit,o=_(3);return v(o.toggleRoleForTeam(r.id))}),c(),u(3),c()()}if(t&2){let e=n.$implicit,i=_(3);f(2),g("checked",i.isRoleSelected(e.id)),f(),P(" ",e.name," ")}}function JP(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",44),u(3,"Client"),c(),l(4,"select",45),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newTeam.client_id,r)||(o.newTeam.client_id=r),v(r)}),x("change",function(){y(e);let r=_(2);return v(r.onTeamClientChange())}),l(5,"option",39),u(6,"Select a client"),c(),E(7,YP,2,2,"option",40),c()(),l(8,"div",34)(9,"label",46),u(10,"Team Name"),c(),l(11,"input",47),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newTeam.name,r)||(o.newTeam.name=r),v(r)}),c()(),l(12,"div",34)(13,"label"),u(14,"Assign Roles"),c(),l(15,"div",48),E(16,ZP,2,0,"div",49)(17,KP,4,2,"div",50),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newTeam.client_id),f(3),g("ngForOf",e.clients),f(4),D("ngModel",e.newTeam.name),f(5),g("ngIf",e.filteredRoles.length===0),f(),g("ngForOf",e.filteredRoles)}}function XP(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function eA(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",55),u(3,"Client"),c(),l(4,"select",56),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newExercise.client_id,r)||(o.newExercise.client_id=r),v(r)}),l(5,"option",39),u(6,"Select a client"),c(),E(7,XP,2,2,"option",40),c()(),l(8,"div",34)(9,"label",57),u(10,"Exercise Name"),c(),l(11,"input",58),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newExercise.name,r)||(o.newExercise.name=r),v(r)}),c()(),l(12,"div",34)(13,"label",59),u(14,"Time (minutes)"),c(),l(15,"input",60),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newExercise.time,r)||(o.newExercise.time=r),v(r)}),c()(),l(16,"div",34)(17,"label",61),u(18,"Simulated Amount ($)"),c(),l(19,"input",62),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newExercise.exercise_simulated_amount,r)||(o.newExercise.exercise_simulated_amount=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newExercise.client_id),f(3),g("ngForOf",e.clients),f(4),D("ngModel",e.newExercise.name),f(4),D("ngModel",e.newExercise.time),f(4),D("ngModel",e.newExercise.exercise_simulated_amount)}}function tA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function nA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function iA(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",63),u(3,"Client"),c(),l(4,"select",64),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenario.client_id,r)||(o.newScenario.client_id=r),v(r)}),l(5,"option",39),u(6,"Select a client"),c(),E(7,tA,2,2,"option",40),c()(),l(8,"div",34)(9,"label",65),u(10,"Exercise"),c(),l(11,"select",66),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenario.exercise_id,r)||(o.newScenario.exercise_id=r),v(r)}),l(12,"option",39),u(13,"Select an exercise"),c(),E(14,nA,2,2,"option",40),c()(),l(15,"div",34)(16,"label",67),u(17,"Scenario Name"),c(),l(18,"input",68),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenario.name,r)||(o.newScenario.name=r),v(r)}),c()(),l(19,"div",34)(20,"label",69),u(21,"Description"),c(),l(22,"textarea",70),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenario.description,r)||(o.newScenario.description=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newScenario.client_id),f(3),g("ngForOf",e.clients),f(4),D("ngModel",e.newScenario.exercise_id),f(3),g("ngForOf",e.exercises),f(4),D("ngModel",e.newScenario.name),f(4),D("ngModel",e.newScenario.description)}}function rA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function oA(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",71),u(3,"Scenario"),c(),l(4,"select",72),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenarioInject.scenario_id,r)||(o.newScenarioInject.scenario_id=r),v(r)}),l(5,"option",39),u(6,"Select a scenario"),c(),E(7,rA,2,2,"option",40),c()(),l(8,"div",34)(9,"label",73),u(10,"Inject Name"),c(),l(11,"input",74),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenarioInject.name,r)||(o.newScenarioInject.name=r),v(r)}),c()(),l(12,"div",34)(13,"label",75),u(14,"Situation Description"),c(),l(15,"textarea",76),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenarioInject.data.situation.description,r)||(o.newScenarioInject.data.situation.description=r),v(r)}),c()(),l(16,"div",34)(17,"label",77),u(18,"Impact Description"),c(),l(19,"textarea",78),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenarioInject.data.impact.description,r)||(o.newScenarioInject.data.impact.description=r),v(r)}),c()(),l(20,"div",34)(21,"label",79),u(22,"Action Required Description"),c(),l(23,"textarea",80),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newScenarioInject.data.action_required.description,r)||(o.newScenarioInject.data.action_required.description=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newScenarioInject.scenario_id),f(3),g("ngForOf",e.scenarios),f(4),D("ngModel",e.newScenarioInject.name),f(4),D("ngModel",e.newScenarioInject.data.situation.description),f(4),D("ngModel",e.newScenarioInject.data.impact.description),f(4),D("ngModel",e.newScenarioInject.data.action_required.description)}}function sA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function aA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function cA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function lA(t,n){t&1&&(l(0,"div",51),u(1," No roles available for the selected client "),c())}function dA(t,n){if(t&1){let e=N();l(0,"div",52)(1,"label",53)(2,"input",54),x("change",function(){let r=y(e).$implicit,o=_(3);return v(o.toggleRoleSelection(r))}),c(),u(3),c()()}if(t&2){let e=n.$implicit;f(2),g("checked",e.selected),f(),P(" ",e.name," ")}}function uA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function fA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function pA(t,n){if(t&1){let e=N();l(0,"div",103)(1,"div",104)(2,"input",105),I("ngModelChange",function(r){let o=y(e).$implicit;return T(o.option,r)||(o.option=r),v(r)}),c(),l(3,"label",106)(4,"input",107),x("change",function(){let r=y(e).index,o=_(3);return v(o.setCorrectOption(r))}),c(),u(5," Correct Answer "),c()()()}if(t&2){let e=n.$implicit,i=n.index;f(2),g("placeholder","Option "+(i+1)),D("ngModel",e.option),f(2),g("name","correct")("checked",e.is_correct)}}function hA(t,n){if(t&1){let e=N();l(0,"div",108),x("click",function(){let r=y(e).$implicit,o=_(3);return v(o.toggleNistFramework(r.id))}),l(1,"div",109)(2,"input",110),x("click",function(r){return y(e),v(r.stopPropagation())})("change",function(){let r=y(e).$implicit,o=_(3);return v(o.toggleNistFramework(r.id))}),c(),l(3,"span",111),u(4),c()(),l(5,"span",112),u(6),c()()}if(t&2){let e=n.$implicit,i=_(3);G("selected",i.isNistFrameworkSelected(e.id)),f(2),g("checked",i.isNistFrameworkSelected(e.id)),f(2),O(e.name),f(2),P("#",e.seq_no,"")}}function mA(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",81),u(3,"Exercise"),c(),l(4,"select",82),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.execrise_id,r)||(o.newQuestion.execrise_id=r),v(r)}),x("change",function(){y(e);let r=_(2);return v(r.onExerciseChange())}),l(5,"option",39),u(6,"Select an exercise"),c(),E(7,sA,2,2,"option",40),c()(),l(8,"div",34)(9,"label",83),u(10,"Scenario"),c(),l(11,"select",84),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.scenario_id,r)||(o.newQuestion.scenario_id=r),v(r)}),x("change",function(){y(e);let r=_(2);return v(r.onScenarioChange())}),l(12,"option",39),u(13,"Select a scenario"),c(),E(14,aA,2,2,"option",40),c()(),l(15,"div",34)(16,"label",85),u(17,"Inject"),c(),l(18,"select",86),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.scenario_inject_id,r)||(o.newQuestion.scenario_inject_id=r),v(r)}),l(19,"option",39),u(20,"Select an inject"),c(),E(21,cA,2,2,"option",40),c()(),l(22,"div",34)(23,"label"),u(24,"Roles (Select all that apply)"),c(),l(25,"div",87)(26,"button",88),x("click",function(){y(e);let r=_(2);return v(r.selectAllRoles())}),u(27," Select All Roles "),c()(),l(28,"div",48),E(29,lA,2,0,"div",49)(30,dA,4,2,"div",50),c()(),l(31,"div",34)(32,"label",89),u(33,"Question"),c(),l(34,"textarea",90),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.question,r)||(o.newQuestion.question=r),v(r)}),c()(),l(35,"div",34)(36,"label",91),u(37,"Compliance Reference"),c(),l(38,"input",92),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.compliance_reference,r)||(o.newQuestion.compliance_reference=r),v(r)}),c()(),l(39,"div",34)(40,"label",93),u(41,"SWOT Category"),c(),l(42,"select",94),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.swot_category_id,r)||(o.newQuestion.swot_category_id=r),v(r)}),l(43,"option",95),u(44,"Select SWOT Category (Optional)"),c(),E(45,uA,2,2,"option",40),c()(),l(46,"div",34)(47,"label",96),u(48,"Question Category"),c(),l(49,"select",97),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newQuestion.question_category_id,r)||(o.newQuestion.question_category_id=r),v(r)}),l(50,"option",95),u(51,"Select Question Category (Optional)"),c(),E(52,fA,2,2,"option",40),c()(),l(53,"div",34)(54,"label"),u(55,"Options"),c(),l(56,"div",98),E(57,pA,6,4,"div",99),c()(),l(58,"div",34)(59,"label"),u(60,"NIST Frameworks"),c(),l(61,"div",100)(62,"div",101),E(63,hA,7,5,"div",102),c()()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newQuestion.execrise_id),f(3),g("ngForOf",e.exercises),f(4),D("ngModel",e.newQuestion.scenario_id),g("disabled",!e.newQuestion.execrise_id||e.filteredScenarios.length===0),f(3),g("ngForOf",e.filteredScenarios),f(4),D("ngModel",e.newQuestion.scenario_inject_id),g("disabled",!e.newQuestion.scenario_id||e.filteredInjects.length===0),f(3),g("ngForOf",e.filteredInjects),f(5),g("disabled",e.filteredRoles.length===0),f(3),g("ngIf",e.filteredRoles.length===0),f(),g("ngForOf",e.filteredRoles),f(4),D("ngModel",e.newQuestion.question),f(4),D("ngModel",e.newQuestion.compliance_reference),f(4),D("ngModel",e.newQuestion.swot_category_id),f(),g("ngValue",null),f(2),g("ngForOf",e.swotCategories),f(4),D("ngModel",e.newQuestion.question_category_id),f(),g("ngValue",null),f(2),g("ngForOf",e.questionCategories),f(5),g("ngForOf",e.newQuestion.options),f(6),g("ngForOf",e.nistFrameworks)}}function gA(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function _A(t,n){if(t&1&&(l(0,"option",43),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),P(" ",e.name," ")}}function yA(t,n){if(t&1){let e=N();l(0,"div",33)(1,"div",34)(2,"label",113),u(3,"Exercise"),c(),l(4,"select",114),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newSession.exercise_id,r)||(o.newSession.exercise_id=r),v(r)}),l(5,"option",39),u(6,"Select an exercise"),c(),E(7,gA,2,2,"option",40),c()(),l(8,"div",34)(9,"label",115),u(10,"Scenario"),c(),l(11,"select",116),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newSession.scenario_id,r)||(o.newSession.scenario_id=r),v(r)}),l(12,"option",39),u(13,"Select a scenario"),c(),E(14,_A,2,2,"option",40),c()(),l(15,"div",34)(16,"label",117),u(17,"Scheduled Start Time"),c(),l(18,"input",118),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newSession.scheduled_start_time,r)||(o.newSession.scheduled_start_time=r),v(r)}),c()(),l(19,"div",34)(20,"label",119),u(21,"Scheduled End Time"),c(),l(22,"input",120),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newSession.scheduled_end_time,r)||(o.newSession.scheduled_end_time=r),v(r)}),c()(),l(23,"div",34)(24,"label",121),u(25,"Created By"),c(),l(26,"input",122),I("ngModelChange",function(r){y(e);let o=_(2);return T(o.newSession.created_by,r)||(o.newSession.created_by=r),v(r)}),c()()()}if(t&2){let e=_(2);f(4),D("ngModel",e.newSession.exercise_id),f(3),g("ngForOf",e.exercises),f(4),D("ngModel",e.newSession.scenario_id),f(3),g("ngForOf",e.scenarios),f(4),D("ngModel",e.newSession.scheduled_start_time),f(4),D("ngModel",e.newSession.scheduled_end_time),f(4),D("ngModel",e.newSession.created_by)}}function vA(t,n){if(t&1){let e=N();l(0,"div",23),x("click",function(){y(e);let r=_();return v(r.closeForm())}),l(1,"div",24),x("click",function(r){return y(e),v(r.stopPropagation())}),l(2,"div",25)(3,"h2"),u(4),c(),l(5,"button",26),x("click",function(){y(e);let r=_();return v(r.closeForm())}),w(6,"i",27),c()(),l(7,"div",28),E(8,HP,5,1,"div",29)(9,QP,12,3,"div",29)(10,JP,18,5,"div",29)(11,eA,20,5,"div",29)(12,iA,23,6,"div",29)(13,oA,24,6,"div",29)(14,mA,64,21,"div",29)(15,yA,27,7,"div",29),c(),l(16,"div",30)(17,"button",31),x("click",function(){y(e);let r=_();return v(r.closeForm())}),u(18,"Cancel"),c(),l(19,"button",32),x("click",function(){y(e);let r=_();return v(r.submitForm())}),u(20,"Save"),c()()()()}if(t&2){let e=_();f(4),O(e.getFormTitle()),f(3),g("ngSwitch",e.currentForm),f(),g("ngSwitchCase","client"),f(),g("ngSwitchCase","role"),f(),g("ngSwitchCase","team"),f(),g("ngSwitchCase","exercise"),f(),g("ngSwitchCase","scenario"),f(),g("ngSwitchCase","inject"),f(),g("ngSwitchCase","question"),f(),g("ngSwitchCase","session")}}var lb=(()=>{class t{constructor(e,i){this.http=e,this.apiService=i,this.activeTab="clients",this.showForm=!1,this.currentForm=null,this.clients=[],this.roles=[],this.teams=[],this.exercises=[],this.scenarios=[],this.scenarioInjects=[],this.questions=[],this.sessions=[],this.nistFrameworks=[],this.swotCategories=[],this.questionCategories=[],this.filteredScenarios=[],this.filteredInjects=[],this.filteredRoles=[],this.newClient={name:""},this.newRole={name:"",client_id:""},this.newTeam={name:"",client_id:"",role_id:[]},this.newExercise={name:"",time:0,exercise_simulated_amount:0,client_id:""},this.newScenario={name:"",client_id:"",exercise_id:"",description:""},this.newScenarioInject={scenario_id:"",name:"",data:{situation:{description:"",type:"external"},impact:{description:"",type:"external"},action_required:{description:"",type:"external"}}},this.newQuestion={scenario_inject_id:"",question:"",options:[{option:"",is_correct:!0},{option:"",is_correct:!1},{option:"",is_correct:!1},{option:"",is_correct:!1}],nist_framework_id:[],swot_category_id:null,question_category_id:null,question_type_id:1,execrise_id:"",scenario_id:"",role_id:null,compliance_reference:""},this.newSession={exercise_id:"",scenario_id:"",scheduled_start_time:"",scheduled_end_time:"",created_by:""}}ngOnInit(){this.loadAllData()}ngOnDestroy(){}loadAllData(){this.loadClients(),this.loadRoles(),this.loadTeams(),this.loadExercises(),this.loadScenarios(),this.loadScenarioInjects(),this.loadQuestions(),this.loadSessions(),this.loadNistFrameworks(),this.loadSwotCategories(),this.loadQuestionCategories()}setActiveTab(e){this.activeTab=e,this.showForm&&this.closeForm()}openForm(e){this.currentForm=e,this.showForm=!0,this.resetForm(),e==="question"&&this.exercises.length>0&&(this.newQuestion.execrise_id=this.exercises[0].id.toString(),this.onExerciseChange())}closeForm(){this.showForm=!1,this.currentForm=null,this.resetForm()}getFormTitle(){switch(this.currentForm){case"client":return"Add New Client";case"role":return"Add New Role";case"team":return"Add New Team";case"exercise":return"Add New Exercise";case"scenario":return"Add New Scenario";case"inject":return"Add New Inject";case"question":return"Add New Question";case"session":return"Create New Session";default:return""}}resetForm(){switch(this.currentForm){case"client":this.newClient={name:""};break;case"role":this.newRole={name:"",client_id:""};break;case"team":this.newTeam={name:"",client_id:"",role_id:[]},this.filteredRoles=[];break;case"exercise":this.newExercise={name:"",time:0,exercise_simulated_amount:0,client_id:""};break;case"scenario":this.newScenario={name:"",client_id:"",exercise_id:"",description:""};break;case"inject":this.newScenarioInject={scenario_id:"",name:"",data:{situation:{description:"",type:"external"},impact:{description:"",type:"external"},action_required:{description:"",type:"external"}}};break;case"question":this.newQuestion={scenario_inject_id:"",question:"",options:[{option:"",is_correct:!0},{option:"",is_correct:!1},{option:"",is_correct:!1},{option:"",is_correct:!1}],nist_framework_id:[],swot_category_id:null,question_category_id:null,question_type_id:1,execrise_id:this.exercises.length>0?this.exercises[0].id.toString():"",scenario_id:"",role_id:null,compliance_reference:""},this.exercises.length>0&&this.onExerciseChange();break;case"session":this.newSession={exercise_id:"",scenario_id:"",scheduled_start_time:"",scheduled_end_time:"",created_by:""};break}}loadClients(){this.http.get("https://esflabs.ai/ttx/clients").subscribe({next:e=>this.clients=e,error:e=>console.error("Error loading clients:",e)})}loadRoles(){this.http.get("https://esflabs.ai/ttx/roles").subscribe({next:e=>this.roles=e,error:e=>console.error("Error loading roles:",e)})}loadTeams(){this.http.get("https://esflabs.ai/ttx/teams").subscribe({next:e=>this.teams=e,error:e=>console.error("Error loading teams:",e)})}loadExercises(){this.http.get("https://esflabs.ai/ttx/exercises").subscribe({next:e=>this.exercises=e,error:e=>console.error("Error loading exercises:",e)})}loadScenarios(){this.http.get("https://esflabs.ai/ttx/scenarios").subscribe({next:e=>{this.scenarios=e,this.currentForm==="question"&&this.newQuestion.execrise_id&&this.onExerciseChange()},error:e=>console.error("Error loading scenarios:",e)})}loadScenarioInjects(){this.http.get("https://esflabs.ai/ttx/scenario-injects").subscribe({next:e=>{this.scenarioInjects=e,this.currentForm==="question"&&this.newQuestion.scenario_id&&this.onScenarioChange()},error:e=>console.error("Error loading scenario injects:",e)})}loadQuestions(){this.http.get("https://esflabs.ai/ttx/scenario-questions").subscribe({next:e=>this.questions=e,error:e=>console.error("Error loading questions:",e)})}loadSessions(){this.http.get("https://esflabs.ai/ttx/exercise-session").subscribe({next:e=>this.sessions=e,error:e=>console.error("Error loading sessions:",e)})}loadNistFrameworks(){this.apiService.getNistFrameworks().subscribe({next:e=>this.nistFrameworks=e,error:e=>console.error("Error loading NIST frameworks:",e)})}loadSwotCategories(){this.http.get("https://esflabs.ai/ttx/swot").subscribe({next:e=>this.swotCategories=e,error:e=>console.error("Error loading SWOT categories:",e)})}loadQuestionCategories(){this.http.get("https://esflabs.ai/ttx/question-categories").subscribe({next:e=>this.questionCategories=e,error:e=>console.error("Error loading question categories:",e)})}loadRolesForClient(e){this.http.get(`https://esflabs.ai/ttx/roles/client/${e}`).subscribe({next:i=>{this.filteredRoles=i.map(r=>B(S({},r),{selected:!1})),console.log("Loaded roles for client:",this.filteredRoles)},error:i=>console.error("Error loading roles for client:",i)})}submitForm(){switch(this.currentForm){case"client":this.createClient();break;case"role":this.createRole();break;case"team":this.createTeam();break;case"exercise":this.createExercise();break;case"scenario":this.createScenario();break;case"inject":this.createScenarioInject();break;case"question":this.createQuestion();break;case"session":this.createSession();break}}createClient(){this.newClient.name&&this.http.post("https://esflabs.ai/ttx/clients",this.newClient).subscribe({next:()=>{this.loadClients(),this.closeForm()},error:e=>console.error("Error creating client:",e)})}createRole(){if(!this.isRoleFormValid())return;let e=B(S({},this.newRole),{client_id:parseInt(this.newRole.client_id)});this.http.post("https://esflabs.ai/ttx/roles",e).subscribe({next:()=>{this.loadRoles(),this.closeForm()},error:i=>console.error("Error creating role:",i)})}createTeam(){if(!this.isTeamFormValid())return;let e=B(S({},this.newTeam),{client_id:parseInt(this.newTeam.client_id)});this.http.post("https://esflabs.ai/ttx/teams",e).subscribe({next:()=>{this.loadTeams(),this.closeForm()},error:i=>console.error("Error creating team:",i)})}createExercise(){if(!this.isExerciseFormValid())return;let e=B(S({},this.newExercise),{client_id:parseInt(this.newExercise.client_id)});this.http.post("https://esflabs.ai/ttx/exercises",e).subscribe({next:()=>{this.loadExercises(),this.closeForm()},error:i=>console.error("Error creating exercise:",i)})}createScenario(){if(!this.isScenarioFormValid())return;let e=B(S({},this.newScenario),{client_id:parseInt(this.newScenario.client_id),exercise_id:parseInt(this.newScenario.exercise_id)});this.http.post("https://esflabs.ai/ttx/scenarios",e).subscribe({next:()=>{this.loadScenarios(),this.closeForm()},error:i=>console.error("Error creating scenario:",i)})}createScenarioInject(){if(!this.isScenarioInjectFormValid())return;let e=B(S({},this.newScenarioInject),{scenario_id:parseInt(this.newScenarioInject.scenario_id)});this.http.post("https://esflabs.ai/ttx/scenario-injects",e).subscribe({next:()=>{this.loadScenarioInjects(),this.closeForm()},error:i=>console.error("Error creating scenario inject:",i)})}createQuestion(){if(!this.isQuestionFormValid())return;let e=this.filteredRoles.find(o=>o.selected),i=e?e.id:null,r=B(S({},this.newQuestion),{scenario_inject_id:parseInt(this.newQuestion.scenario_inject_id),options:this.newQuestion.options.filter(o=>o.option.trim()!==""),swot_category_id:this.newQuestion.swot_category_id,question_category_id:this.newQuestion.question_category_id,question_type_id:1,role_id:i,compliance_reference:this.newQuestion.compliance_reference});console.log("Submitting question with data:",r),this.http.post("https://esflabs.ai/ttx/scenario-questions",r).subscribe({next:()=>{this.loadQuestions(),this.closeForm()},error:o=>{console.error("Error creating question:",o),alert("Error creating question: "+(o.message||"Unknown error"))}})}createSession(){if(!this.isSessionFormValid())return;let e=B(S({},this.newSession),{exercise_id:parseInt(this.newSession.exercise_id),scenario_id:parseInt(this.newSession.scenario_id)});this.http.post("https://esflabs.ai/ttx/exercise-session",e).subscribe({next:()=>{this.loadSessions(),this.closeForm()},error:i=>console.error("Error creating session:",i)})}editItem(e,i){switch(this.currentForm=e,this.showForm=!0,e){case"client":this.newClient=S({},i);break;case"role":this.newRole=S({},i);break;case"team":this.newTeam=S({},i),i.client_id&&this.loadRolesForClient(i.client_id);break;case"exercise":this.newExercise=S({},i);break;case"scenario":this.newScenario=S({},i);break;case"inject":this.newScenarioInject=S({},i);break;case"question":let r=this.scenarioInjects.find(s=>s.id===i.scenario_inject_id),o=r?this.scenarios.find(s=>s.id===r.scenario_id):null;this.newQuestion=B(S({},i),{question_type_id:i.question_type_id||1,scenario_id:r?r.scenario_id.toString():"",execrise_id:o?o.execrise_id.toString():"",role_id:i.role_id||null,compliance_reference:i.compliance_reference||""}),this.newQuestion.execrise_id&&this.onExerciseChange(),this.newQuestion.scenario_id&&this.onScenarioChange(),o&&(this.loadRolesForClient(o.client_id),setTimeout(()=>{i.role_id!==void 0&&i.role_id!==null&&this.filteredRoles.length>0&&this.filteredRoles.forEach(s=>{s.selected=s.id===i.role_id})},500));break;case"session":this.newSession=S({},i);break}}deleteItem(e,i){let r=this.getDeleteEndpoint(e,i);r&&confirm("Are you sure you want to delete this item?")&&this.http.delete(r).subscribe({next:()=>this.refreshAfterDelete(e),error:o=>console.error(`Error deleting ${e}:`,o)})}getDeleteEndpoint(e,i){let r="https://esflabs.ai/ttx";switch(e){case"client":return`${r}/clients/${i}`;case"role":return`${r}/roles/${i}`;case"team":return`${r}/teams/${i}`;case"exercise":return`${r}/exercises/${i}`;case"scenario":return`${r}/scenarios/${i}`;case"inject":return`${r}/scenario-injects/${i}`;case"question":return`${r}/scenario-questions/${i}`;case"session":return`${r}/exercise-session/${i}`;default:return""}}refreshAfterDelete(e){switch(e){case"client":this.loadClients();break;case"role":this.loadRoles();break;case"team":this.loadTeams();break;case"exercise":this.loadExercises();break;case"scenario":this.loadScenarios();break;case"inject":this.loadScenarioInjects();break;case"question":this.loadQuestions();break;case"session":this.loadSessions();break}}getClientName(e){let i=this.clients.find(r=>r.id===e);return i?i.name:"Unknown Client"}getExerciseName(e){let i=this.exercises.find(r=>r.id===e);return i?i.name:"Unknown Exercise"}getScenarioName(e){let i=this.scenarios.find(r=>r.id===e);return i?i.name:"Unknown Scenario"}getInjectName(e){let i=this.scenarioInjects.find(r=>r.id===e);return i?i.name:"Unknown Inject"}getNistFramework(e){let i=this.nistFrameworks.find(r=>r.id===e);return i?i.name:""}getSwotCategoryName(e){if(e==null)return"None";let i=this.swotCategories.find(r=>r.id===e);return i?i.name:"Unknown"}getQuestionCategoryName(e){if(e==null)return"None";let i=this.questionCategories.find(r=>r.id===e);return i?i.name:"Unknown"}getRoleName(e){if(e==null)return"None";let i=this.roles.find(r=>r.id===e);return i?i.name:"Unknown"}onTeamClientChange(){if(!this.newTeam.client_id){this.filteredRoles=[];return}let e=parseInt(this.newTeam.client_id);this.loadRolesForClient(e),this.newTeam.role_id=[]}isRoleSelected(e){return this.newTeam.role_id.includes(e)}toggleRoleForTeam(e){let i=this.newTeam.role_id.indexOf(e);i===-1?this.newTeam.role_id.push(e):this.newTeam.role_id.splice(i,1)}toggleRoleSelection(e){this.filteredRoles.forEach(i=>{i.selected=!1}),e.selected=!0}selectAllRoles(){alert("Questions can only be assigned to a single role. Please select one role.")}isRoleFormValid(){return!!(this.newRole.name&&this.newRole.client_id)}isTeamFormValid(){return!!(this.newTeam.name&&this.newTeam.client_id&&this.newTeam.role_id.length>0)}isExerciseFormValid(){return!!(this.newExercise.name&&this.newExercise.time&&this.newExercise.exercise_simulated_amount&&this.newExercise.client_id)}isScenarioFormValid(){return!!(this.newScenario.name&&this.newScenario.client_id&&this.newScenario.exercise_id&&this.newScenario.description)}isScenarioInjectFormValid(){return!!(this.newScenarioInject.scenario_id&&this.newScenarioInject.name&&this.newScenarioInject.data.situation.description&&this.newScenarioInject.data.impact.description&&this.newScenarioInject.data.action_required.description)}isQuestionFormValid(){let e=this.newQuestion.options.filter(r=>r.option.trim()!=="").length>=2,i=this.newQuestion.options.some(r=>r.is_correct);return!!(this.newQuestion.scenario_inject_id&&this.newQuestion.question&&e&&i&&this.newQuestion.nist_framework_id.length>0)}isSessionFormValid(){return!!(this.newSession.exercise_id&&this.newSession.scenario_id&&this.newSession.scheduled_start_time&&this.newSession.scheduled_end_time&&this.newSession.created_by)}setCorrectOption(e){this.newQuestion.options.forEach((i,r)=>{i.is_correct=r===e})}toggleNistFramework(e){console.log("Toggling NIST framework:",e);let i=this.newQuestion.nist_framework_id.indexOf(e);i===-1?this.newQuestion.nist_framework_id.push(e):this.newQuestion.nist_framework_id.splice(i,1)}isNistFrameworkSelected(e){return this.newQuestion.nist_framework_id.includes(e)}onExerciseChange(){if(console.log("Exercise changed to:",this.newQuestion.execrise_id),!this.newQuestion.execrise_id){this.filteredScenarios=[],this.filteredInjects=[],this.filteredRoles=[],this.newQuestion.scenario_id="",this.newQuestion.scenario_inject_id="",this.newQuestion.role_id=null;return}let e=parseInt(this.newQuestion.execrise_id),i=this.exercises.find(r=>r.id===e);i&&this.loadRolesForClient(i.client_id),this.filteredScenarios=this.scenarios.filter(r=>r.execrise_id===e),console.log("Filtered scenarios:",this.filteredScenarios),this.filteredScenarios.length>0?(this.newQuestion.scenario_id=this.filteredScenarios[0].id.toString(),this.onScenarioChange()):(this.newQuestion.scenario_id="",this.filteredInjects=[],this.newQuestion.scenario_inject_id="")}onScenarioChange(){if(console.log("Scenario changed to:",this.newQuestion.scenario_id),!this.newQuestion.scenario_id){this.filteredInjects=[],this.newQuestion.scenario_inject_id="";return}let e=parseInt(this.newQuestion.scenario_id);this.filteredInjects=this.scenarioInjects.filter(i=>i.scenario_id===e),console.log("Filtered injects:",this.filteredInjects),this.filteredInjects.length>0?this.newQuestion.scenario_inject_id=this.filteredInjects[0].id.toString():this.newQuestion.scenario_inject_id=""}static{this.\u0275fac=function(i){return new(i||t)(R(nn),R(Ut))}}static{this.\u0275cmp=X({type:t,selectors:[["app-admin"]],standalone:!0,features:[ee],decls:32,vars:25,consts:[[1,"admin-container"],[1,"dashboard-header"],[1,"header-content"],[1,"header-main"],[1,"tabs"],[1,"tab-button",3,"click"],[3,"clients","addClient","editClient","deleteClient",4,"ngIf"],[3,"roles","clients","addRole","editRole","deleteRole",4,"ngIf"],[3,"teams","clients","roles","addTeam","editTeam","deleteTeam",4,"ngIf"],[3,"exercises","clients","addExercise","editExercise","deleteExercise",4,"ngIf"],[3,"scenarios","clients","exercises","addScenario","editScenario","deleteScenario",4,"ngIf"],[3,"injects","scenarios","addInject","editInject","deleteInject",4,"ngIf"],[3,"questions","injects","nistFrameworks","getRoleName","clients","roles","teams","exercises","scenarios","addQuestion","editQuestion","deleteQuestion",4,"ngIf"],[3,"sessions","exercises","scenarios","addSession","editSession","deleteSession",4,"ngIf"],["class","popup-overlay",3,"click",4,"ngIf"],[3,"addClient","editClient","deleteClient","clients"],[3,"addRole","editRole","deleteRole","roles","clients"],[3,"addTeam","editTeam","deleteTeam","teams","clients","roles"],[3,"addExercise","editExercise","deleteExercise","exercises","clients"],[3,"addScenario","editScenario","deleteScenario","scenarios","clients","exercises"],[3,"addInject","editInject","deleteInject","injects","scenarios"],[3,"addQuestion","editQuestion","deleteQuestion","questions","injects","nistFrameworks","getRoleName","clients","roles","teams","exercises","scenarios"],[3,"addSession","editSession","deleteSession","sessions","exercises","scenarios"],[1,"popup-overlay",3,"click"],[1,"popup-content",3,"click"],[1,"popup-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"popup-body",3,"ngSwitch"],["class","form-content",4,"ngSwitchCase"],[1,"popup-footer"],[1,"cancel-btn",3,"click"],[1,"submit-btn",3,"click"],[1,"form-content"],[1,"form-group"],["for","clientName"],["type","text","id","clientName","placeholder","Enter client name",3,"ngModelChange","ngModel"],["for","roleClient"],["id","roleClient",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","roleName"],["type","text","id","roleName","placeholder","Enter role name",3,"ngModelChange","ngModel"],[3,"value"],["for","teamClient"],["id","teamClient",3,"ngModelChange","change","ngModel"],["for","teamName"],["type","text","id","teamName","placeholder","Enter team name",3,"ngModelChange","ngModel"],[1,"roles-container"],["class","no-roles-message",4,"ngIf"],["class","role-checkbox",4,"ngFor","ngForOf"],[1,"no-roles-message"],[1,"role-checkbox"],[1,"role-label"],["type","checkbox",3,"change","checked"],["for","exerciseClient"],["id","exerciseClient",3,"ngModelChange","ngModel"],["for","exerciseName"],["type","text","id","exerciseName","placeholder","Enter exercise name",3,"ngModelChange","ngModel"],["for","exerciseTime"],["type","number","id","exerciseTime","placeholder","Enter time in minutes",3,"ngModelChange","ngModel"],["for","exerciseAmount"],["type","number","id","exerciseAmount","placeholder","Enter simulated amount",3,"ngModelChange","ngModel"],["for","scenarioClient"],["id","scenarioClient",3,"ngModelChange","ngModel"],["for","scenarioExercise"],["id","scenarioExercise",3,"ngModelChange","ngModel"],["for","scenarioName"],["type","text","id","scenarioName","placeholder","Enter scenario name",3,"ngModelChange","ngModel"],["for","scenarioDescription"],["id","scenarioDescription","placeholder","Enter scenario description",3,"ngModelChange","ngModel"],["for","injectScenario"],["id","injectScenario",3,"ngModelChange","ngModel"],["for","injectName"],["type","text","id","injectName","placeholder","Enter inject name",3,"ngModelChange","ngModel"],["for","situationDescription"],["id","situationDescription","placeholder","Enter situation description",3,"ngModelChange","ngModel"],["for","impactDescription"],["id","impactDescription","placeholder","Enter impact description",3,"ngModelChange","ngModel"],["for","actionDescription"],["id","actionDescription","placeholder","Enter action required description",3,"ngModelChange","ngModel"],["for","questionExercise"],["id","questionExercise",3,"ngModelChange","change","ngModel"],["for","questionScenario"],["id","questionScenario",3,"ngModelChange","change","ngModel","disabled"],["for","questionInject"],["id","questionInject",3,"ngModelChange","ngModel","disabled"],[1,"roles-header"],["type","button",1,"select-all-btn",3,"click","disabled"],["for","questionText"],["id","questionText","placeholder","Enter question text",1,"question-textarea",3,"ngModelChange","ngModel"],["for","complianceReference"],["type","text","id","complianceReference","placeholder","Enter compliance reference (e.g., ISO 27001, NIST CSF)",3,"ngModelChange","ngModel"],["for","swotCategory"],["id","swotCategory",3,"ngModelChange","ngModel"],[3,"ngValue"],["for","questionCategory"],["id","questionCategory",3,"ngModelChange","ngModel"],[1,"options-container"],["class","option-input",4,"ngFor","ngForOf"],[1,"nist-framework-selection"],[1,"nist-framework-grid"],["class","nist-framework-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"option-input"],[1,"option-row"],["type","text",1,"option-text",3,"ngModelChange","placeholder","ngModel"],[1,"correct-option-label"],["type","radio",3,"change","name","checked"],[1,"nist-framework-item",3,"click"],[1,"framework-checkbox"],["type","checkbox",3,"click","change","checked"],[1,"framework-name"],[1,"framework-seq"],["for","sessionExercise"],["id","sessionExercise",3,"ngModelChange","ngModel"],["for","sessionScenario"],["id","sessionScenario",3,"ngModelChange","ngModel"],["for","startTime"],["type","datetime-local","id","startTime",3,"ngModelChange","ngModel"],["for","endTime"],["type","datetime-local","id","endTime",3,"ngModelChange","ngModel"],["for","createdBy"],["type","text","id","createdBy","placeholder","Enter your name",3,"ngModelChange","ngModel"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u(5,"Admin Dashboard"),c(),l(6,"div",4)(7,"button",5),x("click",function(){return r.setActiveTab("clients")}),u(8," Clients "),c(),l(9,"button",5),x("click",function(){return r.setActiveTab("roles")}),u(10," Roles "),c(),l(11,"button",5),x("click",function(){return r.setActiveTab("teams")}),u(12," Teams "),c(),l(13,"button",5),x("click",function(){return r.setActiveTab("exercises")}),u(14," Exercises "),c(),l(15,"button",5),x("click",function(){return r.setActiveTab("scenarios")}),u(16," Scenarios "),c(),l(17,"button",5),x("click",function(){return r.setActiveTab("injects")}),u(18," Injects "),c(),l(19,"button",5),x("click",function(){return r.setActiveTab("questions")}),u(20," Questions "),c(),l(21,"button",5),x("click",function(){return r.setActiveTab("sessions")}),u(22," Sessions "),c()()()()(),E(23,VP,1,1,"app-client-management",6)(24,jP,1,2,"app-role-management",7)(25,BP,1,3,"app-team-management",8)(26,UP,1,2,"app-exercise-management",9)(27,zP,1,3,"app-scenario-management",10)(28,$P,1,2,"app-inject-management",11)(29,WP,1,9,"app-question-management",12)(30,qP,1,3,"app-session-management",13),c(),E(31,vA,21,10,"div",14)),i&2&&(f(7),G("active",r.activeTab==="clients"),f(2),G("active",r.activeTab==="roles"),f(2),G("active",r.activeTab==="teams"),f(2),G("active",r.activeTab==="exercises"),f(2),G("active",r.activeTab==="scenarios"),f(2),G("active",r.activeTab==="injects"),f(2),G("active",r.activeTab==="questions"),f(2),G("active",r.activeTab==="sessions"),f(2),g("ngIf",r.activeTab==="clients"),f(),g("ngIf",r.activeTab==="roles"),f(),g("ngIf",r.activeTab==="teams"),f(),g("ngIf",r.activeTab==="exercises"),f(),g("ngIf",r.activeTab==="scenarios"),f(),g("ngIf",r.activeTab==="injects"),f(),g("ngIf",r.activeTab==="questions"),f(),g("ngIf",r.activeTab==="sessions"),f(),g("ngIf",r.showForm))},dependencies:[ne,ue,je,_f,E_,Ge,yt,vt,ai,vp,Xe,_t,lt,eC,tC,nC,iC,rC,oC,sC,cb],styles:[`.admin-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem;color:#fff}.dashboard-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.header-content[_ngcontent-%COMP%]{padding:2rem}.header-main[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:1rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;margin-top:1.5rem}.tab-button[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.5rem;border-radius:25px;cursor:pointer;transition:all .3s ease;font-weight:600;min-width:120px}.tab-button[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.tab-button.active[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border-color:#fff;box-shadow:0 4px 10px #0000001a}.management-section[_ngcontent-%COMP%]{display:grid;gap:2rem;max-width:1400px;margin:0 auto}.section-header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem 2rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a;display:flex;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.add-button[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.add-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #fff3;background:#ffffffe6}.add-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.list-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;background:#ffffff0d;border-radius:8px;margin-top:1rem;max-height:70vh}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;font-weight:600;text-align:left;padding:1rem;position:sticky;top:0;z-index:10;white-space:nowrap}th[_ngcontent-%COMP%]:first-child{width:60px}th[_ngcontent-%COMP%]:nth-child(2){width:35%}th[_ngcontent-%COMP%]:nth-child(3){width:20%}th[_ngcontent-%COMP%]:nth-child(4){width:15%}th[_ngcontent-%COMP%]:nth-child(5){width:20%}th[_ngcontent-%COMP%]:last-child{width:10%}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);color:#fff;vertical-align:top}td[_ngcontent-%COMP%]:nth-child(2){word-break:break-word}.form-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:2rem;border:1px solid rgba(255,255,255,.2);height:fit-content}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:.5rem;font-weight:600}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}.question-textarea[_ngcontent-%COMP%]{width:100%;min-height:100px;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem;resize:vertical}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.option-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:#ffffff1a;padding:1rem;border-radius:8px;border:1px solid rgba(255,255,255,.2)}.option-text[_ngcontent-%COMP%]{flex:1;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff}.correct-option-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;font-weight:600;cursor:pointer;padding:.5rem 1rem;background:#fff3;border-radius:20px;white-space:nowrap}.correct-option-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:18px;height:18px;margin:0}.roles-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:.5rem}.select-all-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);padding:.5rem 1rem;border-radius:5px;cursor:pointer;font-size:.9rem;transition:all .3s ease}.select-all-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d}.select-all-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.roles-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-top:.5rem;max-height:200px;overflow-y:auto;padding:.5rem;background:#ffffff0d;border-radius:8px}.role-checkbox[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:8px;padding:.5rem;transition:all .3s ease}.role-checkbox[_ngcontent-%COMP%]:hover{background:#fff3}.role-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;color:#fff;font-weight:500}.role-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;margin:0}.no-roles-message[_ngcontent-%COMP%]{grid-column:1 / -1;padding:1rem;color:#ffffffb3;text-align:center;font-style:italic}.nist-framework-selection[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:12px;padding:1rem;border:1px solid rgba(255,255,255,.2)}.nist-framework-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.nist-framework-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#ffffff1a;border-radius:8px;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.nist-framework-item[_ngcontent-%COMP%]:hover{background:#fff3}.nist-framework-item.selected[_ngcontent-%COMP%]{border-color:#fff;background:#fff3}.framework-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.framework-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;margin:0}.framework-name[_ngcontent-%COMP%]{color:#fff;font-weight:500}.framework-seq[_ngcontent-%COMP%]{color:#fff;font-size:.9rem;opacity:.7}.nist-frameworks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.nist-badge[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:.3rem .6rem;border-radius:12px;font-size:.8rem;font-weight:500}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.9rem;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:#2ecc7133;color:#2ecc71}.status-badge.completed[_ngcontent-%COMP%]{background:#3498db33;color:#3498db}.session-link[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.session-link[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.edit[_ngcontent-%COMP%]{color:#3498db}.action-btn.delete[_ngcontent-%COMP%]{color:#e74c3c}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.popup-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#2c3e50d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.popup-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff1a,#ffffff0d);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.2);border-radius:20px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 8px 32px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.popup-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);display:flex;justify-content:space-between;align-items:center;background:#ffffff0d}.popup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:1.8rem;text-shadow:0 2px 4px rgba(0,0,0,.1)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:.5rem;transition:all .3s ease;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:rotate(90deg)}.popup-body[_ngcontent-%COMP%]{padding:2rem}.popup-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.2);display:flex;justify-content:flex-end;gap:1rem;background:#ffffff0d}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:120px;display:flex;align-items:center;justify-content:center;gap:.5rem}.cancel-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid #FFFFFF}.submit-btn[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none}.cancel-btn[_ngcontent-%COMP%]:hover, .submit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}select[_ngcontent-%COMP%]{background-color:#fff3;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:8px;padding:.75rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}input[type=datetime-local][_ngcontent-%COMP%]{color-scheme:dark}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1200px){.management-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-container[_ngcontent-%COMP%]{position:static}table[_ngcontent-%COMP%]{min-width:900px}}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]{padding:1.5rem}.tab-button[_ngcontent-%COMP%]{min-width:calc(50% - .5rem)}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.add-button[_ngcontent-%COMP%]{width:100%}.roles-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.table-responsive[_ngcontent-%COMP%]{max-height:60vh}}@media (max-width: 480px){.popup-content[_ngcontent-%COMP%]{width:95%;max-height:95vh}.popup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.popup-body[_ngcontent-%COMP%]{padding:1.5rem}.popup-footer[_ngcontent-%COMP%]{flex-direction:column}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{width:100%}}`]})}}return t})();function CA(t,n){if(t&1&&(l(0,"option",98),u(1),c()),t&2){let e=n.$implicit;g("value",e),f(),O(e)}}function bA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",100),u(2,"Upload IRP Document"),c(),l(3,"input",101),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"irpFile"))}),c()()}}function wA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",102),u(2,"Upload BCP/DRP Document"),c(),l(3,"input",103),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"bcpDrpFile"))}),c()()}}function xA(t,n){if(t&1){let e=N();l(0,"label",33)(1,"input",104),I("ngModelChange",function(r){let o=y(e).$implicit,s=_();return T(s.formData.securityControls[o.key],r)||(s.formData.securityControls[o.key]=r),v(r)}),c(),u(2),c()}if(t&2){let e=n.$implicit,i=_();f(),D("ngModel",i.formData.securityControls[e.key]),g("name",e.key),f(),P(" ",e.label," ")}}function MA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",105),u(2,"Upload Cyber Insurance Policy"),c(),l(3,"input",106),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"cyberInsuranceFile"))}),c()()}}function EA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_dataClassification"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_dataClassification"),f(2),g("id","policy_dataClassification"),f(2),O(e.getPolicyFileName("dataClassification"))}}function SA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_accessControl"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_accessControl"),f(2),g("id","policy_accessControl"),f(2),O(e.getPolicyFileName("accessControl"))}}function DA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_networkSecurity"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_networkSecurity"),f(2),g("id","policy_networkSecurity"),f(2),O(e.getPolicyFileName("networkSecurity"))}}function IA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_hrSecurity"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_hrSecurity"),f(2),g("id","policy_hrSecurity"),f(2),O(e.getPolicyFileName("hrSecurity"))}}function TA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_threatVulnerability"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_threatVulnerability"),f(2),g("id","policy_threatVulnerability"),f(2),O(e.getPolicyFileName("threatVulnerability"))}}function OA(t,n){if(t&1){let e=N();l(0,"div",99)(1,"label",107),u(2,"Upload Policy Document"),c(),l(3,"input",108),x("change",function(r){y(e);let o=_();return v(o.handleFileUpload(r,"policy_supplierSecurity"))}),c(),l(4,"span",109),u(5),c()()}if(t&2){let e=_();f(),g("for","policy_supplierSecurity"),f(2),g("id","policy_supplierSecurity"),f(2),O(e.getPolicyFileName("supplierSecurity"))}}var db=(()=>{class t{constructor(){this.securityControlsList=[{key:"nextGenFirewall",label:"Next Gen Firewalls"},{key:"ipsIds",label:"IPS/IDS"},{key:"proxySolution",label:"Proxy Solution"},{key:"dnsSecurity",label:"DNS Security"},{key:"emailSecurity",label:"Email Security"},{key:"waf",label:"WAF"},{key:"zeroTrust",label:"Zero Trust Network Architecture"},{key:"networkAccessControl",label:"Network Access Control"},{key:"threatIntel",label:"Threat Intel"},{key:"darkWebMonitoring",label:"Dark Web Monitoring"},{key:"attackSurfaceMonitoring",label:"Attack Surface Monitoring"},{key:"pimPam",label:"PIM/PAM"},{key:"dam",label:"DAM"},{key:"browserSecurity",label:"Browser Security"},{key:"itsm",label:"ITSM"},{key:"otFirewall",label:"OT Firewall"},{key:"networkSituationalAwareness",label:"Network Situational Awareness (OT NSA)"}],this.formData={organizationName:"",industrySector:"",primaryContact:{name:"",designation:"",email:"",phoneNumber:""},secondaryContact:{name:"",designation:"",email:"",phoneNumber:""},regulatoryFrameworks:{rbi:!1,sebi:!1,hipaa:!1,dpdp:!1,gdpr:!1,certIn:!1,iso:!1,nist:!1,irdai:!1},irp:"",irpFile:null,bcpDrp:"",bcpDrpFile:null,breachNotification:"",dataClassification:"",dataClassificationFile:null,backups:"",pentesting:"",cloudInfra:"",vendorAccess:"",irt:"",securityTraining:"",soc:"",securityControls:{nextGenFirewall:!1,ipsIds:!1,proxySolution:!1,dnsSecurity:!1,emailSecurity:!1,waf:!1,zeroTrust:!1,networkAccessControl:!1,threatIntel:!1,darkWebMonitoring:!1,attackSurfaceMonitoring:!1,pimPam:!1,dam:!1,browserSecurity:!1,itsm:!1,otFirewall:!1,networkSituationalAwareness:!1},cyberInsurance:"",cyberInsuranceFile:null,policies:{dataClassification:!1,accessControl:!1,networkSecurity:!1,hrSecurity:!1,threatVulnerability:!1,supplierSecurity:!1},policyFiles:{dataClassification:null,accessControl:null,networkSecurity:null,hrSecurity:null,threatVulnerability:null,supplierSecurity:null},drSite:"none",cloudInfrastructure:"onPrem",vendorAccessControl:"no",exerciseTypes:{phishing:!1,businessEmailCompromise:!1,ceoFraud:!1,ddos:!1,insiderThreat:!1,applicationCompromise:!1,cyberEspionage:!1,dataBreach:!1},exerciseFormat:"",exerciseObjective:"",additionalComments:"",participationAgreement:!1,termsAgreement:!1,signature:"",date:""},this.industrySectors=["BFSI","Healthcare","Government","IT/Tech","Manufacturing","Others"]}onSubmit(){console.log("Form submitted:",this.formData)}handleFileUpload(e,i){let r=e.target;if(r.files&&r.files[0])if(i.startsWith("policy_")){let o=i.replace("policy_","");this.formData.policyFiles[o]=r.files[0]}else{let o=i;this.formData[o]=r.files[0]}}getPolicyFileName(e){let i=this.formData.policyFiles[e];return i?i.name:"No file chosen"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-pre-onboarding"]],standalone:!0,features:[ee],decls:319,vars:74,consts:[["onboardingForm","ngForm"],[1,"pre-onboarding-container"],[1,"form-wrapper"],[3,"ngSubmit"],[1,"form-section"],[1,"section-number"],[1,"form-grid"],[1,"form-group"],["for","organizationName"],["type","text","id","organizationName","name","organizationName","required","",3,"ngModelChange","ngModel"],["for","industrySector"],["id","industrySector","name","industrySector","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"contact-section"],["for","primaryContactName"],["type","text","id","primaryContactName","name","primaryContactName","required","",3,"ngModelChange","ngModel"],["for","primaryContactDesignation"],["type","text","id","primaryContactDesignation","name","primaryContactDesignation","required","",3,"ngModelChange","ngModel"],["for","primaryContactEmail"],["type","email","id","primaryContactEmail","name","primaryContactEmail","required","",3,"ngModelChange","ngModel"],["for","primaryContactPhone"],["type","tel","id","primaryContactPhone","name","primaryContactPhone","required","",3,"ngModelChange","ngModel"],["for","secondaryContactName"],["type","text","id","secondaryContactName","name","secondaryContactName","required","",3,"ngModelChange","ngModel"],["for","secondaryContactDesignation"],["type","text","id","secondaryContactDesignation","name","secondaryContactDesignation","required","",3,"ngModelChange","ngModel"],["for","secondaryContactEmail"],["type","email","id","secondaryContactEmail","name","secondaryContactEmail","required","",3,"ngModelChange","ngModel"],["for","secondaryContactPhone"],["type","tel","id","secondaryContactPhone","name","secondaryContactPhone","required","",3,"ngModelChange","ngModel"],[1,"checkbox-group"],[1,"checkbox-grid"],[1,"checkbox-label"],["type","checkbox","name","rbi",3,"ngModelChange","ngModel"],["type","checkbox","name","sebi",3,"ngModelChange","ngModel"],["type","checkbox","name","hipaa",3,"ngModelChange","ngModel"],["type","checkbox","name","dpdp",3,"ngModelChange","ngModel"],["type","checkbox","name","gdpr",3,"ngModelChange","ngModel"],["type","checkbox","name","certIn",3,"ngModelChange","ngModel"],["type","checkbox","name","iso",3,"ngModelChange","ngModel"],["type","checkbox","name","nist",3,"ngModelChange","ngModel"],["type","checkbox","name","irdai",3,"ngModelChange","ngModel"],[1,"radio-group"],[1,"radio-options"],[1,"radio-label"],["type","radio","name","irp","value","yes",3,"ngModelChange","ngModel"],["type","radio","name","irp","value","no",3,"ngModelChange","ngModel"],["type","radio","name","irp","value","inProgress",3,"ngModelChange","ngModel"],["class","file-upload",4,"ngIf"],["type","radio","name","bcpDrp","value","yes",3,"ngModelChange","ngModel"],["type","radio","name","bcpDrp","value","no",3,"ngModelChange","ngModel"],["type","radio","name","bcpDrp","value","inProgress",3,"ngModelChange","ngModel"],["type","radio","name","irt","value","inhouse",3,"ngModelChange","ngModel"],["type","radio","name","irt","value","outsourced",3,"ngModelChange","ngModel"],["type","radio","name","irt","value","no",3,"ngModelChange","ngModel"],["class","checkbox-label",4,"ngFor","ngForOf"],["type","radio","name","soc","value","inhouse",3,"ngModelChange","ngModel"],["type","radio","name","soc","value","outsourced",3,"ngModelChange","ngModel"],["type","radio","name","soc","value","no",3,"ngModelChange","ngModel"],["type","radio","name","cyberInsurance","value","yes",3,"ngModelChange","ngModel"],["type","radio","name","cyberInsurance","value","no",3,"ngModelChange","ngModel"],["type","radio","name","cyberInsurance","value","inProcess",3,"ngModelChange","ngModel"],[1,"policy-item"],["type","checkbox","name","dataClassification",3,"ngModelChange","ngModel"],["type","checkbox","name","accessControl",3,"ngModelChange","ngModel"],["type","checkbox","name","networkSecurity",3,"ngModelChange","ngModel"],["type","checkbox","name","hrSecurity",3,"ngModelChange","ngModel"],["type","checkbox","name","threatVulnerability",3,"ngModelChange","ngModel"],["type","checkbox","name","supplierSecurity",3,"ngModelChange","ngModel"],["type","radio","name","drSite","value","hotSite",3,"ngModelChange","ngModel"],["type","radio","name","drSite","value","warmSite",3,"ngModelChange","ngModel"],["type","radio","name","drSite","value","coldSite",3,"ngModelChange","ngModel"],["type","radio","name","drSite","value","none",3,"ngModelChange","ngModel"],["type","radio","name","cloudInfrastructure","value","yes",3,"ngModelChange","ngModel"],["type","radio","name","cloudInfrastructure","value","partial",3,"ngModelChange","ngModel"],["type","radio","name","cloudInfrastructure","value","onPrem",3,"ngModelChange","ngModel"],["type","radio","name","vendorAccessControl","value","wellDefined",3,"ngModelChange","ngModel"],["type","radio","name","vendorAccessControl","value","adhoc",3,"ngModelChange","ngModel"],["type","radio","name","vendorAccessControl","value","no",3,"ngModelChange","ngModel"],["type","checkbox","name","exercisePhishing",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseBusinessEmail",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseCEOFraud",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseDDOS",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseInsiderThreat",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseAppCompromise",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseCyberEspionage",3,"ngModelChange","ngModel"],["type","checkbox","name","exerciseDataBreach",3,"ngModelChange","ngModel"],["for","additionalComments"],["id","additionalComments","name","additionalComments","rows","4",3,"ngModelChange","ngModel"],["type","checkbox","name","participationAgreement","required","",3,"ngModelChange","ngModel"],[1,"signature-block"],["for","signature"],["type","text","id","signature","name","signature","required","",3,"ngModelChange","ngModel"],["for","date"],["type","date","id","date","name","date","required","",3,"ngModelChange","ngModel"],[1,"confidentiality-note"],["type","submit",1,"submit-btn",3,"disabled"],[3,"value"],[1,"file-upload"],["for","irpFile"],["type","file","id","irpFile","accept",".pdf,.doc,.docx",3,"change"],["for","bcpDrpFile"],["type","file","id","bcpDrpFile","accept",".pdf,.doc,.docx",3,"change"],["type","checkbox",3,"ngModelChange","ngModel","name"],["for","cyberInsuranceFile"],["type","file","id","cyberInsuranceFile","accept",".pdf,.doc,.docx",3,"change"],[3,"for"],["type","file","accept",".pdf,.doc,.docx",3,"change","id"],[1,"file-name"]],template:function(i,r){if(i&1){let o=N();l(0,"div",1)(1,"div",2)(2,"h1"),u(3,"Tabletop Exercise Pre-Onboarding Checklist"),c(),l(4,"form",3,0),x("ngSubmit",function(){return y(o),v(r.onSubmit())}),l(6,"section",4)(7,"h2")(8,"span",5),u(9,"1\uFE0F\u20E3"),c(),u(10," Governance"),c(),l(11,"h3"),u(12,"Organization Details"),c(),l(13,"div",6)(14,"div",7)(15,"label",8),u(16,"Organization Name"),c(),l(17,"input",9),I("ngModelChange",function(a){return y(o),T(r.formData.organizationName,a)||(r.formData.organizationName=a),v(a)}),c()(),l(18,"div",7)(19,"label",10),u(20,"Industry Sector"),c(),l(21,"select",11),I("ngModelChange",function(a){return y(o),T(r.formData.industrySector,a)||(r.formData.industrySector=a),v(a)}),l(22,"option",12),u(23,"Select Industry"),c(),E(24,CA,2,2,"option",13),c()()(),l(25,"h3"),u(26,"Contact Information"),c(),l(27,"div",14)(28,"h4"),u(29,"Primary Contact"),c(),l(30,"div",6)(31,"div",7)(32,"label",15),u(33,"Name"),c(),l(34,"input",16),I("ngModelChange",function(a){return y(o),T(r.formData.primaryContact.name,a)||(r.formData.primaryContact.name=a),v(a)}),c()(),l(35,"div",7)(36,"label",17),u(37,"Designation"),c(),l(38,"input",18),I("ngModelChange",function(a){return y(o),T(r.formData.primaryContact.designation,a)||(r.formData.primaryContact.designation=a),v(a)}),c()(),l(39,"div",7)(40,"label",19),u(41,"Email"),c(),l(42,"input",20),I("ngModelChange",function(a){return y(o),T(r.formData.primaryContact.email,a)||(r.formData.primaryContact.email=a),v(a)}),c()(),l(43,"div",7)(44,"label",21),u(45,"Phone Number"),c(),l(46,"input",22),I("ngModelChange",function(a){return y(o),T(r.formData.primaryContact.phoneNumber,a)||(r.formData.primaryContact.phoneNumber=a),v(a)}),c()()(),l(47,"h4"),u(48,"Secondary Contact"),c(),l(49,"div",6)(50,"div",7)(51,"label",23),u(52,"Name"),c(),l(53,"input",24),I("ngModelChange",function(a){return y(o),T(r.formData.secondaryContact.name,a)||(r.formData.secondaryContact.name=a),v(a)}),c()(),l(54,"div",7)(55,"label",25),u(56,"Designation"),c(),l(57,"input",26),I("ngModelChange",function(a){return y(o),T(r.formData.secondaryContact.designation,a)||(r.formData.secondaryContact.designation=a),v(a)}),c()(),l(58,"div",7)(59,"label",27),u(60,"Email"),c(),l(61,"input",28),I("ngModelChange",function(a){return y(o),T(r.formData.secondaryContact.email,a)||(r.formData.secondaryContact.email=a),v(a)}),c()(),l(62,"div",7)(63,"label",29),u(64,"Phone Number"),c(),l(65,"input",30),I("ngModelChange",function(a){return y(o),T(r.formData.secondaryContact.phoneNumber,a)||(r.formData.secondaryContact.phoneNumber=a),v(a)}),c()()()(),l(66,"h3"),u(67,"Regulatory Compliance"),c(),l(68,"div",31)(69,"h4"),u(70,"Applicable Regulatory Frameworks"),c(),l(71,"div",32)(72,"label",33)(73,"input",34),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.rbi,a)||(r.formData.regulatoryFrameworks.rbi=a),v(a)}),c(),u(74," RBI Guidelines "),c(),l(75,"label",33)(76,"input",35),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.sebi,a)||(r.formData.regulatoryFrameworks.sebi=a),v(a)}),c(),u(77," SEBI Guidelines "),c(),l(78,"label",33)(79,"input",36),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.hipaa,a)||(r.formData.regulatoryFrameworks.hipaa=a),v(a)}),c(),u(80," HIPAA "),c(),l(81,"label",33)(82,"input",37),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.dpdp,a)||(r.formData.regulatoryFrameworks.dpdp=a),v(a)}),c(),u(83," DPDP Act 2023 "),c(),l(84,"label",33)(85,"input",38),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.gdpr,a)||(r.formData.regulatoryFrameworks.gdpr=a),v(a)}),c(),u(86," GDPR "),c(),l(87,"label",33)(88,"input",39),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.certIn,a)||(r.formData.regulatoryFrameworks.certIn=a),v(a)}),c(),u(89," CERT-In "),c(),l(90,"label",33)(91,"input",40),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.iso,a)||(r.formData.regulatoryFrameworks.iso=a),v(a)}),c(),u(92," ISO 27001 "),c(),l(93,"label",33)(94,"input",41),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.nist,a)||(r.formData.regulatoryFrameworks.nist=a),v(a)}),c(),u(95," NIST Framework "),c(),l(96,"label",33)(97,"input",42),I("ngModelChange",function(a){return y(o),T(r.formData.regulatoryFrameworks.irdai,a)||(r.formData.regulatoryFrameworks.irdai=a),v(a)}),c(),u(98," IRDAI "),c()()(),l(99,"h3"),u(100,"Governance Documents"),c(),l(101,"div",43)(102,"h4"),u(103,"Do you have a Incident Response/Management Plan (IRP/IMP)"),c(),l(104,"div",44)(105,"label",45)(106,"input",46),I("ngModelChange",function(a){return y(o),T(r.formData.irp,a)||(r.formData.irp=a),v(a)}),c(),u(107," Yes "),c(),l(108,"label",45)(109,"input",47),I("ngModelChange",function(a){return y(o),T(r.formData.irp,a)||(r.formData.irp=a),v(a)}),c(),u(110," No "),c(),l(111,"label",45)(112,"input",48),I("ngModelChange",function(a){return y(o),T(r.formData.irp,a)||(r.formData.irp=a),v(a)}),c(),u(113," In Progress "),c()(),E(114,bA,4,0,"div",49),c(),l(115,"div",43)(116,"h4"),u(117,"Business Continuity Plan (BCP) / Disaster Recovery Plan (DRP)"),c(),l(118,"div",44)(119,"label",45)(120,"input",50),I("ngModelChange",function(a){return y(o),T(r.formData.bcpDrp,a)||(r.formData.bcpDrp=a),v(a)}),c(),u(121," Yes "),c(),l(122,"label",45)(123,"input",51),I("ngModelChange",function(a){return y(o),T(r.formData.bcpDrp,a)||(r.formData.bcpDrp=a),v(a)}),c(),u(124," No "),c(),l(125,"label",45)(126,"input",52),I("ngModelChange",function(a){return y(o),T(r.formData.bcpDrp,a)||(r.formData.bcpDrp=a),v(a)}),c(),u(127," In Progress "),c()(),E(128,wA,4,0,"div",49),c()(),l(129,"section",4)(130,"h2")(131,"span",5),u(132,"2\uFE0F\u20E3"),c(),u(133," Tech Defence measures"),c(),l(134,"div",43)(135,"h3"),u(136,"Do you have an Incident Response Team (IRT)?"),c(),l(137,"div",44)(138,"label",45)(139,"input",53),I("ngModelChange",function(a){return y(o),T(r.formData.irt,a)||(r.formData.irt=a),v(a)}),c(),u(140," Yes, In-house IRT "),c(),l(141,"label",45)(142,"input",54),I("ngModelChange",function(a){return y(o),T(r.formData.irt,a)||(r.formData.irt=a),v(a)}),c(),u(143," Yes, Outsourced "),c(),l(144,"label",45)(145,"input",55),I("ngModelChange",function(a){return y(o),T(r.formData.irt,a)||(r.formData.irt=a),v(a)}),c(),u(146," No "),c()()(),l(147,"div",31)(148,"h3"),u(149,"Security Controls Currently Implemented"),c(),l(150,"div",32),E(151,xA,3,3,"label",56),c()(),l(152,"div",43)(153,"h3"),u(154,"Do you have a Security Operations Center (SOC)?"),c(),l(155,"div",44)(156,"label",45)(157,"input",57),I("ngModelChange",function(a){return y(o),T(r.formData.soc,a)||(r.formData.soc=a),v(a)}),c(),u(158," Yes, In-house SOC "),c(),l(159,"label",45)(160,"input",58),I("ngModelChange",function(a){return y(o),T(r.formData.soc,a)||(r.formData.soc=a),v(a)}),c(),u(161," Yes, Outsourced "),c(),l(162,"label",45)(163,"input",59),I("ngModelChange",function(a){return y(o),T(r.formData.soc,a)||(r.formData.soc=a),v(a)}),c(),u(164," No "),c()()(),l(165,"div",43)(166,"h3"),u(167,"Do you have Cyber Insurance?"),c(),l(168,"div",44)(169,"label",45)(170,"input",60),I("ngModelChange",function(a){return y(o),T(r.formData.cyberInsurance,a)||(r.formData.cyberInsurance=a),v(a)}),c(),u(171," Yes "),c(),l(172,"label",45)(173,"input",61),I("ngModelChange",function(a){return y(o),T(r.formData.cyberInsurance,a)||(r.formData.cyberInsurance=a),v(a)}),c(),u(174," No "),c(),l(175,"label",45)(176,"input",62),I("ngModelChange",function(a){return y(o),T(r.formData.cyberInsurance,a)||(r.formData.cyberInsurance=a),v(a)}),c(),u(177," In Process "),c()(),E(178,MA,4,0,"div",49),c()(),l(179,"section",4)(180,"h2")(181,"span",5),u(182,"3\uFE0F\u20E3"),c(),u(183," Incident & Crisis Management Preparedness"),c(),l(184,"div",31)(185,"h3"),u(186,"Security Policies"),c(),l(187,"div",32)(188,"div",63)(189,"label",33)(190,"input",64),I("ngModelChange",function(a){return y(o),T(r.formData.policies.dataClassification,a)||(r.formData.policies.dataClassification=a),v(a)}),c(),u(191," Data Classification Policy "),c(),E(192,EA,6,3,"div",49),c(),l(193,"div",63)(194,"label",33)(195,"input",65),I("ngModelChange",function(a){return y(o),T(r.formData.policies.accessControl,a)||(r.formData.policies.accessControl=a),v(a)}),c(),u(196," Access Control Policy "),c(),E(197,SA,6,3,"div",49),c(),l(198,"div",63)(199,"label",33)(200,"input",66),I("ngModelChange",function(a){return y(o),T(r.formData.policies.networkSecurity,a)||(r.formData.policies.networkSecurity=a),v(a)}),c(),u(201," Network Security Policy "),c(),E(202,DA,6,3,"div",49),c(),l(203,"div",63)(204,"label",33)(205,"input",67),I("ngModelChange",function(a){return y(o),T(r.formData.policies.hrSecurity,a)||(r.formData.policies.hrSecurity=a),v(a)}),c(),u(206," HR Security Policy "),c(),E(207,IA,6,3,"div",49),c(),l(208,"div",63)(209,"label",33)(210,"input",68),I("ngModelChange",function(a){return y(o),T(r.formData.policies.threatVulnerability,a)||(r.formData.policies.threatVulnerability=a),v(a)}),c(),u(211," Threat & Vulnerability Management Policy "),c(),E(212,TA,6,3,"div",49),c(),l(213,"div",63)(214,"label",33)(215,"input",69),I("ngModelChange",function(a){return y(o),T(r.formData.policies.supplierSecurity,a)||(r.formData.policies.supplierSecurity=a),v(a)}),c(),u(216," Supplier Security Policy "),c(),E(217,OA,6,3,"div",49),c()()(),l(218,"div",43)(219,"h3"),u(220,"What Kind of DR Site do you have?"),c(),l(221,"div",44)(222,"label",45)(223,"input",70),I("ngModelChange",function(a){return y(o),T(r.formData.drSite,a)||(r.formData.drSite=a),v(a)}),c(),u(224," Hot Site "),c(),l(225,"label",45)(226,"input",71),I("ngModelChange",function(a){return y(o),T(r.formData.drSite,a)||(r.formData.drSite=a),v(a)}),c(),u(227," Warm Site "),c(),l(228,"label",45)(229,"input",72),I("ngModelChange",function(a){return y(o),T(r.formData.drSite,a)||(r.formData.drSite=a),v(a)}),c(),u(230," Cold Site "),c(),l(231,"label",45)(232,"input",73),I("ngModelChange",function(a){return y(o),T(r.formData.drSite,a)||(r.formData.drSite=a),v(a)}),c(),u(233," None "),c()()(),l(234,"div",43)(235,"h3"),u(236,"Do you have cloud-based infrastructure?"),c(),l(237,"div",44)(238,"label",45)(239,"input",74),I("ngModelChange",function(a){return y(o),T(r.formData.cloudInfrastructure,a)||(r.formData.cloudInfrastructure=a),v(a)}),c(),u(240," Yes "),c(),l(241,"label",45)(242,"input",75),I("ngModelChange",function(a){return y(o),T(r.formData.cloudInfrastructure,a)||(r.formData.cloudInfrastructure=a),v(a)}),c(),u(243," Partial "),c(),l(244,"label",45)(245,"input",76),I("ngModelChange",function(a){return y(o),T(r.formData.cloudInfrastructure,a)||(r.formData.cloudInfrastructure=a),v(a)}),c(),u(246," Fully On Prem "),c()()(),l(247,"div",43)(248,"h3"),u(249,"Are there defined access controls for third-party vendors & supply chain partners?"),c(),l(250,"div",44)(251,"label",45)(252,"input",77),I("ngModelChange",function(a){return y(o),T(r.formData.vendorAccessControl,a)||(r.formData.vendorAccessControl=a),v(a)}),c(),u(253," Yes, Well-Defined Policies "),c(),l(254,"label",45)(255,"input",78),I("ngModelChange",function(a){return y(o),T(r.formData.vendorAccessControl,a)||(r.formData.vendorAccessControl=a),v(a)}),c(),u(256," Adhoc Managed "),c(),l(257,"label",45)(258,"input",79),I("ngModelChange",function(a){return y(o),T(r.formData.vendorAccessControl,a)||(r.formData.vendorAccessControl=a),v(a)}),c(),u(259," No "),c()()()(),l(260,"section",4)(261,"h2")(262,"span",5),u(263,"4\uFE0F\u20E3"),c(),u(264," Cybersec Wholeness"),c(),l(265,"div",31)(266,"h3"),u(267,"What type of Tabletop Exercise are you interested in?"),c(),l(268,"div",32)(269,"label",33)(270,"input",80),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.phishing,a)||(r.formData.exerciseTypes.phishing=a),v(a)}),c(),u(271," Phishing "),c(),l(272,"label",33)(273,"input",81),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.businessEmailCompromise,a)||(r.formData.exerciseTypes.businessEmailCompromise=a),v(a)}),c(),u(274," Business Email Compromise "),c(),l(275,"label",33)(276,"input",82),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.ceoFraud,a)||(r.formData.exerciseTypes.ceoFraud=a),v(a)}),c(),u(277," CEO Fraud "),c(),l(278,"label",33)(279,"input",83),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.ddos,a)||(r.formData.exerciseTypes.ddos=a),v(a)}),c(),u(280," DDoS "),c(),l(281,"label",33)(282,"input",84),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.insiderThreat,a)||(r.formData.exerciseTypes.insiderThreat=a),v(a)}),c(),u(283," Insider Threat "),c(),l(284,"label",33)(285,"input",85),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.applicationCompromise,a)||(r.formData.exerciseTypes.applicationCompromise=a),v(a)}),c(),u(286," Application Compromise "),c(),l(287,"label",33)(288,"input",86),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.cyberEspionage,a)||(r.formData.exerciseTypes.cyberEspionage=a),v(a)}),c(),u(289," Cyber Espionage Attack "),c(),l(290,"label",33)(291,"input",87),I("ngModelChange",function(a){return y(o),T(r.formData.exerciseTypes.dataBreach,a)||(r.formData.exerciseTypes.dataBreach=a),v(a)}),c(),u(292," Data Breach "),c()()(),l(293,"div",7)(294,"label",88),u(295,"Additional Comments / Requirements"),c(),l(296,"textarea",89),I("ngModelChange",function(a){return y(o),T(r.formData.additionalComments,a)||(r.formData.additionalComments=a),v(a)}),c()()(),l(297,"section",4)(298,"h2")(299,"span",5),u(300,"5\uFE0F\u20E3"),c(),u(301," Approval & Agreement"),c(),l(302,"div",31)(303,"label",33)(304,"input",90),I("ngModelChange",function(a){return y(o),T(r.formData.participationAgreement,a)||(r.formData.participationAgreement=a),v(a)}),c(),u(305," I confirm that our organization is willing to engage ESFlabs to conduct this cybersecurity exercise. "),c()(),l(306,"div",91)(307,"div",7)(308,"label",92),u(309,"Digital Signature"),c(),l(310,"input",93),I("ngModelChange",function(a){return y(o),T(r.formData.signature,a)||(r.formData.signature=a),v(a)}),c()(),l(311,"div",7)(312,"label",94),u(313,"Date"),c(),l(314,"input",95),I("ngModelChange",function(a){return y(o),T(r.formData.date,a)||(r.formData.date=a),v(a)}),c()()(),l(315,"p",96),u(316," NOTE: ESFlabs Undertakes to Protect The Confidentiality of Client Information. "),c(),l(317,"button",97),u(318," Submit Pre-Onboarding Form "),c()()()()()}if(i&2){let o=X0(5);f(17),D("ngModel",r.formData.organizationName),f(4),D("ngModel",r.formData.industrySector),f(3),g("ngForOf",r.industrySectors),f(10),D("ngModel",r.formData.primaryContact.name),f(4),D("ngModel",r.formData.primaryContact.designation),f(4),D("ngModel",r.formData.primaryContact.email),f(4),D("ngModel",r.formData.primaryContact.phoneNumber),f(7),D("ngModel",r.formData.secondaryContact.name),f(4),D("ngModel",r.formData.secondaryContact.designation),f(4),D("ngModel",r.formData.secondaryContact.email),f(4),D("ngModel",r.formData.secondaryContact.phoneNumber),f(8),D("ngModel",r.formData.regulatoryFrameworks.rbi),f(3),D("ngModel",r.formData.regulatoryFrameworks.sebi),f(3),D("ngModel",r.formData.regulatoryFrameworks.hipaa),f(3),D("ngModel",r.formData.regulatoryFrameworks.dpdp),f(3),D("ngModel",r.formData.regulatoryFrameworks.gdpr),f(3),D("ngModel",r.formData.regulatoryFrameworks.certIn),f(3),D("ngModel",r.formData.regulatoryFrameworks.iso),f(3),D("ngModel",r.formData.regulatoryFrameworks.nist),f(3),D("ngModel",r.formData.regulatoryFrameworks.irdai),f(9),D("ngModel",r.formData.irp),f(3),D("ngModel",r.formData.irp),f(3),D("ngModel",r.formData.irp),f(2),g("ngIf",r.formData.irp==="yes"),f(6),D("ngModel",r.formData.bcpDrp),f(3),D("ngModel",r.formData.bcpDrp),f(3),D("ngModel",r.formData.bcpDrp),f(2),g("ngIf",r.formData.bcpDrp==="yes"),f(11),D("ngModel",r.formData.irt),f(3),D("ngModel",r.formData.irt),f(3),D("ngModel",r.formData.irt),f(6),g("ngForOf",r.securityControlsList),f(6),D("ngModel",r.formData.soc),f(3),D("ngModel",r.formData.soc),f(3),D("ngModel",r.formData.soc),f(7),D("ngModel",r.formData.cyberInsurance),f(3),D("ngModel",r.formData.cyberInsurance),f(3),D("ngModel",r.formData.cyberInsurance),f(2),g("ngIf",r.formData.cyberInsurance==="yes"),f(12),D("ngModel",r.formData.policies.dataClassification),f(2),g("ngIf",r.formData.policies.dataClassification),f(3),D("ngModel",r.formData.policies.accessControl),f(2),g("ngIf",r.formData.policies.accessControl),f(3),D("ngModel",r.formData.policies.networkSecurity),f(2),g("ngIf",r.formData.policies.networkSecurity),f(3),D("ngModel",r.formData.policies.hrSecurity),f(2),g("ngIf",r.formData.policies.hrSecurity),f(3),D("ngModel",r.formData.policies.threatVulnerability),f(2),g("ngIf",r.formData.policies.threatVulnerability),f(3),D("ngModel",r.formData.policies.supplierSecurity),f(2),g("ngIf",r.formData.policies.supplierSecurity),f(6),D("ngModel",r.formData.drSite),f(3),D("ngModel",r.formData.drSite),f(3),D("ngModel",r.formData.drSite),f(3),D("ngModel",r.formData.drSite),f(7),D("ngModel",r.formData.cloudInfrastructure),f(3),D("ngModel",r.formData.cloudInfrastructure),f(3),D("ngModel",r.formData.cloudInfrastructure),f(7),D("ngModel",r.formData.vendorAccessControl),f(3),D("ngModel",r.formData.vendorAccessControl),f(3),D("ngModel",r.formData.vendorAccessControl),f(12),D("ngModel",r.formData.exerciseTypes.phishing),f(3),D("ngModel",r.formData.exerciseTypes.businessEmailCompromise),f(3),D("ngModel",r.formData.exerciseTypes.ceoFraud),f(3),D("ngModel",r.formData.exerciseTypes.ddos),f(3),D("ngModel",r.formData.exerciseTypes.insiderThreat),f(3),D("ngModel",r.formData.exerciseTypes.applicationCompromise),f(3),D("ngModel",r.formData.exerciseTypes.cyberEspionage),f(3),D("ngModel",r.formData.exerciseTypes.dataBreach),f(5),D("ngModel",r.formData.additionalComments),f(8),D("ngModel",r.formData.participationAgreement),f(6),D("ngModel",r.formData.signature),f(4),D("ngModel",r.formData.date),f(3),g("disabled",!o.form.valid)}},dependencies:[ne,ue,je,Ge,hv,yt,vt,ai,mp,Xe,Cp,_t,cv,ul,bp,lt,yp],styles:[".pre-onboarding-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#cc649b,#64ccc9);padding:2rem;color:#231651}.form-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2.5rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}h1[_ngcontent-%COMP%]{color:#231651;font-size:2.5rem;margin-bottom:2rem;text-align:center;font-weight:700}.form-section[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:2rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2)}h2[_ngcontent-%COMP%]{color:#231651;font-size:1.8rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem}.section-number[_ngcontent-%COMP%]{background:#231651;color:#64ccc9;padding:.5rem 1rem;border-radius:12px;font-size:1.2rem}h3[_ngcontent-%COMP%]{color:#231651;font-size:1.4rem;margin-bottom:1rem;font-weight:600}h4[_ngcontent-%COMP%]{color:#231651;font-size:1.2rem;margin-bottom:1rem;margin-top:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;color:#231651;margin-bottom:.5rem;font-weight:600}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid #231651;border-radius:8px;color:#231651;font-size:1rem;transition:all .3s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#64ccc9;box-shadow:0 0 0 3px #64ccc933}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.contact-section[_ngcontent-%COMP%]{background:#ffffff0d;padding:1.5rem;border-radius:12px;margin-bottom:2rem}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:2rem}.checkbox-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#231651;cursor:pointer;padding:.75rem;border-radius:8px;transition:all .3s ease;background:#ffffff1a}.checkbox-label[_ngcontent-%COMP%]:hover{background:#fff3}.radio-group[_ngcontent-%COMP%]{margin-bottom:2rem;background:#ffffff0d;padding:1.5rem;border-radius:12px}.radio-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1rem}.radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#231651;cursor:pointer;padding:.75rem 1rem;background:#ffffff1a;border-radius:8px;transition:all .3s ease}.radio-label[_ngcontent-%COMP%]:hover{background:#fff3}.file-upload[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:8px;margin-top:1rem}.file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.75rem}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;padding:.5rem;background:#fff3;border-radius:4px;cursor:pointer;border:1px dashed #231651}.file-name[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-size:.9rem;color:#231651}.policy-item[_ngcontent-%COMP%]{background:#ffffff1a;padding:1rem;border-radius:8px;margin-bottom:1rem}.signature-block[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.5rem;margin-top:2rem;background:#ffffff0d;padding:1.5rem;border-radius:12px}.confidentiality-note[_ngcontent-%COMP%]{text-align:center;margin:2rem 0;padding:1.5rem;background:#2316511a;border-radius:8px;color:#231651;font-weight:600;font-style:italic;border:1px solid rgba(35,22,81,.2)}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#231651;color:#64ccc9;border:none;border-radius:8px;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:2rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #23165133;background:#1a1040}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}@media (max-width: 1024px){.form-wrapper[_ngcontent-%COMP%]{padding:2rem}.checkbox-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}@media (max-width: 768px){.pre-onboarding-container[_ngcontent-%COMP%]{padding:1rem}.form-wrapper[_ngcontent-%COMP%]{padding:1.5rem}h1[_ngcontent-%COMP%]{font-size:2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem}.checkbox-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.radio-options[_ngcontent-%COMP%]{flex-direction:column}.signature-block[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{font-size:1.5rem}h3[_ngcontent-%COMP%]{font-size:1.2rem}.section-number[_ngcontent-%COMP%]{font-size:1rem;padding:.4rem .8rem}.radio-label[_ngcontent-%COMP%], .checkbox-label[_ngcontent-%COMP%]{padding:.5rem;font-size:.9rem}}"]})}}return t})();function PA(t,n){if(t&1&&(l(0,"span",3),u(1),c()),t&2){let e=_();f(),P("Client: ",e.clientName,"")}}function AA(t,n){if(t&1&&(l(0,"span",3),u(1),c()),t&2){let e=_();f(),P("Team Size: ",e.teamMembers.length,"")}}function kA(t,n){if(t&1&&(l(0,"span",3),u(1),c()),t&2){let e=_();f(),P("Session ID: ",e.sessionId,"")}}function RA(t,n){t&1&&(l(0,"option",18),u(1,"Loading teams..."),c())}function NA(t,n){t&1&&(l(0,"option",18),u(1,"No teams available"),c())}function FA(t,n){if(t&1&&(l(0,"option",19),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),O(e.name)}}function LA(t,n){t&1&&(l(0,"div",20),w(1,"i",21),c())}function VA(t,n){if(t&1){let e=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"label",12),u(4,"Select Team"),c(),l(5,"div",13)(6,"select",14),I("ngModelChange",function(r){y(e);let o=_();return T(o.selectedTeamId,r)||(o.selectedTeamId=r),v(r)}),x("change",function(){y(e);let r=_();return v(r.onTeamChange())}),E(7,RA,2,0,"option",15)(8,NA,2,0,"option",15)(9,FA,2,2,"option",16),c(),E(10,LA,2,0,"div",17),c()()()()}if(t&2){let e=_();f(6),D("ngModel",e.selectedTeamId),g("disabled",e.isLoadingTeams),f(),g("ngIf",e.isLoadingTeams),f(),g("ngIf",!e.isLoadingTeams&&e.teams.length===0),f(),g("ngForOf",e.teams),f(),g("ngIf",e.isLoadingTeams)}}function jA(t,n){t&1&&(l(0,"option",18),u(1,"Loading teams..."),c())}function BA(t,n){t&1&&(l(0,"option",18),u(1,"No teams available"),c())}function UA(t,n){if(t&1&&(l(0,"option",19),u(1),c()),t&2){let e=n.$implicit;g("value",e.id),f(),O(e.name)}}function zA(t,n){t&1&&(l(0,"div",20),w(1,"i",21),c())}function $A(t,n){if(t&1&&(l(0,"span"),u(1),c()),t&2){let e=_(3);f(),P("Auto-refreshing in ",e.getTimeUntilNextRefresh(),"")}}function WA(t,n){t&1&&(l(0,"span"),u(1,"Refreshing data..."),c())}function qA(t,n){if(t&1){let e=N();l(0,"div",24)(1,"div",25),w(2,"i",26),E(3,$A,2,1,"span",7)(4,WA,2,0,"span",7),c(),l(5,"button",27),x("click",function(){y(e);let r=_(2);return v(r.manualRefresh())}),w(6,"i",28),u(7," Refresh Now "),c()()}if(t&2){let e=_(2);f(),G("refreshing",e.showRefreshIndicator),f(),G("fa-sync-alt",!e.showRefreshIndicator)("fa-sync-alt",e.showRefreshIndicator)("fa-spin",e.showRefreshIndicator),f(),g("ngIf",!e.showRefreshIndicator),f(),g("ngIf",e.showRefreshIndicator),f(),g("disabled",e.isLoadingReport)}}function HA(t,n){if(t&1&&(l(0,"div",29),u(1),se(2,"date"),c()),t&2){let e=_(2);f(),P(" Last updated: ",Ke(2,1,e.lastRefreshTime,"medium")," ")}}function GA(t,n){if(t&1){let e=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"label",12),u(4,"Select Team"),c(),l(5,"div",13)(6,"select",14),I("ngModelChange",function(r){y(e);let o=_();return T(o.selectedTeamId,r)||(o.selectedTeamId=r),v(r)}),x("change",function(){y(e);let r=_();return v(r.onTeamChange())}),E(7,jA,2,0,"option",15)(8,BA,2,0,"option",15)(9,UA,2,2,"option",16),c(),E(10,zA,2,0,"div",17),c()(),E(11,qA,8,11,"div",22),c(),E(12,HA,3,4,"div",23),c()}if(t&2){let e=_();f(6),D("ngModel",e.selectedTeamId),g("disabled",e.isLoadingTeams||e.isLoadingReport),f(),g("ngIf",e.isLoadingTeams),f(),g("ngIf",!e.isLoadingTeams&&e.teams.length===0),f(),g("ngForOf",e.teams),f(),g("ngIf",e.isLoadingTeams||e.isLoadingReport),f(),g("ngIf",e.sessionId&&e.report),f(),g("ngIf",e.lastRefreshTime)}}function QA(t,n){t&1&&(l(0,"div",30),w(1,"div",31),l(2,"p"),u(3,"Loading team report..."),c()())}function YA(t,n){if(t&1&&(l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td")(6,"span",68),u(7),c()(),l(8,"td"),u(9),c(),l(10,"td"),u(11),c(),l(12,"td")(13,"div",69)(14,"div",70),u(15),c()()()()),t&2){let e=n.$implicit,i=_(2);f(2),O(e.user_name),f(2),O(e.role),f(2),$e("color",i.getScoreColor(e.score)),f(),P(" ",e.score,"% "),f(2),O(e.response_time),f(2),O(e.exercises),f(3),$e("width",i.parseAccuracy(e.accuracy),"%")("background-color",i.getScoreColor(i.parseAccuracy(e.accuracy))),f(),P(" ",e.accuracy," ")}}function ZA(t,n){if(t&1){let e=N();l(0,"div")(1,"section",32)(2,"div",33)(3,"div",34),w(4,"i",35),c(),l(5,"div",36)(6,"span",37),u(7),se(8,"number"),c(),l(9,"span",38),u(10,"Average Score"),c()()(),l(11,"div",33)(12,"div",34),w(13,"i",39),c(),l(14,"div",36)(15,"span",37),u(16),c(),l(17,"span",38),u(18,"Avg Response Time"),c()()(),l(19,"div",33)(20,"div",34),w(21,"i",40),c(),l(22,"div",36)(23,"span",37),u(24),c(),l(25,"span",38),u(26,"Decision Accuracy"),c()()()(),l(27,"section",41)(28,"div",42)(29,"div",43)(30,"h2"),u(31,"Individual Performance"),c(),l(32,"div",44)(33,"span",45),w(34,"i",46),u(35," Score "),c()()(),l(36,"div",47),w(37,"div",48),c()(),l(38,"div",42)(39,"div",43)(40,"h2"),u(41,"Response Time Trends"),c(),l(42,"div",44)(43,"span",45),w(44,"i",49),u(45," Time (s) "),c()()(),l(46,"div",47),w(47,"div",48),c()(),l(48,"div",42)(49,"div",43)(50,"h2"),u(51,"NIST Framework Coverage"),c(),l(52,"div",44)(53,"span",45),w(54,"i",50),u(55," Coverage "),c()()(),l(56,"div",47),w(57,"div",48),c()(),l(58,"div",42)(59,"div",43)(60,"h2"),u(61,"Decision Distribution"),c(),l(62,"div",44)(63,"span",45),w(64,"i",51),u(65," Correct Decisions "),c()()(),l(66,"div",47),w(67,"div",48),c()()(),l(68,"section",52)(69,"h2"),u(70,"SWOT Analysis"),c(),l(71,"div",53)(72,"div",47),w(73,"div",48),c(),l(74,"div",54)(75,"div",45),w(76,"div",55),l(77,"span"),u(78,"High Performance (80-100%)"),c()(),l(79,"div",45),w(80,"div",56),l(81,"span"),u(82,"Moderate (70-79%)"),c()(),l(83,"div",45),w(84,"div",57),l(85,"span"),u(86,"Needs Improvement (0-69%)"),c()()()()(),l(87,"section",58)(88,"h2"),u(89,"Team Member Details"),c(),l(90,"div",59)(91,"table")(92,"thead")(93,"tr")(94,"th"),u(95,"Name"),c(),l(96,"th"),u(97,"Role"),c(),l(98,"th"),u(99,"Score"),c(),l(100,"th"),u(101,"Response Time"),c(),l(102,"th"),u(103,"Exercises"),c(),l(104,"th"),u(105,"Accuracy"),c()()(),l(106,"tbody"),E(107,YA,16,12,"tr",60),c()()()(),l(108,"section",61)(109,"button",62),x("click",function(){y(e);let r=_();return v(r.downloadReport())}),w(110,"i",63),u(111," Download CSV Report "),c(),l(112,"button",64),x("click",function(){y(e);let r=_();return v(r.shareReport())}),w(113,"i",65),u(114," Share Report "),c(),l(115,"button",66),x("click",function(){y(e);let r=_();return v(r.downloadPDF())}),w(116,"i",67),u(117," Download PDF "),c()()()}if(t&2){let e=_();f(7),P("",Ke(8,9,e.getAverageScore(),"1.0-0"),"%"),f(9),P("",e.getAverageResponseTime(),"s"),f(8),P("",e.getAverageAccuracy(),"%"),f(13),g("options",e.performanceChartOption),f(10),g("options",e.responseTimeChartOption),f(10),g("options",e.nistRadarChartOption),f(10),g("options",e.decisionTreeMapOption),f(6),g("options",e.swotHeatmapOption),f(34),g("ngForOf",e.teamMembers)}}function KA(t,n){t&1&&(l(0,"div",71)(1,"div",72),w(2,"i",73),l(3,"h2"),u(4,"No Report Data Available"),c(),l(5,"p"),u(6,"There is no report data available for the selected team. Please select a different team or try again later."),c()()())}var ah=(()=>{class t{constructor(e,i){this.http=e,this.route=i,this.teams=[],this.selectedTeamId=null,this.isLoadingTeams=!1,this.isLoadingReport=!1,this.sessionId=null,this.clientName="",this.selectedTeamName="",this.report=null,this.teamMembers=[],this.nistScores=[],this.swotData=[],this.refreshInterval=6e4,this.refreshSubscription=null,this.countdownSubscription=null,this.lastRefreshTime=null,this.nextRefreshTime=null,this.timeUntilNextRefresh=this.refreshInterval/1e3,this.showRefreshIndicator=!1,this.performanceChartOption={},this.responseTimeChartOption={},this.nistRadarChartOption={},this.decisionTreeMapOption={},this.swotHeatmapOption={}}ngOnInit(){this.route.paramMap.subscribe(e=>{this.sessionId=e.get("session_id"),this.sessionId?(this.loadTeamsForSession(this.sessionId),this.startAutoRefresh()):this.loadTeams()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.refreshSubscription=bi(this.refreshInterval).subscribe(()=>{this.selectedTeamId&&this.sessionId&&this.refreshData()}),this.startCountdown()}startCountdown(){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.timeUntilNextRefresh=this.refreshInterval/1e3,this.countdownSubscription=Wt(0,1e3).subscribe(()=>{this.timeUntilNextRefresh>0&&this.timeUntilNextRefresh--})}stopAutoRefresh(){this.refreshSubscription&&(this.refreshSubscription.unsubscribe(),this.refreshSubscription=null),this.countdownSubscription&&(this.countdownSubscription.unsubscribe(),this.countdownSubscription=null)}refreshData(){!this.isLoadingReport&&this.selectedTeamId&&this.sessionId&&(console.log("Auto-refreshing team report data..."),this.showRefreshIndicator=!0,this.loadTeamReport(this.selectedTeamId,this.sessionId,!0),this.updateRefreshTimes(),setTimeout(()=>{this.showRefreshIndicator=!1},2e3),this.startCountdown())}updateRefreshTimes(){this.lastRefreshTime=new Date,this.nextRefreshTime=new Date(this.lastRefreshTime.getTime()+this.refreshInterval)}getTimeUntilNextRefresh(){return`${this.timeUntilNextRefresh}s`}loadTeamsForSession(e){this.isLoadingTeams=!0,this.http.get(`https://esflabs.ai/ttx/teams/session/${e}`).subscribe({next:i=>{this.teams=i,this.isLoadingTeams=!1,this.teams.length>0&&(this.clientName=this.teams[0].client_name,this.selectedTeamId=this.teams[0].id,this.selectedTeamName=this.teams[0].name,this.loadTeamReport(this.selectedTeamId,e)),console.log("Loaded teams for session:",this.teams)},error:i=>{console.error("Error loading teams for session:",i),this.isLoadingTeams=!1}})}loadTeams(){this.isLoadingTeams=!0,this.teams=[],this.http.get("https://esflabs.ai/ttx/teams").subscribe({next:e=>{this.teams=e,this.isLoadingTeams=!1,this.teams.length>0&&(this.selectedTeamId=this.teams[0].id,this.selectedTeamName=this.teams[0].name)},error:e=>{console.error("Error loading teams:",e),this.isLoadingTeams=!1}})}onTeamChange(){if(this.selectedTeamId&&this.sessionId){let e=this.teams.find(i=>i.id===Number(this.selectedTeamId));e&&(this.selectedTeamName=e.name),this.loadTeamReport(this.selectedTeamId,this.sessionId),this.startCountdown()}}loadTeamReport(e,i,r=!1){r||(this.isLoadingReport=!0),this.http.get(`https://esflabs.ai/ttx/reports/team/${e}/session/${i}`).subscribe({next:o=>{try{console.log(r?"Refreshed team report data":"Loaded team report data");let s=o;this.report=s,this.teamMembers=s.individual_performance,s.decision_distribution&&s.decision_distribution.forEach(a=>{let d=this.teamMembers.find(p=>p.user_name===a.user_name);d&&(d.correct_decisions=a.correct_decisions)}),this.nistScores=s.nist_coverage,this.swotData=s.swot_analysis,this.initializeCharts(),this.isLoadingReport=!1}catch(s){console.error("Error parsing report data:",s),this.isLoadingReport=!1}},error:o=>{console.error("Error loading team report:",o),this.isLoadingReport=!1}})}getAverageScore(){return this.report?.average_score||0}getAverageResponseTime(){return this.report?.avg_response_time?this.report.avg_response_time.replace("s",""):"0"}getAverageAccuracy(){return this.report?.decision_accuracy?this.report.decision_accuracy.replace("%",""):"0"}getScoreColor(e){return e>=90?"#2ecc71":e>=80?"#3498db":e>=70?"#f1c40f":e>=60?"#e67e22":"#e74c3c"}parseResponseTime(e){return parseFloat(e.replace("s",""))}parseAccuracy(e){return parseFloat(e.replace("%",""))}downloadReport(){if(!this.report)return;let e=this.generateCSVContent(),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),o=URL.createObjectURL(i);r.setAttribute("href",o),r.setAttribute("download",`Team_Report_${this.selectedTeamName}_${this.sessionId}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}generateCSVContent(){if(!this.report)return"";let e=[];return e.push(`Team Performance Report - ${this.selectedTeamName}`),e.push(`Client: ${this.clientName}`),e.push(`Session ID: ${this.sessionId}`),e.push(`Generated on: ${new Date().toLocaleString()}`),e.push(""),e.push("Summary Statistics"),e.push(`Average Score,${this.getAverageScore()}%`),e.push(`Average Response Time,${this.getAverageResponseTime()}s`),e.push(`Decision Accuracy,${this.getAverageAccuracy()}%`),e.push(""),e.push("Team Member Details"),e.push("Name,Role,Score,Response Time,Exercises,Accuracy"),this.teamMembers.forEach(i=>{e.push(`${i.user_name},${i.role},${i.score}%,${i.response_time},${i.exercises},${i.accuracy}`)}),e.push(""),e.push("NIST Framework Coverage"),e.push("Framework,Total Questions,Correct Answers,Coverage Percentage"),this.nistScores.forEach(i=>{let r=i.total_questions>0?i.correct_answers/i.total_questions*100:0;e.push(`${i.nist_phase},${i.total_questions},${i.correct_answers},${r.toFixed(2)}%`)}),e.push(""),e.push("SWOT Analysis"),e.push("User,Strengths Score,Weaknesses Score,Opportunities Score,Threats Score"),this.swotData.forEach(i=>{e.push(`${i.user_name},${i.strength_score}%,${i.weakness_score}%,${i.opportunity_score}%,${i.threat_score}%`)}),e.join(`
`)}downloadPDF(){alert("PDF download functionality would be implemented here with a PDF generation library.")}shareReport(){let e=window.location.href,i=document.createElement("input");document.body.appendChild(i),i.value=e,i.select(),document.execCommand("copy"),document.body.removeChild(i),alert("Report URL copied to clipboard! You can now share this link.")}manualRefresh(){this.selectedTeamId&&this.sessionId&&this.refreshData()}initializeCharts(){if(!this.teamMembers.length||!this.nistScores.length||!this.swotData.length)return;let e={color:"#FFFFFF",fontSize:12,fontWeight:500},i={axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},axisLabel:{color:"#FFFFFF"}};this.performanceChartOption={backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:B(S({type:"category",data:this.teamMembers.map(s=>s.user_name)},i),{axisLabel:B(S({},i.axisLabel),{rotate:45})}),yAxis:S({type:"value",name:"Score"},i),series:[{name:"Performance Score",type:"bar",data:this.teamMembers.map(s=>({value:s.score,itemStyle:{color:this.getScoreColor(s.score)}})),barWidth:"40%",label:{show:!0,position:"top",color:"#FFFFFF",fontSize:12}}]},this.responseTimeChartOption={backgroundColor:"transparent",tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:B(S({type:"category",data:this.teamMembers.map(s=>s.user_name)},i),{axisLabel:B(S({},i.axisLabel),{rotate:45})}),yAxis:S({type:"value",name:"Response Time (s)"},i),series:[{name:"Average Response Time",type:"line",smooth:!0,data:this.teamMembers.map(s=>this.parseResponseTime(s.response_time)),lineStyle:{width:4,color:"#3498db"},itemStyle:{color:"#3498db",borderWidth:2,borderColor:"#FFFFFF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(52, 152, 219, 0.5)"},{offset:1,color:"rgba(52, 152, 219, 0.1)"}]}},symbol:"circle",symbolSize:8}]},this.nistRadarChartOption={backgroundColor:"transparent",tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},radar:[{indicator:this.nistScores.map(s=>({text:s.nist_phase,max:100})),center:["50%","50%"],radius:"70%",splitNumber:5,shape:"circle",axisName:{color:"#FFFFFF",fontSize:12,fontWeight:500},splitArea:{areaStyle:{color:["rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}}}],series:[{type:"radar",data:[{value:this.nistScores.map(s=>s.total_questions>0?s.correct_answers/s.total_questions*100:0),name:"Team Score",areaStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"rgba(52, 152, 219, 0.7)"},{offset:1,color:"rgba(52, 152, 219, 0.3)"}]}},lineStyle:{width:3,color:"#3498db"},itemStyle:{color:"#3498db"}}]}]},this.decisionTreeMapOption={backgroundColor:"transparent",tooltip:{formatter:"{b}: {c} correct decisions",backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},series:[{type:"treemap",data:this.teamMembers.map(s=>({name:s.user_name,value:s.correct_decisions||0,itemStyle:{color:this.getScoreColor(this.parseAccuracy(s.accuracy))}})),label:{show:!0,formatter:`{b}
{c} correct`,color:"#FFFFFF",fontSize:12},breadcrumb:{show:!1}}]};let r=["Strengths","Weaknesses","Opportunities","Threats"],o=[];this.swotData.forEach((s,a)=>{o.push([0,a,s.strength_score]),o.push([1,a,s.weakness_score]),o.push([2,a,s.opportunity_score]),o.push([3,a,s.threat_score])}),this.swotHeatmapOption={backgroundColor:"transparent",tooltip:{position:"top",formatter:s=>{let a=s.data[0],d=s.data[1],p=s.data[2],h=this.swotData[d].user_name,m=r[a];return`
            <div style="padding: 8px;">
              <strong>${h}</strong><br/>
              <strong>${m}</strong><br/>
              Score: ${p}%
            </div>
          `},backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:{color:"#FFFFFF",fontSize:12}},grid:{top:"10%",bottom:"15%",left:"15%",right:"10%",containLabel:!0},xAxis:{type:"category",data:r,splitArea:{show:!0,areaStyle:{color:["rgba(255, 255, 255, 0.02)","rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisLabel:{color:"#FFFFFF",fontSize:12,fontWeight:"bold"}},yAxis:{type:"category",data:this.swotData.map(s=>s.user_name),splitArea:{show:!0,areaStyle:{color:["rgba(255, 255, 255, 0.02)","rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisLabel:{color:"#FFFFFF",fontSize:12}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"0%",textStyle:{color:"#FFFFFF"},inRange:{color:["rgba(255, 99, 71, 0.8)","rgba(255, 165, 0, 0.8)","rgba(46, 204, 113, 0.8)"]}},series:[{name:"SWOT Analysis",type:"heatmap",data:o,label:{show:!0,color:"#FFFFFF",fontSize:12,formatter:s=>`${s.data[2]}%`},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}static{this.\u0275fac=function(i){return new(i||t)(R(nn),R(Qe))}}static{this.\u0275cmp=X({type:t,selectors:[["app-team-report"]],standalone:!0,features:[ee],decls:15,vars:8,consts:[[1,"team-report-container"],[1,"report-header"],[1,"report-meta"],[1,"badge"],["class","badge",4,"ngIf"],["class","selection-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[4,"ngIf"],["class","no-data-container",4,"ngIf"],[1,"selection-container"],[1,"selection-controls"],[1,"select-group"],["for","teamSelect"],[1,"select-wrapper"],["id","teamSelect",3,"ngModelChange","change","ngModel","disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["value",""],[3,"value"],[1,"loading-indicator"],[1,"fas","fa-spinner","fa-spin"],["class","refresh-info",4,"ngIf"],["class","last-updated",4,"ngIf"],[1,"refresh-info"],[1,"refresh-status"],[1,"fas"],[1,"refresh-now-btn",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"last-updated"],[1,"loading-container"],[1,"spinner"],[1,"summary-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-star"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-clock"],[1,"fas","fa-bullseye"],[1,"charts-grid"],[1,"chart-card"],[1,"chart-header"],[1,"chart-legend"],[1,"legend-item"],[1,"fas","fa-square"],[1,"chart-container"],["echarts","",1,"chart",3,"options"],[1,"fas","fa-line-chart"],[1,"fas","fa-shield-alt"],[1,"fas","fa-th"],[1,"swot-analysis"],[1,"swot-container"],[1,"swot-legend"],[1,"legend-color","strength"],[1,"legend-color","neutral"],[1,"legend-color","weakness"],[1,"team-members"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-download"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-share"],[1,"action-btn","tertiary",3,"click"],[1,"fas","fa-file-pdf"],[1,"score"],[1,"progress-bar"],[1,"progress"],[1,"no-data-container"],[1,"no-data-message"],[1,"fas","fa-chart-bar"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"header",1)(2,"h1"),u(3,"Team Performance Report"),c(),l(4,"div",2)(5,"span",3),u(6,"Exercise: Supply Chain Attack Simulation"),c(),E(7,PA,2,1,"span",4)(8,AA,2,1,"span",4)(9,kA,2,1,"span",4),c()(),E(10,VA,11,6,"div",5)(11,GA,13,8,"div",5)(12,QA,4,0,"div",6)(13,ZA,118,12,"div",7)(14,KA,7,0,"div",8),c()),i&2&&(f(7),g("ngIf",r.clientName),f(),g("ngIf",r.report),f(),g("ngIf",r.sessionId),f(),g("ngIf",!r.sessionId),f(),g("ngIf",r.sessionId&&r.teams.length>0),f(),g("ngIf",r.isLoadingReport&&!r.report),f(),g("ngIf",r.report&&!r.isLoadingReport),f(),g("ngIf",!r.report&&!r.isLoadingReport&&r.selectedTeamId))},dependencies:[ne,ue,je,gt,Ir,ci,Qr,Ge,yt,vt,Xe,_t,lt],styles:[`.team-report-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem;color:#fff}.report-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.report-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem;font-weight:800;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.report-meta[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.badge[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600;border:1px solid rgba(255,255,255,.2)}.selection-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.selection-controls[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap;align-items:center;justify-content:space-between}.select-group[_ngcontent-%COMP%]{flex:1;min-width:250px;max-width:400px}.select-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:.5rem;font-weight:600}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;transition:all .3s ease}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}select[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}.loading-indicator[_ngcontent-%COMP%]{position:absolute;right:2.5rem;top:50%;transform:translateY(-50%);color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}.refresh-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.refresh-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc;font-size:.9rem;background:#ffffff1a;padding:.5rem 1rem;border-radius:20px;border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.refresh-status.refreshing[_ngcontent-%COMP%]{background:#3498db33;border-color:#3498db80;animation:_ngcontent-%COMP%_pulse 1s infinite}.refresh-now-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.3);padding:.5rem 1rem;border-radius:20px;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.refresh-now-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff3;transform:translateY(-2px)}.refresh-now-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.last-updated[_ngcontent-%COMP%]{margin-top:.5rem;color:#fff9;font-size:.8rem;font-style:italic;text-align:right}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.8}50%{opacity:1}to{opacity:.8}}@keyframes _ngcontent-%COMP%_spin{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;display:flex;align-items:center;gap:1.5rem;border:1px solid rgba(255,255,255,.2);transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:#ffffff1a;border-radius:12px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.2)}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;display:block;line-height:1;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:#fffc;font-size:.9rem}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:2rem;margin-bottom:3rem}.chart-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.2)}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.chart-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin:0;font-weight:600}.chart-legend[_ngcontent-%COMP%]{display:flex;gap:1rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc;font-size:.9rem}.chart-container[_ngcontent-%COMP%]{height:300px;width:100%}.swot-analysis[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;margin:2rem 0;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.swot-analysis[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.swot-container[_ngcontent-%COMP%]{position:relative}.swot-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-top:2rem;padding:1rem;background:#ffffff0d;border-radius:10px}.legend-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px}.legend-color.strength[_ngcontent-%COMP%]{background:#2ecc71cc}.legend-color.neutral[_ngcontent-%COMP%]{background:#ffa500cc}.legend-color.weakness[_ngcontent-%COMP%]{background:#ff6347cc}.team-members[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;margin-bottom:3rem;border:1px solid rgba(255,255,255,.2)}.team-members[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700}.table-container[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}th[_ngcontent-%COMP%]{font-weight:600;color:#fffc;background:#ffffff0d}td[_ngcontent-%COMP%]{color:#fff}.score[_ngcontent-%COMP%]{font-weight:600}.progress-bar[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:10px;height:20px;overflow:hidden}.progress[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;color:#fff;transition:width .3s ease}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:3rem}.action-btn[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:30px;font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .3s ease}.action-btn.primary[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none}.action-btn.secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid #FFFFFF}.action-btn.tertiary[_ngcontent-%COMP%]{background:transparent;color:#ffffffe6;border:none}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;margin:2rem 0;border:1px solid rgba(255,255,255,.2)}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}.no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;margin:2rem 0;border:1px solid rgba(255,255,255,.2)}.no-data-message[_ngcontent-%COMP%]{text-align:center}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#ffffff80;margin-bottom:1rem}.no-data-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:1rem}.no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:1.1rem;max-width:600px;margin:0 auto}@media (max-width: 1200px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.team-report-container[_ngcontent-%COMP%]{padding:1rem}.report-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.report-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.chart-card[_ngcontent-%COMP%]{padding:1.5rem}.actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.swot-legend[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 480px){.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.chart-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}`]})}}return t})();function JA(t,n){if(t&1&&(l(0,"span",3),u(1),c()),t&2){let e=_();f(),P("Teams: ",e.teams.length,"")}}function XA(t,n){if(t&1&&(l(0,"span",3),u(1),se(2,"date"),c()),t&2){let e=_();f(),P("Last Updated: ",Ke(2,1,e.lastRefreshTime,"shortTime"),"")}}function ek(t,n){if(t&1&&(l(0,"span"),u(1),c()),t&2){let e=_(2);f(),P("Auto-refreshing in ",e.getTimeUntilNextRefresh(),"")}}function tk(t,n){t&1&&(l(0,"span"),u(1,"Refreshing data..."),c())}function nk(t,n){if(t&1){let e=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),w(4,"i",13),E(5,ek,2,1,"span",8)(6,tk,2,0,"span",8),c(),l(7,"button",14),x("click",function(){y(e);let r=_();return v(r.manualRefresh())}),w(8,"i",15),u(9," Refresh Now "),c()()()()}if(t&2){let e=_();f(3),G("refreshing",e.showRefreshIndicator),f(),G("fa-sync-alt",!e.showRefreshIndicator)("fa-sync-alt",e.showRefreshIndicator)("fa-spin",e.showRefreshIndicator),f(),g("ngIf",!e.showRefreshIndicator),f(),g("ngIf",e.showRefreshIndicator),f(),g("disabled",e.isLoading)}}function ik(t,n){t&1&&(l(0,"div",16),w(1,"div",17),l(2,"p"),u(3,"Loading organization report..."),c()())}function rk(t,n){if(t&1&&(l(0,"div",18)(1,"div",19),w(2,"i",20),l(3,"h2"),u(4,"Error Loading Report"),c(),l(5,"p"),u(6),c()()()),t&2){let e=_();f(6),O(e.error)}}function ok(t,n){t&1&&(l(0,"div",18)(1,"div",19),w(2,"i",21),l(3,"h2"),u(4,"No Session Selected"),c(),l(5,"p"),u(6,"Please select a session to view the organization report."),c()()())}function sk(t,n){if(t&1&&(l(0,"div",23)(1,"div",24),w(2,"i",56),c(),l(3,"div",26)(4,"span",27),u(5),c(),l(6,"span",28),u(7,"Risk Factors"),c()()()),t&2){let e=_(2);f(5),O(e.riskAnalysis.medium_risk+e.riskAnalysis.high_risk)}}function ak(t,n){if(t&1&&(l(0,"div",33)(1,"div",34)(2,"h2"),u(3,"Risk Distribution"),c()(),l(4,"div",35),w(5,"div",36),c()()),t&2){let e=_(2);f(5),g("options",e.riskDistributionOption)}}function ck(t,n){if(t&1&&(l(0,"tr")(1,"td"),u(2),c(),l(3,"td")(4,"span",57),u(5),c()(),l(6,"td"),u(7),c(),l(8,"td"),u(9),c(),l(10,"td"),u(11),c()()),t&2){let e=n.$implicit,i=_(2);f(2),O(e.team_name),f(2),$e("color",i.getScoreColor(e.average_team_score)),f(),P(" ",e.average_team_score,"% "),f(2),P("",e.avg_response_time,"s"),f(2),O(e.completion_rate),f(2),P("",e.wrong_answer_percentage,"%")}}function lk(t,n){if(t&1&&(l(0,"div",64)(1,"div",65),w(2,"i",66),l(3,"h3"),u(4,"Strengths"),c()(),l(5,"p"),u(6),c()()),t&2){let e=_(3);f(6),O(e.report.strengths)}}function dk(t,n){if(t&1&&(l(0,"div",67)(1,"div",65),w(2,"i",68),l(3,"h3"),u(4,"Areas for Improvement"),c()(),l(5,"p"),u(6),c()()),t&2){let e=_(3);f(6),O(e.report.area_of_improvement)}}function uk(t,n){if(t&1&&(l(0,"div",69)(1,"div",65),w(2,"i",30),l(3,"h3"),u(4,"Recommended Actions"),c()(),l(5,"p"),u(6),c()()),t&2){let e=_(3);f(6),O(e.report.recommended_actions)}}function fk(t,n){if(t&1&&(l(0,"div",70)(1,"div",65),w(2,"i",71),l(3,"h3"),u(4,"References"),c()(),l(5,"p"),u(6),c()()),t&2){let e=_(3);f(6),O(e.report.references)}}function pk(t,n){if(t&1&&(l(0,"section",58)(1,"h2"),u(2,"Key Insights & Recommendations"),c(),l(3,"div",59),E(4,lk,7,1,"div",60)(5,dk,7,1,"div",61)(6,uk,7,1,"div",62)(7,fk,7,1,"div",63),c()()),t&2){let e=_(2);f(4),g("ngIf",e.report.strengths),f(),g("ngIf",e.report.area_of_improvement),f(),g("ngIf",e.report.recommended_actions),f(),g("ngIf",e.report.references)}}function hk(t,n){if(t&1){let e=N();l(0,"div")(1,"section",22)(2,"div",23)(3,"div",24),w(4,"i",25),c(),l(5,"div",26)(6,"span",27),u(7),se(8,"number"),c(),l(9,"span",28),u(10,"Overall Score"),c()()(),l(11,"div",23)(12,"div",24),w(13,"i",29),c(),l(14,"div",26)(15,"span",27),u(16),se(17,"number"),c(),l(18,"span",28),u(19,"Avg Response Time"),c()()(),l(20,"div",23)(21,"div",24),w(22,"i",30),c(),l(23,"div",26)(24,"span",27),u(25),se(26,"number"),c(),l(27,"span",28),u(28,"Completion Rate"),c()()(),E(29,sk,8,1,"div",31),c(),l(30,"section",32)(31,"div",33)(32,"div",34)(33,"h2"),u(34,"Team Performance Comparison"),c()(),l(35,"div",35),w(36,"div",36),c()(),E(37,ak,6,1,"div",37),l(38,"div",33)(39,"div",34)(40,"h2"),u(41,"NIST Framework Maturity"),c()(),l(42,"div",35),w(43,"div",36),c()(),l(44,"div",33)(45,"div",34)(46,"h2"),u(47,"Response Time Trends"),c()(),l(48,"div",35),w(49,"div",36),c()()(),l(50,"section",38)(51,"h2"),u(52,"SWOT Analysis"),c(),l(53,"div",39)(54,"div",35),w(55,"div",36),c(),l(56,"div",40)(57,"div",41),w(58,"div",42),l(59,"span"),u(60,"High Performance (80-100%)"),c()(),l(61,"div",41),w(62,"div",43),l(63,"span"),u(64,"Medium Performance (70-79%)"),c()(),l(65,"div",41),w(66,"div",44),l(67,"span"),u(68,"Needs Improvement (Below 70%)"),c()()()()(),l(69,"section",45)(70,"h2"),u(71,"Team Performance Details"),c(),l(72,"div",46)(73,"table")(74,"thead")(75,"tr")(76,"th"),u(77,"Team"),c(),l(78,"th"),u(79,"Score"),c(),l(80,"th"),u(81,"Response Time"),c(),l(82,"th"),u(83,"Completion Rate"),c(),l(84,"th"),u(85,"Wrong Answers"),c()()(),l(86,"tbody"),E(87,ck,12,7,"tr",47),c()()()(),E(88,pk,8,4,"section",48),l(89,"section",49)(90,"button",50),x("click",function(){y(e);let r=_();return v(r.downloadReport())}),w(91,"i",51),u(92," Download CSV Report "),c(),l(93,"button",52),x("click",function(){y(e);let r=_();return v(r.shareReport())}),w(94,"i",53),u(95," Share Report "),c(),l(96,"button",54),x("click",function(){y(e);let r=_();return v(r.downloadPDF())}),w(97,"i",55),u(98," Download PDF "),c()()()}if(t&2){let e=_();f(7),P("",Ke(8,11,e.getOverallScore(),"1.0-0"),"%"),f(9),P("",Ke(17,14,e.getAverageResponseTime(),"1.0-0"),"s"),f(9),P("",Ke(26,17,e.getCompletionRate(),"1.0-0"),"%"),f(4),g("ngIf",e.riskAnalysis),f(7),g("options",e.performanceChartOption),f(),g("ngIf",e.riskAnalysis),f(6),g("options",e.nistRadarChartOption),f(6),g("options",e.trendLineOption),f(6),g("options",e.swotHeatmapOption),f(32),g("ngForOf",e.teams),f(),g("ngIf",e.report.strengths||e.report.area_of_improvement||e.report.recommended_actions||e.report.references)}}var ch=(()=>{class t{constructor(e,i){this.http=e,this.route=i,this.teams=[],this.swotData=[],this.nistScores=[],this.riskAnalysis=null,this.sessionId=null,this.clientName="Organization",this.isLoading=!1,this.error=null,this.report=null,this.performanceChartOption={},this.riskDistributionOption={},this.nistRadarChartOption={},this.swotHeatmapOption={},this.trendLineOption={},this.refreshInterval=6e4,this.refreshSubscription=null,this.countdownSubscription=null,this.lastRefreshTime=null,this.nextRefreshTime=null,this.timeUntilNextRefresh=this.refreshInterval/1e3,this.showRefreshIndicator=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{this.sessionId=e.get("session_id"),this.sessionId&&(this.loadOrgReport(this.sessionId),this.startAutoRefresh())})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.refreshSubscription=bi(this.refreshInterval).subscribe(()=>{this.sessionId&&this.refreshData()}),this.startCountdown()}startCountdown(){this.countdownSubscription&&this.countdownSubscription.unsubscribe(),this.timeUntilNextRefresh=this.refreshInterval/1e3,this.countdownSubscription=Wt(0,1e3).subscribe(()=>{this.timeUntilNextRefresh>0&&this.timeUntilNextRefresh--})}stopAutoRefresh(){this.refreshSubscription&&(this.refreshSubscription.unsubscribe(),this.refreshSubscription=null),this.countdownSubscription&&(this.countdownSubscription.unsubscribe(),this.countdownSubscription=null)}refreshData(){!this.isLoading&&this.sessionId&&(console.log("Auto-refreshing organization report data..."),this.showRefreshIndicator=!0,this.loadOrgReport(this.sessionId,!0),this.updateRefreshTimes(),setTimeout(()=>{this.showRefreshIndicator=!1},2e3),this.startCountdown())}updateRefreshTimes(){this.lastRefreshTime=new Date,this.nextRefreshTime=new Date(this.lastRefreshTime.getTime()+this.refreshInterval)}getTimeUntilNextRefresh(){return`${this.timeUntilNextRefresh}s`}loadOrgReport(e,i=!1){i||(this.isLoading=!0),this.error=null,this.http.get(`https://esflabs.ai/ttx/reports/client/session/${e}`).subscribe({next:r=>{this.report=r,this.teams=r.team_performance,this.swotData=r.swot_analysis,this.nistScores=r.nist_coverage,this.riskAnalysis=r.risk_analysis[0],setTimeout(()=>{this.initializeCharts(),this.isLoading=!1},300)},error:r=>{console.error("Error loading organization report:",r),this.error="Failed to load organization report. Please try again.",this.isLoading=!1}})}getOverallScore(){return!this.teams||this.teams.length===0?0:this.teams.reduce((e,i)=>e+i.average_team_score,0)/this.teams.length}getAverageResponseTime(){return!this.teams||this.teams.length===0?0:this.teams.reduce((e,i)=>e+i.avg_response_time,0)/this.teams.length}getCompletionRate(){return!this.teams||this.teams.length===0?0:this.teams.reduce((e,i)=>e+parseFloat(i.completion_rate.replace("%","")),0)/this.teams.length}getTotalMembers(){return this.teams.length*5}getRiskColor(e){switch(e.toLowerCase()){case"low":return"#2ecc71";case"medium":return"#f1c40f";case"high":return"#e74c3c";default:return"#95a5a6"}}getScoreColor(e){return e>=90?"#2ecc71":e>=80?"#3498db":e>=70?"#f1c40f":e>=60?"#e67e22":"#e74c3c"}manualRefresh(){this.sessionId&&this.refreshData()}downloadReport(){if(!this.report)return;let e=this.generateCSVContent(),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),o=URL.createObjectURL(i);r.setAttribute("href",o),r.setAttribute("download",`Organization_Report_${this.sessionId}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}generateCSVContent(){if(!this.report)return"";let e=[];return e.push("Organization Performance Report"),e.push(`Session ID: ${this.sessionId}`),e.push(`Generated on: ${new Date().toLocaleString()}`),e.push(""),e.push("Summary Statistics"),e.push(`Overall Score,${this.getOverallScore().toFixed(2)}%`),e.push(`Average Response Time,${this.getAverageResponseTime().toFixed(2)}s`),e.push(`Completion Rate,${this.getCompletionRate().toFixed(2)}%`),e.push(""),e.push("Team Performance"),e.push("Team Name,Average Score,Response Time,Completion Rate,Wrong Answer %"),this.teams.forEach(i=>{e.push(`${i.team_name},${i.average_team_score}%,${i.avg_response_time}s,${i.completion_rate},${i.wrong_answer_percentage}%`)}),e.push(""),this.riskAnalysis&&(e.push("Risk Analysis"),e.push(`Low Risk,${this.riskAnalysis.low_risk}`),e.push(`Medium Risk,${this.riskAnalysis.medium_risk}`),e.push(`High Risk,${this.riskAnalysis.high_risk}`),e.push("")),e.push("NIST Framework Coverage"),e.push("Framework,Total Questions,Correct Answers,Coverage Percentage"),this.nistScores.forEach(i=>{let r=i.total_questions>0?i.correct_answers/i.total_questions*100:0;e.push(`${i.nist_phase},${i.total_questions},${i.correct_answers},${r.toFixed(2)}%`)}),e.push(""),e.push("SWOT Analysis"),e.push("Team,Strengths Score,Weaknesses Score,Opportunities Score,Threats Score"),this.swotData.forEach(i=>{e.push(`${i.team_name},${i.strength_score}%,${i.weakness_score}%,${i.opportunity_score}%,${i.threat_score}%`)}),this.report.strengths&&(e.push(""),e.push("Strengths"),e.push(this.report.strengths)),this.report.area_of_improvement&&(e.push(""),e.push("Areas for Improvement"),e.push(this.report.area_of_improvement)),this.report.recommended_actions&&(e.push(""),e.push("Recommended Actions"),e.push(this.report.recommended_actions)),this.report.references&&(e.push(""),e.push("References"),e.push(this.report.references)),e.join(`
`)}downloadPDF(){alert("PDF download functionality would be implemented here with a PDF generation library.")}shareReport(){let e=window.location.href,i=document.createElement("input");document.body.appendChild(i),i.value=e,i.select(),document.execCommand("copy"),document.body.removeChild(i),alert("Report URL copied to clipboard! You can now share this link.")}initializeCharts(){if(!this.teams.length||!this.nistScores.length||!this.swotData.length)return;let e={color:"#FFFFFF",fontSize:12,fontWeight:500},i={axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},axisLabel:{color:"#FFFFFF"}};if(this.performanceChartOption={backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:B(S({type:"category",data:this.teams.map(s=>s.team_name)},i),{axisLabel:B(S({},i.axisLabel),{rotate:45,interval:0})}),yAxis:B(S({type:"value",name:"Score"},i),{max:100}),series:[{name:"Performance Score",type:"bar",data:this.teams.map(s=>({value:s.average_team_score,itemStyle:{color:this.getScoreColor(s.average_team_score)}})),barWidth:"40%",label:{show:!0,position:"top",color:"#FFFFFF",fontSize:12}}]},this.riskAnalysis){let s=[{value:this.riskAnalysis.low_risk,name:"Low Risk",itemStyle:{color:"#2ecc71"}},{value:this.riskAnalysis.medium_risk,name:"Medium Risk",itemStyle:{color:"#f1c40f"}},{value:this.riskAnalysis.high_risk,name:"High Risk",itemStyle:{color:"#e74c3c"}}];this.riskDistributionOption={backgroundColor:"transparent",tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)",backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},legend:{orient:"vertical",right:"5%",top:"center",textStyle:{color:"#FFFFFF"}},series:[{name:"Risk Distribution",type:"pie",radius:["50%","70%"],center:["40%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#FFFFFF",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold",color:"#FFFFFF"}},data:s}]}}this.nistRadarChartOption={backgroundColor:"transparent",tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},radar:[{indicator:this.nistScores.map(s=>({text:s.nist_phase,max:100})),center:["50%","50%"],radius:"70%",splitNumber:5,shape:"circle",axisName:{color:"#FFFFFF",fontSize:12,fontWeight:500},splitArea:{areaStyle:{color:["rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}}}],series:[{type:"radar",data:[{value:this.nistScores.map(s=>s.total_questions>0?s.correct_answers/s.total_questions*100:0),name:"Organization Score",areaStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"rgba(52, 152, 219, 0.7)"},{offset:1,color:"rgba(52, 152, 219, 0.3)"}]}},lineStyle:{width:3,color:"#3498db"},itemStyle:{color:"#3498db"}}]}]};let r=["Strengths","Weaknesses","Opportunities","Threats"],o=[];this.swotData.forEach((s,a)=>{o.push([0,a,s.strength_score]),o.push([1,a,s.weakness_score]),o.push([2,a,s.opportunity_score]),o.push([3,a,s.threat_score])}),this.swotHeatmapOption={backgroundColor:"transparent",tooltip:{position:"top",formatter:s=>{let a=s.data[0],d=s.data[1],p=s.data[2],h=this.swotData[d].team_name,m=r[a];return`
            <div style="padding: 8px;">
              <strong>${h}</strong><br/>
              <strong>${m}</strong><br/>
              Score: ${p}%
            </div>
          `},backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:{color:"#FFFFFF",fontSize:12}},grid:{top:"10%",bottom:"15%",left:"15%",right:"10%",containLabel:!0},xAxis:{type:"category",data:r,splitArea:{show:!0,areaStyle:{color:["rgba(255, 255, 255, 0.02)","rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisLabel:{color:"#FFFFFF",fontSize:12,fontWeight:"bold"}},yAxis:{type:"category",data:this.swotData.map(s=>s.team_name),splitArea:{show:!0,areaStyle:{color:["rgba(255, 255, 255, 0.02)","rgba(255, 255, 255, 0.05)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"}},axisLabel:{color:"#FFFFFF",fontSize:12}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"0%",textStyle:{color:"#FFFFFF"},inRange:{color:["rgba(255, 99, 71, 0.8)","rgba(255, 165, 0, 0.8)","rgba(46, 204, 113, 0.8)"]}},series:[{name:"SWOT Analysis",type:"heatmap",data:o,label:{show:!0,color:"#FFFFFF",fontSize:12,formatter:s=>`${s.data[2]}%`},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.trendLineOption={backgroundColor:"transparent",tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"rgba(255, 255, 255, 0.2)",textStyle:e},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:B(S({type:"category",data:this.teams.map(s=>s.team_name)},i),{axisLabel:B(S({},i.axisLabel),{rotate:45,interval:0})}),yAxis:S({type:"value",name:"Response Time (s)"},i),series:[{name:"Average Response Time",type:"line",smooth:!0,data:this.teams.map(s=>s.avg_response_time),lineStyle:{width:4,color:"#3498db"},itemStyle:{color:"#3498db",borderWidth:2,borderColor:"#FFFFFF"},areaStyle:{color:new gi.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(52, 152, 219, 0.5)"},{offset:1,color:"rgba(52, 152, 219, 0.1)"}])},symbol:"circle",symbolSize:8}]}}static{this.\u0275fac=function(i){return new(i||t)(R(nn),R(Qe))}}static{this.\u0275cmp=X({type:t,selectors:[["app-org-report"]],standalone:!0,features:[ee],decls:14,vars:8,consts:[[1,"org-report-container"],[1,"report-header"],[1,"report-meta"],[1,"badge"],["class","badge",4,"ngIf"],["class","selection-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","no-data-container",4,"ngIf"],[4,"ngIf"],[1,"selection-container"],[1,"selection-controls"],[1,"refresh-info"],[1,"refresh-status"],[1,"fas"],[1,"refresh-now-btn",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"loading-container"],[1,"spinner"],[1,"no-data-container"],[1,"no-data-message"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"summary-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-star"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-clock"],[1,"fas","fa-tasks"],["class","stat-card",4,"ngIf"],[1,"charts-grid"],[1,"chart-card"],[1,"chart-header"],[1,"chart-container"],["echarts","",1,"chart",3,"options"],["class","chart-card",4,"ngIf"],[1,"swot-analysis"],[1,"swot-container"],[1,"swot-legend"],[1,"legend-item"],[1,"legend-color","strength"],[1,"legend-color","neutral"],[1,"legend-color","weakness"],[1,"team-details"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","key-insights",4,"ngIf"],[1,"actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-download"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-share"],[1,"action-btn","tertiary",3,"click"],[1,"fas","fa-file-pdf"],[1,"fas","fa-shield-alt"],[1,"score"],[1,"key-insights"],[1,"insights-grid"],["class","insight-card strength",4,"ngIf"],["class","insight-card improvement",4,"ngIf"],["class","insight-card action",4,"ngIf"],["class","insight-card resources",4,"ngIf"],[1,"insight-card","strength"],[1,"card-header"],[1,"fas","fa-check-circle"],[1,"insight-card","improvement"],[1,"fas","fa-arrow-up"],[1,"insight-card","action"],[1,"insight-card","resources"],[1,"fas","fa-book"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"header",1)(2,"h1"),u(3,"Organization Performance Report"),c(),l(4,"div",2)(5,"span",3),u(6),c(),E(7,JA,2,1,"span",4)(8,XA,3,4,"span",4),c()(),E(9,nk,10,11,"div",5)(10,ik,4,0,"div",6)(11,rk,7,1,"div",7)(12,ok,7,0,"div",7)(13,hk,99,20,"div",8),c()),i&2&&(f(6),P("Session ID: ",r.sessionId||"Not Selected",""),f(),g("ngIf",r.teams.length>0),f(),g("ngIf",r.lastRefreshTime),f(),g("ngIf",r.sessionId&&r.report),f(),g("ngIf",r.isLoading),f(),g("ngIf",r.error),f(),g("ngIf",!r.sessionId&&!r.isLoading&&!r.error),f(),g("ngIf",r.report&&!r.isLoading&&!r.error))},dependencies:[ne,ue,je,gt,Ir,ci,Qr],styles:[`.org-report-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#2c3e50,#3498db);padding:2rem;color:#fff}.report-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.report-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem;font-weight:800;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.report-meta[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:600;border:1px solid rgba(255,255,255,.2)}.selection-container[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;margin-bottom:2rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 15px #0000001a}.selection-controls[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap;align-items:center;justify-content:space-between}.select-group[_ngcontent-%COMP%]{flex:1;min-width:250px;max-width:400px}.select-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#fff;margin-bottom:.5rem;font-weight:600}.select-wrapper[_ngcontent-%COMP%]{position:relative}select[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:8px;color:#fff;font-size:1rem;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;transition:all .3s ease}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fff;box-shadow:0 0 0 3px #fff3}select[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}.loading-indicator[_ngcontent-%COMP%]{position:absolute;right:2.5rem;top:50%;transform:translateY(-50%);color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite}.refresh-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.refresh-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc;font-size:.9rem;background:#ffffff1a;padding:.5rem 1rem;border-radius:20px;border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.refresh-status.refreshing[_ngcontent-%COMP%]{background:#3498db33;border-color:#3498db80;animation:_ngcontent-%COMP%_pulse 1s infinite}.refresh-now-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.3);padding:.5rem 1rem;border-radius:20px;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.refresh-now-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fff3;transform:translateY(-2px)}.refresh-now-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.last-updated[_ngcontent-%COMP%]{margin-top:.5rem;color:#fff9;font-size:.8rem;font-style:italic;text-align:right}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.8}50%{opacity:1}to{opacity:.8}}@keyframes _ngcontent-%COMP%_spin{0%{transform:translateY(-50%) rotate(0)}to{transform:translateY(-50%) rotate(360deg)}}.summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;display:flex;align-items:center;gap:1.5rem;border:1px solid rgba(255,255,255,.2);transition:transform .3s ease;height:100%}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;min-width:50px;background:#ffffff1a;border-radius:12px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.2)}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.stat-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;display:block;line-height:1;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:#fffc;font-size:.9rem}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:2rem;margin-bottom:3rem}.chart-card[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.2);height:400px;display:flex;flex-direction:column}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.chart-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin:0;font-weight:600}.chart-legend[_ngcontent-%COMP%]{display:flex;gap:1rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc;font-size:.9rem}.chart-container[_ngcontent-%COMP%]{flex:1;position:relative;width:100%;min-height:300px}.chart[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%!important;height:100%!important}.swot-analysis[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;margin:2rem 0;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.swot-analysis[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.swot-container[_ngcontent-%COMP%]{position:relative;height:400px}.swot-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-top:2rem;padding:1rem;background:#ffffff0d;border-radius:10px;flex-wrap:wrap}.legend-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px;flex-shrink:0}.legend-color.strength[_ngcontent-%COMP%]{background:#2ecc71cc}.legend-color.neutral[_ngcontent-%COMP%]{background:#ffa500cc}.legend-color.weakness[_ngcontent-%COMP%]{background:#ff6347cc}.team-details[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;margin-bottom:3rem;border:1px solid rgba(255,255,255,.2)}.team-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin:0 -1rem;padding:0 1rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:650px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}th[_ngcontent-%COMP%]{font-weight:600;color:#fffc;background:#ffffff0d;position:sticky;top:0;z-index:10}td[_ngcontent-%COMP%]{color:#fff}.score[_ngcontent-%COMP%]{font-weight:600}.progress-bar[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:10px;height:20px;overflow:hidden}.progress[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;color:#fff;transition:width .3s ease}.key-insights[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:2rem;margin-bottom:3rem;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px #0000001a}.key-insights[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.insight-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:15px;padding:1.5rem;border:1px solid rgba(255,255,255,.2);transition:transform .3s ease}.insight-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;color:#fff;font-weight:600}.insight-card.strength[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2ecc71}.insight-card.improvement[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f39c12}.insight-card.action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.insight-card.resources[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9b59b6}.insight-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;line-height:1.6;margin:0}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:3rem;flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:30px;font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:.5rem;cursor:pointer;transition:all .3s ease;min-width:200px;justify-content:center}.action-btn.primary[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:none}.action-btn.secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid #FFFFFF}.action-btn.tertiary[_ngcontent-%COMP%]{background:transparent;color:#ffffffe6;border:none}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;margin:2rem 0;border:1px solid rgba(255,255,255,.2);min-height:300px}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}.no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;margin:2rem 0;border:1px solid rgba(255,255,255,.2);min-height:300px}.no-data-message[_ngcontent-%COMP%]{text-align:center}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#ffffff80;margin-bottom:1rem}.no-data-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;margin-bottom:1rem}.no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:1.1rem;max-width:600px;margin:0 auto}@media (max-width: 1200px){.charts-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.org-report-container[_ngcontent-%COMP%]{padding:1rem}.report-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.report-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;align-items:center}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.chart-card[_ngcontent-%COMP%]{padding:1.5rem;height:350px}.chart-container[_ngcontent-%COMP%]{min-height:250px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.action-btn[_ngcontent-%COMP%]{width:100%;max-width:300px}.swot-legend[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.swot-container[_ngcontent-%COMP%]{height:350px}.key-insights[_ngcontent-%COMP%]{padding:1.5rem}.insight-card[_ngcontent-%COMP%]{padding:1.2rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.chart-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.chart-card[_ngcontent-%COMP%]{height:300px}.chart-container[_ngcontent-%COMP%]{min-height:200px}.swot-container[_ngcontent-%COMP%]{height:300px}.team-details[_ngcontent-%COMP%]{padding:1.5rem 1rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.75rem .5rem;font-size:.9rem}.insight-card[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]{gap:.5rem}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.insight-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}`]})}}return t})();var ub=[{path:"",component:qy},{path:"login/session/:session_id",component:_v},{path:"exercise/session/:user_session_id",component:Cv},{path:"results/session/:session_id",component:wv},{path:"observer",component:xv},{path:"live",component:Xv},{path:"admin",component:lb},{path:"pre-onboarding",component:db},{path:"team-report",component:ah},{path:"team-report/session/:session_id",component:ah},{path:"org-report",component:ch},{path:"org-report/session/:session_id",component:ch}];var mk=(()=>{class t{constructor(){this.name="CyberDharshinik"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=X({type:t,selectors:[["app-root"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(i,r){i&1&&w(0,"router-outlet")},dependencies:[cp,ne],encapsulation:2})}}return t})();Q_(mk,{providers:[Vy(ub,$y()),B_(),mu(ci.forRoot({echarts:()=>import("./chunk-OAGI5DGI.js")}))]}).catch(t=>console.error(t));export{mk as App};
